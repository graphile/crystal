<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-operation-plan">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Operation plan | Grafast</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://grafast.org/grafast/operation-plan"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Operation plan | Grafast"><meta data-rh="true" name="description" content="If you&#x27;re unfamiliar with GraphQL terminology such as &quot;selection set&quot;, &quot;field&quot;,"><meta data-rh="true" property="og:description" content="If you&#x27;re unfamiliar with GraphQL terminology such as &quot;selection set&quot;, &quot;field&quot;,"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://grafast.org/grafast/operation-plan"><link data-rh="true" rel="alternate" href="https://grafast.org/grafast/operation-plan" hreflang="en"><link data-rh="true" rel="alternate" href="https://grafast.org/grafast/operation-plan" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://G81R3UYS9Q-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Grafast" href="/opensearch.xml">


<link rel="alternate" type="application/rss+xml" href="/news/rss.xml" title="Grafast RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/news/atom.xml" title="Grafast Atom Feed"><link rel="stylesheet" href="/assets/css/styles.8cd52a68.css">
<link rel="preload" href="/assets/js/runtime~main.f86d0f08.js" as="script">
<link rel="preload" href="/assets/js/main.60ddd26c.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_G6ar" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_ncOr" role="banner"><div class="content_L1uV announcementBarContent__57G"><a href="/caveats">Read the pre-release caveats!</a> Documentation is not complete; PRs welcome ♥</div></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/grafast-exclamation.svg" alt="Grafast Logo" class="themedImage_RWGG themedImage--light_riBm"><img src="/img/grafast-exclamation.svg" alt="Grafast Logo" class="themedImage_RWGG themedImage--dark_Dsi0"></div><b class="navbar__title text--truncate">Home</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/grafast/">Gra<em>fast</em></a><a class="navbar__item navbar__link" href="/grafserv/">Grafserv</a><a class="navbar__item navbar__link" href="/ruru/">Ruru</a><a class="navbar__item navbar__link" href="/playground">Playground</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/news">News</a><a class="navbar__item navbar__link" href="/sponsor">Sponsor</a><a href="https://github.com/grafast/wg" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">WG<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/graphile/crystal/tree/main/grafast/grafast/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_OLSw colorModeToggle_Hg9V"><button class="clean-btn toggleButton_wYmb toggleButtonDisabled_vaDU" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_Sxwe"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_Yem1"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_xrOJ"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_UyTV docsWrapper_BqXd"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_z1FD" type="button"></button><div class="docPage_pOTq"><aside class="theme-doc-sidebar-container docSidebarContainer_aIKW"><div class="sidebarViewport_DwR9"><div class="sidebar_vJCc"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_qiME menuWithAnnouncementBar_hRfJ"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/grafast/">Grafast Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/grafast/getting-started/">Getting started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/grafast/servers">Servers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/grafast/plan-resolvers">Plan resolvers</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/grafast/step-library/">Step library</a><button aria-label="Toggle the collapsible sidebar category &#x27;Step library&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/grafast/step-classes">Step classes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/grafast/request-overview">Request overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/grafast/operation-plan">Operation plan</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/grafast/access-control">Access control</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/grafast/plan-diagrams">Plan diagrams</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/grafast/polymorphism">Polymorphism</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/grafast/production-considerations">Production Considerations</a></li></ul></nav></div></div></aside><main class="docMainContainer_fv3b"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_YAwJ"><div class="docItemContainer_Rv5Z"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_zCmv" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_JFrk"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Operation plan</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_O_Qc theme-doc-toc-mobile tocMobile_tjDr"><button type="button" class="clean-btn tocCollapsibleButton_htYj">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Operation plan</h1><div class="theme-admonition theme-admonition-tip alert alert--success admonition_qNG0"><div class="admonitionHeading_l909"><span class="admonitionIcon_UNbs"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_oUmQ"><p>If you&#x27;re unfamiliar with GraphQL terminology such as &quot;selection set&quot;, &quot;field&quot;,
&quot;type&quot; and so on, please check out our
<a href="https://learn.graphile.org/docs/GraphQL_Operation_Cheatsheet.pdf" target="_blank" rel="noopener noreferrer">Operation Language</a>
and
<a href="https://learn.graphile.org/docs/GraphQL_Schema_Language_Cheatsheet.pdf" target="_blank" rel="noopener noreferrer">Schema Language</a>
cheatsheets.</p></div></div><p>When <!-- -->Gra<i>fast</i> sees an operation for the first time, it builds an <em>operation
plan</em>, which is the combination of an <a href="#execution-plan"><strong>execution plan</strong></a> and
an <a href="#output-plan"><strong>output plan</strong></a>. To do so, it walks the selection sets
calling the user-provided <code>plan</code> method for each field to determine the <em>steps</em>
that need to be executed for that field. That series of steps, which we&#x27;ll call
the <em>field plan</em>, is then woven with all the other field plans in the
operation, to form a directed acyclic graph we call the <em>execution plan</em>.
Whilst doing this, <!-- -->Gra<i>fast</i> keeps track of which fields returned which
steps, and uses this information to form the <em>output plan</em>. Finally the
<em>execution plan</em> is optimized and finalized and the <em>output plan</em> is finalized,
then they are ready for execution.</p><p>A simplified version of the process is this:</p><ol><li>Start at the root selection set.</li><li>For each field in the current selection set:<ol><li>Call field <a href="/grafast/plan-resolvers">plan resolver</a></li><li>Call any uncalled <a href="/grafast/plan-resolvers#applyplan-plan-resolvers">argument applyPlan resolvers</a></li><li><strong>Deduplicate</strong> new steps</li><li>Repeat step 2 using the field&#x27;s selection set (if any)</li></ol></li><li><strong>Tree shake</strong></li><li><strong>Optimise</strong></li><li><strong>Tree shake</strong></li><li><strong>Finalise</strong></li></ol><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="execution-plan">Execution plan<a href="#execution-plan" class="hash-link" aria-label="Direct link to Execution plan" title="Direct link to Execution plan">​</a></h2><p>The <em>execution plan</em> is (generally<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>) asynchronous. It is responsible for
fetching all the data required by the operation in as efficient a manner as
possible, and can evolve quite significantly as a result of deduplication, tree
shaking and optimization.</p><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="output-plan">Output plan<a href="#output-plan" class="hash-link" aria-label="Direct link to Output plan" title="Direct link to Output plan">​</a></h2><p>The data fetched by the execution plan will not be in any particular format,
and may have been significantly deduplicated and simplified as part of the
operations. The <em>output plan</em> is responsible for taking this bundle of data and
formatting it back out as a valid GraphQL response, including serializing all
the leaves correctly and handling nulls and errors following the GraphQL
specification. The output plan always runs synchronously, though in streaming
situations such as GraphQL subscriptions or incremental delivery
(<code>@stream</code>/<code>@defer</code>) part of the output plan may be executed for each payload
in the underlying stream.</p><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="constraints">Constraints<a href="#constraints" class="hash-link" aria-label="Direct link to Constraints" title="Direct link to Constraints">​</a></h2><p>Whilst <!-- -->Gra<i>fast</i> is building the operation plan, it may also determined
particular constraints that govern whether the operation plan may be used for a
future request or not. For example, if the request contains
<code>@skip(if: $variable)</code> then a different operation plan would be needed depending
on whether <code>$variable</code> was <code>true</code> or <code>false</code>. Where possible, constraints are
kept as narrow as possible - for example &quot;variable
$foo is a list&quot; is preferred over &quot;variable
$foo is the list <!-- -->[1,2,3]<!-- -->&quot; - to
maximize reuse.</p><p>When an operation is seen a future time, <!-- -->Gra<i>fast</i> first looks for an existing
operation plan whose constraints fit the request before falling back to creating
a new operation plan.</p><h2 class="anchor anchorWithStickyNavbar_fF9Z" id="lifecycle-events">Lifecycle events<a href="#lifecycle-events" class="hash-link" aria-label="Direct link to Lifecycle events" title="Direct link to Lifecycle events">​</a></h2><h3 class="anchor anchorWithStickyNavbar_fF9Z" id="deduplicate">Deduplicate<a href="#deduplicate" class="hash-link" aria-label="Direct link to Deduplicate" title="Direct link to Deduplicate">​</a></h3><p>Once a field is fully planned, <!-- -->Gra<i>fast</i> will <em>deduplicate</em> the new steps it
has produced, attempting to replace them with existing &quot;peer&quot; steps that already
existed. These &quot;peer&quot; steps will have been constructed via the same step class,
and will have the same dependencies. By deduplicating at this stage (before
planning the child selection set) we help to ensure that the schema remains in
adherence to the GraphQL specification. Deduplication can reduce the number of
steps in the plan, leading to greater efficiency (and easier to understand
plans).</p><h3 class="anchor anchorWithStickyNavbar_fF9Z" id="tree-shake">Tree shake<a href="#tree-shake" class="hash-link" aria-label="Direct link to Tree shake" title="Direct link to Tree shake">​</a></h3><p>Once every selection set has been fully visited and every field has been
planned, the execution plan is complete.</p><p>​<!-- -->Gra<i>fast</i> then walks through the output plans, their required steps and those
steps dependencies (and their dependencies and so on), marking them as active.
Any step that is not active is &quot;unreachable&quot; and thus is no longer needed,
therefore it can be be removed from the execution plan.</p><p>Certain steps are immune to tree shaking (they&#x27;re seen as always active), in
particular these include certain system steps, and any step that has side
effects.</p><h3 class="anchor anchorWithStickyNavbar_fF9Z" id="optimize">Optimize<a href="#optimize" class="hash-link" aria-label="Direct link to Optimize" title="Direct link to Optimize">​</a></h3><p>Once the execution plan is complete and the unnecessary steps have been tree
shaken away, <!-- -->Gra<i>fast</i> optimizes the plan by calling the <code>optimize</code> lifecycle
method on each step that supports it. This gives each step a chance to replace
themselves with more optimal forms by inspecting and interacting with their
ancestors.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_qNG0"><div class="admonitionHeading_l909"><span class="admonitionIcon_UNbs"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_oUmQ"><p>For example if a &quot;first&quot; step is to optimize itself, and its parent is a &quot;list&quot;
step, then it can simply replace itself with the first entry in the list of
plans the &quot;list&quot; step contains. More advanced examples may include topics such
as joining tables in a database, or adding selection sets to a remote GraphQL
operation.</p></div></div><p>The optimize method is called starting with the dependencies (leaves) and
working its way up the dependents (trunk) of the execution plan&#x27;s directed
acyclic graph. Since plans should only talk to their ancestors (and not their
descendents) during optimize, this ensures that their dependencies remain what
the class expects until after it is optimized.</p><p>Once optimization is complete, <!-- -->Gra<i>fast</i> tree shakes again to remove any
unnecessary steps from the execution plan.</p><h3 class="anchor anchorWithStickyNavbar_fF9Z" id="finalize">Finalize<a href="#finalize" class="hash-link" aria-label="Direct link to Finalize" title="Direct link to Finalize">​</a></h3><p>​<!-- -->Gra<i>fast</i> then finalizes the plan by calling the <code>finalize</code> method on steps
that support it. This gives each step a chance to do work that need only be done
once, for example:</p><ul><li>a step that talks to a database might compile the SQL it needs and cache it
for later</li><li>a step that performs templating may build an optimized template function</li><li>etc</li></ul><h3 class="anchor anchorWithStickyNavbar_fF9Z" id="output-plan-finalize">Output plan finalize<a href="#output-plan-finalize" class="hash-link" aria-label="Direct link to Output plan finalize" title="Direct link to Output plan finalize">​</a></h3><p>Finally, the output plans are finalized, building optimized output functions and
referencing the latest optimized steps.</p><div class="footnotes"><hr><ol><li id="fn-1">If the execution plan contains no asynchronous steps, then it can be
executed synchronously. This is rare, though, as typically it will contain
steps that fetch data from remote data sources such as databases or web
services.<a href="#fnref-1" class="footnote-backref">↩</a></li></ol></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/graphile/crystal/tree/main/grafast/website/grafast/operation-plan.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_UohW" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_T23F"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/grafast/request-overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Request overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/grafast/access-control"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Access control</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_TN1Q thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#execution-plan" class="table-of-contents__link toc-highlight">Execution plan</a></li><li><a href="#output-plan" class="table-of-contents__link toc-highlight">Output plan</a></li><li><a href="#constraints" class="table-of-contents__link toc-highlight">Constraints</a></li><li><a href="#lifecycle-events" class="table-of-contents__link toc-highlight">Lifecycle events</a><ul><li><a href="#deduplicate" class="table-of-contents__link toc-highlight">Deduplicate</a></li><li><a href="#tree-shake" class="table-of-contents__link toc-highlight">Tree shake</a></li><li><a href="#optimize" class="table-of-contents__link toc-highlight">Optimize</a></li><li><a href="#finalize" class="table-of-contents__link toc-highlight">Finalize</a></li><li><a href="#output-plan-finalize" class="table-of-contents__link toc-highlight">Output plan finalize</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/grafast">Gra<em>fast</em></a></li><li class="footer__item"><a class="footer__link-item" href="/grafserv/">Grafserv</a></li><li class="footer__item"><a class="footer__link-item" href="/ruru/">Ruru</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/graphile" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/GraphileHQ" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/graphile/crystal" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Graphile Ltd. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.f86d0f08.js"></script>
<script src="/assets/js/main.60ddd26c.js"></script>
</body>
</html>