%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef unbatchedplan fill:#dff,stroke-width:1px,color:#000
    classDef sideeffectplan fill:#fcc,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left


    %% plan dependencies
    Object11{{"Object[11∈0] ➊<br />ᐸ{pgSettings,withPgClient}ᐳ"}}:::plan
    Access9{{"Access[9∈0] ➊<br />ᐸ2.pgSettingsᐳ"}}:::plan
    Access10{{"Access[10∈0] ➊<br />ᐸ2.withPgClientᐳ"}}:::plan
    Access9 & Access10 --> Object11
    __Value2["__Value[2∈0] ➊<br />ᐸcontextᐳ"]:::plan
    __Value2 --> Access9
    __Value2 --> Access10
    Lambda135{{"Lambda[135∈0] ➊<br />ᐸcalculateLimitAndOffsetSQLᐳ"}}:::plan
    Constant299{{"Constant[299∈0] ➊<br />ᐸ[Object: null prototype] {   cursorLower: null,   cursorUppeᐳ"}}:::plan
    Constant299 --> Lambda135
    __Value4["__Value[4∈0] ➊<br />ᐸrootValueᐳ"]:::plan
    Constant6{{"Constant[6∈0] ➊<br />ᐸ2ᐳ"}}:::plan
    Constant7{{"Constant[7∈0] ➊<br />ᐸ'Computed post ꖛ1'ᐳ"}}:::plan
    Constant13{{"Constant[13∈0] ➊<br />ᐸ'Computed post ꖛ2'ᐳ"}}:::plan
    Constant19{{"Constant[19∈0] ➊<br />ᐸ'Computed post ꖛ3'ᐳ"}}:::plan
    PgSelect8[["PgSelect[8∈1] ➊<br />ᐸrelational_posts(mutation)ᐳ"]]:::sideeffectplan
    Object11 & Constant6 & Constant7 & Lambda135 --> PgSelect8
    PgSelect14[["PgSelect[14∈1] ➊<br />ᐸrelational_posts(mutation)ᐳ"]]:::sideeffectplan
    Object11 & Constant6 & Constant13 & Lambda135 --> PgSelect14
    PgSelect20[["PgSelect[20∈1] ➊<br />ᐸrelational_posts(mutation)ᐳ"]]:::sideeffectplan
    Object11 & Constant6 & Constant19 & Lambda135 --> PgSelect20
    First24{{"First[24∈1] ➊"}}:::plan
    PgSelect20 --> First24
    PgSelectSingle25{{"PgSelectSingle[25∈1] ➊<br />ᐸrelational_postsᐳ"}}:::plan
    First24 --> PgSelectSingle25
    PgClassExpression26{{"PgClassExpression[26∈1] ➊<br />ᐸ__relational_posts__ᐳ"}}:::plan
    PgSelectSingle25 --> PgClassExpression26
    PgSelect28[["PgSelect[28∈2] ➊<br />ᐸrelational_itemsᐳ"]]:::plan
    Constant296{{"Constant[296∈2] ➊<br />ᐸ1000000ᐳ"}}:::plan
    Object11 & Constant296 & Lambda135 --> PgSelect28
    PgSelect63[["PgSelect[63∈2] ➊<br />ᐸrelational_itemsᐳ"]]:::plan
    Constant297{{"Constant[297∈2] ➊<br />ᐸ1000001ᐳ"}}:::plan
    Object11 & Constant297 & Lambda135 --> PgSelect63
    PgSelect96[["PgSelect[96∈2] ➊<br />ᐸrelational_itemsᐳ"]]:::plan
    Constant298{{"Constant[298∈2] ➊<br />ᐸ1000002ᐳ"}}:::plan
    Object11 & Constant298 & Lambda135 --> PgSelect96
    First32{{"First[32∈2] ➊"}}:::plan
    PgSelect28 --> First32
    PgSelectSingle33{{"PgSelectSingle[33∈2] ➊<br />ᐸrelational_itemsᐳ"}}:::plan
    First32 --> PgSelectSingle33
    First65{{"First[65∈2] ➊"}}:::plan
    PgSelect63 --> First65
    PgSelectSingle66{{"PgSelectSingle[66∈2] ➊<br />ᐸrelational_itemsᐳ"}}:::plan
    First65 --> PgSelectSingle66
    First98{{"First[98∈2] ➊"}}:::plan
    PgSelect96 --> First98
    PgSelectSingle99{{"PgSelectSingle[99∈2] ➊<br />ᐸrelational_itemsᐳ"}}:::plan
    First98 --> PgSelectSingle99
    PgPolymorphic35{{"PgPolymorphic[35∈3] ➊"}}:::plan
    PgClassExpression34{{"PgClassExpression[34∈3] ➊<br />ᐸ__relation...s__.”type”ᐳ"}}:::plan
    PgSelectSingle33 & PgClassExpression34 --> PgPolymorphic35
    PgPolymorphic68{{"PgPolymorphic[68∈3] ➊"}}:::plan
    PgClassExpression67{{"PgClassExpression[67∈3] ➊<br />ᐸ__relation...s__.”type”ᐳ"}}:::plan
    PgSelectSingle66 & PgClassExpression67 --> PgPolymorphic68
    PgPolymorphic101{{"PgPolymorphic[101∈3] ➊"}}:::plan
    PgClassExpression100{{"PgClassExpression[100∈3] ➊<br />ᐸ__relation...s__.”type”ᐳ"}}:::plan
    PgSelectSingle99 & PgClassExpression100 --> PgPolymorphic101
    PgSelectSingle33 --> PgClassExpression34
    PgSelectSingle66 --> PgClassExpression67
    PgSelectSingle99 --> PgClassExpression100
    PgSelect37[["PgSelect[37∈4] ➊<br />ᐸrelational_topicsᐳ<br />ᐳRelationalTopic"]]:::plan
    PgClassExpression36{{"PgClassExpression[36∈4] ➊<br />ᐸ__relation...ems__.”id”ᐳ<br />ᐳRelationalTopic"}}:::plan
    Object11 & PgClassExpression36 & Lambda135 --> PgSelect37
    PgSelect43[["PgSelect[43∈4] ➊<br />ᐸrelational_postsᐳ<br />ᐳRelationalPost"]]:::plan
    Object11 & PgClassExpression36 & Lambda135 --> PgSelect43
    PgSelect50[["PgSelect[50∈4] ➊<br />ᐸrelational_dividersᐳ<br />ᐳRelationalDivider"]]:::plan
    Object11 & PgClassExpression36 & Lambda135 --> PgSelect50
    PgSelect54[["PgSelect[54∈4] ➊<br />ᐸrelational_checklistsᐳ<br />ᐳRelationalChecklist"]]:::plan
    Object11 & PgClassExpression36 & Lambda135 --> PgSelect54
    PgSelect58[["PgSelect[58∈4] ➊<br />ᐸrelational_checklist_itemsᐳ<br />ᐳRelationalChecklistItem"]]:::plan
    Object11 & PgClassExpression36 & Lambda135 --> PgSelect58
    PgSelectSingle33 --> PgClassExpression36
    First41{{"First[41∈4] ➊"}}:::plan
    PgSelect37 --> First41
    PgSelectSingle42{{"PgSelectSingle[42∈4] ➊<br />ᐸrelational_topicsᐳ"}}:::plan
    First41 --> PgSelectSingle42
    First45{{"First[45∈4] ➊"}}:::plan
    PgSelect43 --> First45
    PgSelectSingle46{{"PgSelectSingle[46∈4] ➊<br />ᐸrelational_postsᐳ"}}:::plan
    First45 --> PgSelectSingle46
    PgClassExpression47{{"PgClassExpression[47∈4] ➊<br />ᐸ__relation...__.”title”ᐳ"}}:::plan
    PgSelectSingle46 --> PgClassExpression47
    PgClassExpression48{{"PgClassExpression[48∈4] ➊<br />ᐸ__relation...scription”ᐳ"}}:::plan
    PgSelectSingle46 --> PgClassExpression48
    PgClassExpression49{{"PgClassExpression[49∈4] ➊<br />ᐸ__relation...s__.”note”ᐳ"}}:::plan
    PgSelectSingle46 --> PgClassExpression49
    First52{{"First[52∈4] ➊"}}:::plan
    PgSelect50 --> First52
    PgSelectSingle53{{"PgSelectSingle[53∈4] ➊<br />ᐸrelational_dividersᐳ"}}:::plan
    First52 --> PgSelectSingle53
    First56{{"First[56∈4] ➊"}}:::plan
    PgSelect54 --> First56
    PgSelectSingle57{{"PgSelectSingle[57∈4] ➊<br />ᐸrelational_checklistsᐳ"}}:::plan
    First56 --> PgSelectSingle57
    First60{{"First[60∈4] ➊"}}:::plan
    PgSelect58 --> First60
    PgSelectSingle61{{"PgSelectSingle[61∈4] ➊<br />ᐸrelational_checklist_itemsᐳ"}}:::plan
    First60 --> PgSelectSingle61
    PgSelect70[["PgSelect[70∈5] ➊<br />ᐸrelational_topicsᐳ<br />ᐳRelationalTopic"]]:::plan
    PgClassExpression69{{"PgClassExpression[69∈5] ➊<br />ᐸ__relation...ems__.”id”ᐳ<br />ᐳRelationalTopic"}}:::plan
    Object11 & PgClassExpression69 & Lambda135 --> PgSelect70
    PgSelect76[["PgSelect[76∈5] ➊<br />ᐸrelational_postsᐳ<br />ᐳRelationalPost"]]:::plan
    Object11 & PgClassExpression69 & Lambda135 --> PgSelect76
    PgSelect83[["PgSelect[83∈5] ➊<br />ᐸrelational_dividersᐳ<br />ᐳRelationalDivider"]]:::plan
    Object11 & PgClassExpression69 & Lambda135 --> PgSelect83
    PgSelect87[["PgSelect[87∈5] ➊<br />ᐸrelational_checklistsᐳ<br />ᐳRelationalChecklist"]]:::plan
    Object11 & PgClassExpression69 & Lambda135 --> PgSelect87
    PgSelect91[["PgSelect[91∈5] ➊<br />ᐸrelational_checklist_itemsᐳ<br />ᐳRelationalChecklistItem"]]:::plan
    Object11 & PgClassExpression69 & Lambda135 --> PgSelect91
    PgSelectSingle66 --> PgClassExpression69
    First74{{"First[74∈5] ➊"}}:::plan
    PgSelect70 --> First74
    PgSelectSingle75{{"PgSelectSingle[75∈5] ➊<br />ᐸrelational_topicsᐳ"}}:::plan
    First74 --> PgSelectSingle75
    First78{{"First[78∈5] ➊"}}:::plan
    PgSelect76 --> First78
    PgSelectSingle79{{"PgSelectSingle[79∈5] ➊<br />ᐸrelational_postsᐳ"}}:::plan
    First78 --> PgSelectSingle79
    PgClassExpression80{{"PgClassExpression[80∈5] ➊<br />ᐸ__relation...__.”title”ᐳ"}}:::plan
    PgSelectSingle79 --> PgClassExpression80
    PgClassExpression81{{"PgClassExpression[81∈5] ➊<br />ᐸ__relation...scription”ᐳ"}}:::plan
    PgSelectSingle79 --> PgClassExpression81
    PgClassExpression82{{"PgClassExpression[82∈5] ➊<br />ᐸ__relation...s__.”note”ᐳ"}}:::plan
    PgSelectSingle79 --> PgClassExpression82
    First85{{"First[85∈5] ➊"}}:::plan
    PgSelect83 --> First85
    PgSelectSingle86{{"PgSelectSingle[86∈5] ➊<br />ᐸrelational_dividersᐳ"}}:::plan
    First85 --> PgSelectSingle86
    First89{{"First[89∈5] ➊"}}:::plan
    PgSelect87 --> First89
    PgSelectSingle90{{"PgSelectSingle[90∈5] ➊<br />ᐸrelational_checklistsᐳ"}}:::plan
    First89 --> PgSelectSingle90
    First93{{"First[93∈5] ➊"}}:::plan
    PgSelect91 --> First93
    PgSelectSingle94{{"PgSelectSingle[94∈5] ➊<br />ᐸrelational_checklist_itemsᐳ"}}:::plan
    First93 --> PgSelectSingle94
    PgSelect103[["PgSelect[103∈6] ➊<br />ᐸrelational_topicsᐳ<br />ᐳRelationalTopic"]]:::plan
    PgClassExpression102{{"PgClassExpression[102∈6] ➊<br />ᐸ__relation...ems__.”id”ᐳ<br />ᐳRelationalTopic"}}:::plan
    Object11 & PgClassExpression102 & Lambda135 --> PgSelect103
    PgSelect109[["PgSelect[109∈6] ➊<br />ᐸrelational_postsᐳ<br />ᐳRelationalPost"]]:::plan
    Object11 & PgClassExpression102 & Lambda135 --> PgSelect109
    PgSelect116[["PgSelect[116∈6] ➊<br />ᐸrelational_dividersᐳ<br />ᐳRelationalDivider"]]:::plan
    Object11 & PgClassExpression102 & Lambda135 --> PgSelect116
    PgSelect120[["PgSelect[120∈6] ➊<br />ᐸrelational_checklistsᐳ<br />ᐳRelationalChecklist"]]:::plan
    Object11 & PgClassExpression102 & Lambda135 --> PgSelect120
    PgSelect124[["PgSelect[124∈6] ➊<br />ᐸrelational_checklist_itemsᐳ<br />ᐳRelationalChecklistItem"]]:::plan
    Object11 & PgClassExpression102 & Lambda135 --> PgSelect124
    PgSelectSingle99 --> PgClassExpression102
    First107{{"First[107∈6] ➊"}}:::plan
    PgSelect103 --> First107
    PgSelectSingle108{{"PgSelectSingle[108∈6] ➊<br />ᐸrelational_topicsᐳ"}}:::plan
    First107 --> PgSelectSingle108
    First111{{"First[111∈6] ➊"}}:::plan
    PgSelect109 --> First111
    PgSelectSingle112{{"PgSelectSingle[112∈6] ➊<br />ᐸrelational_postsᐳ"}}:::plan
    First111 --> PgSelectSingle112
    PgClassExpression113{{"PgClassExpression[113∈6] ➊<br />ᐸ__relation...__.”title”ᐳ"}}:::plan
    PgSelectSingle112 --> PgClassExpression113
    PgClassExpression114{{"PgClassExpression[114∈6] ➊<br />ᐸ__relation...scription”ᐳ"}}:::plan
    PgSelectSingle112 --> PgClassExpression114
    PgClassExpression115{{"PgClassExpression[115∈6] ➊<br />ᐸ__relation...s__.”note”ᐳ"}}:::plan
    PgSelectSingle112 --> PgClassExpression115
    First118{{"First[118∈6] ➊"}}:::plan
    PgSelect116 --> First118
    PgSelectSingle119{{"PgSelectSingle[119∈6] ➊<br />ᐸrelational_dividersᐳ"}}:::plan
    First118 --> PgSelectSingle119
    First122{{"First[122∈6] ➊"}}:::plan
    PgSelect120 --> First122
    PgSelectSingle123{{"PgSelectSingle[123∈6] ➊<br />ᐸrelational_checklistsᐳ"}}:::plan
    First122 --> PgSelectSingle123
    First126{{"First[126∈6] ➊"}}:::plan
    PgSelect124 --> First126
    PgSelectSingle127{{"PgSelectSingle[127∈6] ➊<br />ᐸrelational_checklist_itemsᐳ"}}:::plan
    First126 --> PgSelectSingle127

    %% define steps

    %% implicit side effects
    PgSelect8 -.-o PgSelect14
    PgSelect14 -.-o PgSelect20

    subgraph "Buckets for mutations/basics/create-three-relational-posts-computed"
    Bucket0("Bucket 0 (root)"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value2,__Value4,Constant6,Constant7,Access9,Access10,Object11,Constant13,Constant19,Lambda135,Constant299 bucket0
    Bucket1("Bucket 1 (mutationField)<br />Deps: 11, 6, 7, 135, 13, 19, 4<br /><br />1: PgSelect[8]<br />2: PgSelect[14]<br />3: PgSelect[20]<br />4: <br />ᐳ: 24, 25, 26"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,PgSelect8,PgSelect14,PgSelect20,First24,PgSelectSingle25,PgClassExpression26 bucket1
    Bucket2("Bucket 2 (nullableBoundary)<br />Deps: 11, 135, 26, 4<br /><br />ROOT PgClassExpression{1}ᐸ__relational_posts__ᐳ[26]<br />1: <br />ᐳ: 296, 297, 298<br />2: 28, 63, 96<br />ᐳ: 32, 33, 65, 66, 98, 99"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,PgSelect28,First32,PgSelectSingle33,PgSelect63,First65,PgSelectSingle66,PgSelect96,First98,PgSelectSingle99,Constant296,Constant297,Constant298 bucket2
    Bucket3("Bucket 3 (nullableBoundary)<br />Deps: 33, 66, 99, 4, 11, 135<br /><br />ROOT __ValueᐸrootValueᐳ[4]"):::bucket
    classDef bucket3 stroke:#ffa500
    class Bucket3,PgClassExpression34,PgPolymorphic35,PgClassExpression67,PgPolymorphic68,PgClassExpression100,PgPolymorphic101 bucket3
    Bucket4("Bucket 4 (polymorphic)<br />RelationalTopic,RelationalPost,RelationalDivider,RelationalChecklist,RelationalChecklistItem<br />Deps: 33, 11, 135, 35<br />ᐳRelationalTopic<br />ᐳRelationalPost<br />ᐳRelationalDivider<br />ᐳRelationalChecklist<br />ᐳRelationalChecklistItem<br /><br />1: <br />ᐳ: PgClassExpression[36]<br />2: 37, 43, 50, 54, 58<br />ᐳ: 41, 42, 45, 46, 47, 48, 49, 52, 53, 56, 57, 60, 61"):::bucket
    classDef bucket4 stroke:#0000ff
    class Bucket4,PgClassExpression36,PgSelect37,First41,PgSelectSingle42,PgSelect43,First45,PgSelectSingle46,PgClassExpression47,PgClassExpression48,PgClassExpression49,PgSelect50,First52,PgSelectSingle53,PgSelect54,First56,PgSelectSingle57,PgSelect58,First60,PgSelectSingle61 bucket4
    Bucket5("Bucket 5 (polymorphic)<br />RelationalTopic,RelationalPost,RelationalDivider,RelationalChecklist,RelationalChecklistItem<br />Deps: 66, 11, 135, 68<br />ᐳRelationalTopic<br />ᐳRelationalPost<br />ᐳRelationalDivider<br />ᐳRelationalChecklist<br />ᐳRelationalChecklistItem<br /><br />1: <br />ᐳ: PgClassExpression[69]<br />2: 70, 76, 83, 87, 91<br />ᐳ: 74, 75, 78, 79, 80, 81, 82, 85, 86, 89, 90, 93, 94"):::bucket
    classDef bucket5 stroke:#7fff00
    class Bucket5,PgClassExpression69,PgSelect70,First74,PgSelectSingle75,PgSelect76,First78,PgSelectSingle79,PgClassExpression80,PgClassExpression81,PgClassExpression82,PgSelect83,First85,PgSelectSingle86,PgSelect87,First89,PgSelectSingle90,PgSelect91,First93,PgSelectSingle94 bucket5
    Bucket6("Bucket 6 (polymorphic)<br />RelationalTopic,RelationalPost,RelationalDivider,RelationalChecklist,RelationalChecklistItem<br />Deps: 99, 11, 135, 101<br />ᐳRelationalTopic<br />ᐳRelationalPost<br />ᐳRelationalDivider<br />ᐳRelationalChecklist<br />ᐳRelationalChecklistItem<br /><br />1: <br />ᐳ: PgClassExpression[102]<br />2: 103, 109, 116, 120, 124<br />ᐳ: 107, 108, 111, 112, 113, 114, 115, 118, 119, 122, 123, 126, 127"):::bucket
    classDef bucket6 stroke:#ff1493
    class Bucket6,PgClassExpression102,PgSelect103,First107,PgSelectSingle108,PgSelect109,First111,PgSelectSingle112,PgClassExpression113,PgClassExpression114,PgClassExpression115,PgSelect116,First118,PgSelectSingle119,PgSelect120,First122,PgSelectSingle123,PgSelect124,First126,PgSelectSingle127 bucket6
    Bucket0 --> Bucket1
    Bucket1 --> Bucket2
    Bucket2 --> Bucket3
    Bucket3 --> Bucket4 & Bucket5 & Bucket6
    end
