%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef unbatchedplan fill:#dff,stroke-width:1px,color:#000
    classDef sideeffectplan fill:#fcc,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left


    %% plan dependencies
    Object11{{"Object[11∈0] ➊<br />ᐸ{pgSettings,withPgClient}ᐳ"}}:::plan
    Access9{{"Access[9∈0] ➊<br />ᐸ2.pgSettingsᐳ"}}:::plan
    Access10{{"Access[10∈0] ➊<br />ᐸ2.withPgClientᐳ"}}:::plan
    Access9 & Access10 --> Object11
    PgFromExpression12{{"PgFromExpression[12∈0] ➊"}}:::plan
    Constant6{{"Constant[6∈0] ➊<br />ᐸ2ᐳ"}}:::plan
    Constant7{{"Constant[7∈0] ➊<br />ᐸ'Computed post ꖛ1'ᐳ"}}:::plan
    Constant6 & Constant7 --> PgFromExpression12
    PgFromExpression19{{"PgFromExpression[19∈0] ➊"}}:::plan
    Constant14{{"Constant[14∈0] ➊<br />ᐸ'Computed post ꖛ2'ᐳ"}}:::plan
    Constant6 & Constant14 --> PgFromExpression19
    PgFromExpression26{{"PgFromExpression[26∈0] ➊"}}:::plan
    Constant21{{"Constant[21∈0] ➊<br />ᐸ'Computed post ꖛ3'ᐳ"}}:::plan
    Constant6 & Constant21 --> PgFromExpression26
    __Value2["__Value[2∈0] ➊<br />ᐸcontextᐳ"]:::plan
    __Value2 --> Access9
    __Value2 --> Access10
    __Value4["__Value[4∈0] ➊<br />ᐸrootValueᐳ"]:::plan
    Constant148{{"Constant[148∈0] ➊<br />ᐸ1000000ᐳ"}}:::plan
    Constant149{{"Constant[149∈0] ➊<br />ᐸ1000001ᐳ"}}:::plan
    Constant150{{"Constant[150∈0] ➊<br />ᐸ1000002ᐳ"}}:::plan
    PgSelect8[["PgSelect[8∈1] ➊<br />ᐸrelational_posts(mutation)ᐳ"]]:::sideeffectplan
    Object11 & PgFromExpression12 --> PgSelect8
    PgSelect15[["PgSelect[15∈1] ➊<br />ᐸrelational_posts(mutation)ᐳ"]]:::sideeffectplan
    Object11 & PgFromExpression19 --> PgSelect15
    PgSelect22[["PgSelect[22∈1] ➊<br />ᐸrelational_posts(mutation)ᐳ"]]:::sideeffectplan
    Object11 & PgFromExpression26 --> PgSelect22
    PgSelect32[["PgSelect[32∈1] ➊<br />ᐸrelational_itemsᐳ"]]:::plan
    Object11 & Constant148 --> PgSelect32
    PgPolymorphic38{{"PgPolymorphic[38∈1] ➊"}}:::plan
    PgSelectSingle36{{"PgSelectSingle[36∈1] ➊<br />ᐸrelational_itemsᐳ"}}:::plan
    PgClassExpression37{{"PgClassExpression[37∈1] ➊<br />ᐸ__relation...s__.”type”ᐳ"}}:::plan
    PgSelectSingle36 & PgClassExpression37 --> PgPolymorphic38
    PgSelect71[["PgSelect[71∈1] ➊<br />ᐸrelational_itemsᐳ"]]:::plan
    Object11 & Constant149 --> PgSelect71
    PgPolymorphic77{{"PgPolymorphic[77∈1] ➊"}}:::plan
    PgSelectSingle75{{"PgSelectSingle[75∈1] ➊<br />ᐸrelational_itemsᐳ"}}:::plan
    PgClassExpression76{{"PgClassExpression[76∈1] ➊<br />ᐸ__relation...s__.”type”ᐳ"}}:::plan
    PgSelectSingle75 & PgClassExpression76 --> PgPolymorphic77
    PgSelect110[["PgSelect[110∈1] ➊<br />ᐸrelational_itemsᐳ"]]:::plan
    Object11 & Constant150 --> PgSelect110
    PgPolymorphic116{{"PgPolymorphic[116∈1] ➊"}}:::plan
    PgSelectSingle114{{"PgSelectSingle[114∈1] ➊<br />ᐸrelational_itemsᐳ"}}:::plan
    PgClassExpression115{{"PgClassExpression[115∈1] ➊<br />ᐸ__relation...s__.”type”ᐳ"}}:::plan
    PgSelectSingle114 & PgClassExpression115 --> PgPolymorphic116
    First27{{"First[27∈1] ➊"}}:::plan
    PgSelectRows28[["PgSelectRows[28∈1] ➊"]]:::plan
    PgSelectRows28 --> First27
    PgSelect22 --> PgSelectRows28
    PgSelectSingle29{{"PgSelectSingle[29∈1] ➊<br />ᐸrelational_postsᐳ"}}:::plan
    First27 --> PgSelectSingle29
    PgClassExpression30{{"PgClassExpression[30∈1] ➊<br />ᐸ__relational_posts__ᐳ"}}:::plan
    PgSelectSingle29 --> PgClassExpression30
    First34{{"First[34∈1] ➊"}}:::plan
    PgSelectRows35[["PgSelectRows[35∈1] ➊"]]:::plan
    PgSelectRows35 --> First34
    PgSelect32 --> PgSelectRows35
    First34 --> PgSelectSingle36
    PgSelectSingle36 --> PgClassExpression37
    First73{{"First[73∈1] ➊"}}:::plan
    PgSelectRows74[["PgSelectRows[74∈1] ➊"]]:::plan
    PgSelectRows74 --> First73
    PgSelect71 --> PgSelectRows74
    First73 --> PgSelectSingle75
    PgSelectSingle75 --> PgClassExpression76
    First112{{"First[112∈1] ➊"}}:::plan
    PgSelectRows113[["PgSelectRows[113∈1] ➊"]]:::plan
    PgSelectRows113 --> First112
    PgSelect110 --> PgSelectRows113
    First112 --> PgSelectSingle114
    PgSelectSingle114 --> PgClassExpression115
    PgSelect40[["PgSelect[40∈2] ➊<br />ᐸrelational_topicsᐳ<br />ᐳRelationalTopic"]]:::plan
    PgClassExpression39{{"PgClassExpression[39∈2] ➊<br />ᐸ__relation...ems__.”id”ᐳ<br />ᐳRelationalTopic<br />ᐳRelationalPost<br />ᐳRelationalDivider<br />ᐳRelationalChecklist<br />ᐳRelationalChecklistItem"}}:::plan
    Object11 & PgClassExpression39 --> PgSelect40
    PgSelect47[["PgSelect[47∈2] ➊<br />ᐸrelational_postsᐳ<br />ᐳRelationalPost"]]:::plan
    Object11 & PgClassExpression39 --> PgSelect47
    PgSelect55[["PgSelect[55∈2] ➊<br />ᐸrelational_dividersᐳ<br />ᐳRelationalDivider"]]:::plan
    Object11 & PgClassExpression39 --> PgSelect55
    PgSelect60[["PgSelect[60∈2] ➊<br />ᐸrelational_checklistsᐳ<br />ᐳRelationalChecklist"]]:::plan
    Object11 & PgClassExpression39 --> PgSelect60
    PgSelect65[["PgSelect[65∈2] ➊<br />ᐸrelational_checklist_itemsᐳ<br />ᐳRelationalChecklistItem"]]:::plan
    Object11 & PgClassExpression39 --> PgSelect65
    PgSelectSingle36 --> PgClassExpression39
    First44{{"First[44∈2] ➊"}}:::plan
    PgSelectRows45[["PgSelectRows[45∈2] ➊"]]:::plan
    PgSelectRows45 --> First44
    PgSelect40 --> PgSelectRows45
    PgSelectSingle46{{"PgSelectSingle[46∈2] ➊<br />ᐸrelational_topicsᐳ"}}:::plan
    First44 --> PgSelectSingle46
    First49{{"First[49∈2] ➊"}}:::plan
    PgSelectRows50[["PgSelectRows[50∈2] ➊"]]:::plan
    PgSelectRows50 --> First49
    PgSelect47 --> PgSelectRows50
    PgSelectSingle51{{"PgSelectSingle[51∈2] ➊<br />ᐸrelational_postsᐳ"}}:::plan
    First49 --> PgSelectSingle51
    PgClassExpression52{{"PgClassExpression[52∈2] ➊<br />ᐸ__relation...__.”title”ᐳ"}}:::plan
    PgSelectSingle51 --> PgClassExpression52
    PgClassExpression53{{"PgClassExpression[53∈2] ➊<br />ᐸ__relation...scription”ᐳ"}}:::plan
    PgSelectSingle51 --> PgClassExpression53
    PgClassExpression54{{"PgClassExpression[54∈2] ➊<br />ᐸ__relation...s__.”note”ᐳ"}}:::plan
    PgSelectSingle51 --> PgClassExpression54
    First57{{"First[57∈2] ➊"}}:::plan
    PgSelectRows58[["PgSelectRows[58∈2] ➊"]]:::plan
    PgSelectRows58 --> First57
    PgSelect55 --> PgSelectRows58
    PgSelectSingle59{{"PgSelectSingle[59∈2] ➊<br />ᐸrelational_dividersᐳ"}}:::plan
    First57 --> PgSelectSingle59
    First62{{"First[62∈2] ➊"}}:::plan
    PgSelectRows63[["PgSelectRows[63∈2] ➊"]]:::plan
    PgSelectRows63 --> First62
    PgSelect60 --> PgSelectRows63
    PgSelectSingle64{{"PgSelectSingle[64∈2] ➊<br />ᐸrelational_checklistsᐳ"}}:::plan
    First62 --> PgSelectSingle64
    First67{{"First[67∈2] ➊"}}:::plan
    PgSelectRows68[["PgSelectRows[68∈2] ➊"]]:::plan
    PgSelectRows68 --> First67
    PgSelect65 --> PgSelectRows68
    PgSelectSingle69{{"PgSelectSingle[69∈2] ➊<br />ᐸrelational_checklist_itemsᐳ"}}:::plan
    First67 --> PgSelectSingle69
    PgSelect79[["PgSelect[79∈3] ➊<br />ᐸrelational_topicsᐳ<br />ᐳRelationalTopic"]]:::plan
    PgClassExpression78{{"PgClassExpression[78∈3] ➊<br />ᐸ__relation...ems__.”id”ᐳ<br />ᐳRelationalTopic<br />ᐳRelationalPost<br />ᐳRelationalDivider<br />ᐳRelationalChecklist<br />ᐳRelationalChecklistItem"}}:::plan
    Object11 & PgClassExpression78 --> PgSelect79
    PgSelect86[["PgSelect[86∈3] ➊<br />ᐸrelational_postsᐳ<br />ᐳRelationalPost"]]:::plan
    Object11 & PgClassExpression78 --> PgSelect86
    PgSelect94[["PgSelect[94∈3] ➊<br />ᐸrelational_dividersᐳ<br />ᐳRelationalDivider"]]:::plan
    Object11 & PgClassExpression78 --> PgSelect94
    PgSelect99[["PgSelect[99∈3] ➊<br />ᐸrelational_checklistsᐳ<br />ᐳRelationalChecklist"]]:::plan
    Object11 & PgClassExpression78 --> PgSelect99
    PgSelect104[["PgSelect[104∈3] ➊<br />ᐸrelational_checklist_itemsᐳ<br />ᐳRelationalChecklistItem"]]:::plan
    Object11 & PgClassExpression78 --> PgSelect104
    PgSelectSingle75 --> PgClassExpression78
    First83{{"First[83∈3] ➊"}}:::plan
    PgSelectRows84[["PgSelectRows[84∈3] ➊"]]:::plan
    PgSelectRows84 --> First83
    PgSelect79 --> PgSelectRows84
    PgSelectSingle85{{"PgSelectSingle[85∈3] ➊<br />ᐸrelational_topicsᐳ"}}:::plan
    First83 --> PgSelectSingle85
    First88{{"First[88∈3] ➊"}}:::plan
    PgSelectRows89[["PgSelectRows[89∈3] ➊"]]:::plan
    PgSelectRows89 --> First88
    PgSelect86 --> PgSelectRows89
    PgSelectSingle90{{"PgSelectSingle[90∈3] ➊<br />ᐸrelational_postsᐳ"}}:::plan
    First88 --> PgSelectSingle90
    PgClassExpression91{{"PgClassExpression[91∈3] ➊<br />ᐸ__relation...__.”title”ᐳ"}}:::plan
    PgSelectSingle90 --> PgClassExpression91
    PgClassExpression92{{"PgClassExpression[92∈3] ➊<br />ᐸ__relation...scription”ᐳ"}}:::plan
    PgSelectSingle90 --> PgClassExpression92
    PgClassExpression93{{"PgClassExpression[93∈3] ➊<br />ᐸ__relation...s__.”note”ᐳ"}}:::plan
    PgSelectSingle90 --> PgClassExpression93
    First96{{"First[96∈3] ➊"}}:::plan
    PgSelectRows97[["PgSelectRows[97∈3] ➊"]]:::plan
    PgSelectRows97 --> First96
    PgSelect94 --> PgSelectRows97
    PgSelectSingle98{{"PgSelectSingle[98∈3] ➊<br />ᐸrelational_dividersᐳ"}}:::plan
    First96 --> PgSelectSingle98
    First101{{"First[101∈3] ➊"}}:::plan
    PgSelectRows102[["PgSelectRows[102∈3] ➊"]]:::plan
    PgSelectRows102 --> First101
    PgSelect99 --> PgSelectRows102
    PgSelectSingle103{{"PgSelectSingle[103∈3] ➊<br />ᐸrelational_checklistsᐳ"}}:::plan
    First101 --> PgSelectSingle103
    First106{{"First[106∈3] ➊"}}:::plan
    PgSelectRows107[["PgSelectRows[107∈3] ➊"]]:::plan
    PgSelectRows107 --> First106
    PgSelect104 --> PgSelectRows107
    PgSelectSingle108{{"PgSelectSingle[108∈3] ➊<br />ᐸrelational_checklist_itemsᐳ"}}:::plan
    First106 --> PgSelectSingle108
    PgSelect118[["PgSelect[118∈4] ➊<br />ᐸrelational_topicsᐳ<br />ᐳRelationalTopic"]]:::plan
    PgClassExpression117{{"PgClassExpression[117∈4] ➊<br />ᐸ__relation...ems__.”id”ᐳ<br />ᐳRelationalTopic<br />ᐳRelationalPost<br />ᐳRelationalDivider<br />ᐳRelationalChecklist<br />ᐳRelationalChecklistItem"}}:::plan
    Object11 & PgClassExpression117 --> PgSelect118
    PgSelect125[["PgSelect[125∈4] ➊<br />ᐸrelational_postsᐳ<br />ᐳRelationalPost"]]:::plan
    Object11 & PgClassExpression117 --> PgSelect125
    PgSelect133[["PgSelect[133∈4] ➊<br />ᐸrelational_dividersᐳ<br />ᐳRelationalDivider"]]:::plan
    Object11 & PgClassExpression117 --> PgSelect133
    PgSelect138[["PgSelect[138∈4] ➊<br />ᐸrelational_checklistsᐳ<br />ᐳRelationalChecklist"]]:::plan
    Object11 & PgClassExpression117 --> PgSelect138
    PgSelect143[["PgSelect[143∈4] ➊<br />ᐸrelational_checklist_itemsᐳ<br />ᐳRelationalChecklistItem"]]:::plan
    Object11 & PgClassExpression117 --> PgSelect143
    PgSelectSingle114 --> PgClassExpression117
    First122{{"First[122∈4] ➊"}}:::plan
    PgSelectRows123[["PgSelectRows[123∈4] ➊"]]:::plan
    PgSelectRows123 --> First122
    PgSelect118 --> PgSelectRows123
    PgSelectSingle124{{"PgSelectSingle[124∈4] ➊<br />ᐸrelational_topicsᐳ"}}:::plan
    First122 --> PgSelectSingle124
    First127{{"First[127∈4] ➊"}}:::plan
    PgSelectRows128[["PgSelectRows[128∈4] ➊"]]:::plan
    PgSelectRows128 --> First127
    PgSelect125 --> PgSelectRows128
    PgSelectSingle129{{"PgSelectSingle[129∈4] ➊<br />ᐸrelational_postsᐳ"}}:::plan
    First127 --> PgSelectSingle129
    PgClassExpression130{{"PgClassExpression[130∈4] ➊<br />ᐸ__relation...__.”title”ᐳ"}}:::plan
    PgSelectSingle129 --> PgClassExpression130
    PgClassExpression131{{"PgClassExpression[131∈4] ➊<br />ᐸ__relation...scription”ᐳ"}}:::plan
    PgSelectSingle129 --> PgClassExpression131
    PgClassExpression132{{"PgClassExpression[132∈4] ➊<br />ᐸ__relation...s__.”note”ᐳ"}}:::plan
    PgSelectSingle129 --> PgClassExpression132
    First135{{"First[135∈4] ➊"}}:::plan
    PgSelectRows136[["PgSelectRows[136∈4] ➊"]]:::plan
    PgSelectRows136 --> First135
    PgSelect133 --> PgSelectRows136
    PgSelectSingle137{{"PgSelectSingle[137∈4] ➊<br />ᐸrelational_dividersᐳ"}}:::plan
    First135 --> PgSelectSingle137
    First140{{"First[140∈4] ➊"}}:::plan
    PgSelectRows141[["PgSelectRows[141∈4] ➊"]]:::plan
    PgSelectRows141 --> First140
    PgSelect138 --> PgSelectRows141
    PgSelectSingle142{{"PgSelectSingle[142∈4] ➊<br />ᐸrelational_checklistsᐳ"}}:::plan
    First140 --> PgSelectSingle142
    First145{{"First[145∈4] ➊"}}:::plan
    PgSelectRows146[["PgSelectRows[146∈4] ➊"]]:::plan
    PgSelectRows146 --> First145
    PgSelect143 --> PgSelectRows146
    PgSelectSingle147{{"PgSelectSingle[147∈4] ➊<br />ᐸrelational_checklist_itemsᐳ"}}:::plan
    First145 --> PgSelectSingle147

    %% define steps

    %% implicit side effects
    PgSelect8 -.-o PgSelect15
    PgSelect15 -.-o PgSelect22
    PgSelect22 -.-o PgSelect32
    PgSelect22 -.-o PgPolymorphic38
    PgSelect22 -.-o PgSelect71
    PgSelect22 -.-o PgPolymorphic77
    PgSelect22 -.-o PgSelect110
    PgSelect22 -.-o PgPolymorphic116
    PgSelect22 -.-o First34
    PgSelect22 -.-o PgSelectRows35
    PgSelect22 -.-o PgSelectSingle36
    PgSelect22 -.-o PgClassExpression37
    PgSelect22 -.-o First73
    PgSelect22 -.-o PgSelectRows74
    PgSelect22 -.-o PgSelectSingle75
    PgSelect22 -.-o PgClassExpression76
    PgSelect22 -.-o First112
    PgSelect22 -.-o PgSelectRows113
    PgSelect22 -.-o PgSelectSingle114
    PgSelect22 -.-o PgClassExpression115

    subgraph "Buckets for mutations/basics/create-three-relational-posts-computed"
    Bucket0("Bucket 0 (root)"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value2,__Value4,Constant6,Constant7,Access9,Access10,Object11,PgFromExpression12,Constant14,PgFromExpression19,Constant21,PgFromExpression26,Constant148,Constant149,Constant150 bucket0
    Bucket1("Bucket 1 (mutationField)<br />Deps: 11, 12, 19, 26, 148, 149, 150, 4<br /><br />1: PgSelect[8]<br />2: PgSelect[15]<br />3: PgSelect[22]<br />4: 28, 32, 71, 110<br />ᐳ: 27, 29, 30<br />5: 35, 74, 113<br />ᐳ: 34, 36, 37, 38, 73, 75, 76, 77, 112, 114, 115, 116"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,PgSelect8,PgSelect15,PgSelect22,First27,PgSelectRows28,PgSelectSingle29,PgClassExpression30,PgSelect32,First34,PgSelectRows35,PgSelectSingle36,PgClassExpression37,PgPolymorphic38,PgSelect71,First73,PgSelectRows74,PgSelectSingle75,PgClassExpression76,PgPolymorphic77,PgSelect110,First112,PgSelectRows113,PgSelectSingle114,PgClassExpression115,PgPolymorphic116 bucket1
    Bucket2("Bucket 2 (polymorphic)<br />RelationalTopic,RelationalPost,RelationalDivider,RelationalChecklist,RelationalChecklistItem<br />Parent side effect step: 22<br />Deps: 36, 11, 38<br />ᐳRelationalTopic<br />ᐳRelationalPost<br />ᐳRelationalDivider<br />ᐳRelationalChecklist<br />ᐳRelationalChecklistItem<br /><br />1: <br />ᐳ: PgClassExpression[39]<br />2: 40, 47, 55, 60, 65<br />3: 45, 50, 58, 63, 68<br />ᐳ: 44, 46, 49, 51, 52, 53, 54, 57, 59, 62, 64, 67, 69"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,PgClassExpression39,PgSelect40,First44,PgSelectRows45,PgSelectSingle46,PgSelect47,First49,PgSelectRows50,PgSelectSingle51,PgClassExpression52,PgClassExpression53,PgClassExpression54,PgSelect55,First57,PgSelectRows58,PgSelectSingle59,PgSelect60,First62,PgSelectRows63,PgSelectSingle64,PgSelect65,First67,PgSelectRows68,PgSelectSingle69 bucket2
    Bucket3("Bucket 3 (polymorphic)<br />RelationalTopic,RelationalPost,RelationalDivider,RelationalChecklist,RelationalChecklistItem<br />Parent side effect step: 22<br />Deps: 75, 11, 77<br />ᐳRelationalTopic<br />ᐳRelationalPost<br />ᐳRelationalDivider<br />ᐳRelationalChecklist<br />ᐳRelationalChecklistItem<br /><br />1: <br />ᐳ: PgClassExpression[78]<br />2: 79, 86, 94, 99, 104<br />3: 84, 89, 97, 102, 107<br />ᐳ: 83, 85, 88, 90, 91, 92, 93, 96, 98, 101, 103, 106, 108"):::bucket
    classDef bucket3 stroke:#ffa500
    class Bucket3,PgClassExpression78,PgSelect79,First83,PgSelectRows84,PgSelectSingle85,PgSelect86,First88,PgSelectRows89,PgSelectSingle90,PgClassExpression91,PgClassExpression92,PgClassExpression93,PgSelect94,First96,PgSelectRows97,PgSelectSingle98,PgSelect99,First101,PgSelectRows102,PgSelectSingle103,PgSelect104,First106,PgSelectRows107,PgSelectSingle108 bucket3
    Bucket4("Bucket 4 (polymorphic)<br />RelationalTopic,RelationalPost,RelationalDivider,RelationalChecklist,RelationalChecklistItem<br />Parent side effect step: 22<br />Deps: 114, 11, 116<br />ᐳRelationalTopic<br />ᐳRelationalPost<br />ᐳRelationalDivider<br />ᐳRelationalChecklist<br />ᐳRelationalChecklistItem<br /><br />1: <br />ᐳ: PgClassExpression[117]<br />2: 118, 125, 133, 138, 143<br />3: 123, 128, 136, 141, 146<br />ᐳ: 122, 124, 127, 129, 130, 131, 132, 135, 137, 140, 142, 145, 147"):::bucket
    classDef bucket4 stroke:#0000ff
    class Bucket4,PgClassExpression117,PgSelect118,First122,PgSelectRows123,PgSelectSingle124,PgSelect125,First127,PgSelectRows128,PgSelectSingle129,PgClassExpression130,PgClassExpression131,PgClassExpression132,PgSelect133,First135,PgSelectRows136,PgSelectSingle137,PgSelect138,First140,PgSelectRows141,PgSelectSingle142,PgSelect143,First145,PgSelectRows146,PgSelectSingle147 bucket4
    Bucket0 --> Bucket1
    Bucket1 --> Bucket2 & Bucket3 & Bucket4
    end
