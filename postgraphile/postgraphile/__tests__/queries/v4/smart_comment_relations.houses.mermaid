%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef unbatchedplan fill:#dff,stroke-width:1px,color:#000
    classDef sideeffectplan fill:#fcc,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left


    %% plan dependencies
    PgSelect14[["PgSelect[14∈0] ➊<br />ᐸhousesᐳ"]]:::plan
    Object11{{"Object[11∈0] ➊<br />ᐸ{pgSettings,withPgClient}ᐳ"}}:::plan
    Connection12{{"Connection[12∈0] ➊<br />ᐸ8ᐳ"}}:::plan
    Object11 -->|rejectNull| PgSelect14
    Connection12 --> PgSelect14
    Connection42{{"Connection[42∈0] ➊<br />ᐸ40ᐳ"}}:::plan
    Connection77{{"Connection[77∈0] ➊<br />ᐸ75ᐳ"}}:::plan
    Connection112{{"Connection[112∈0] ➊<br />ᐸ110ᐳ"}}:::plan
    Connection145{{"Connection[145∈0] ➊<br />ᐸ143ᐳ"}}:::plan
    Connection176{{"Connection[176∈0] ➊<br />ᐸ174ᐳ"}}:::plan
    Connection209{{"Connection[209∈0] ➊<br />ᐸ207ᐳ"}}:::plan
    PgSelect222[["PgSelect[222∈0] ➊<br />ᐸhousesᐳ"]]:::plan
    Constant253{{"Constant[253∈0] ➊<br />ᐸ2ᐳ"}}:::plan
    Constant254{{"Constant[254∈0] ➊<br />ᐸ3ᐳ"}}:::plan
    Object11 & Constant253 & Constant254 --> PgSelect222
    List233{{"List[233∈0] ➊<br />ᐸ18,231,232ᐳ"}}:::plan
    Constant18{{"Constant[18∈0] ➊<br />ᐸ'houses'ᐳ"}}:::plan
    PgClassExpression231{{"PgClassExpression[231∈0] ➊<br />ᐸ__houses__.”street_id”ᐳ"}}:::plan
    PgClassExpression232{{"PgClassExpression[232∈0] ➊<br />ᐸ__houses__...operty_id”ᐳ"}}:::plan
    Constant18 & PgClassExpression231 & PgClassExpression232 --> List233
    PgSelect241[["PgSelect[241∈0] ➊<br />ᐸhousesᐳ"]]:::plan
    Access237{{"Access[237∈0] ➊<br />ᐸ236.1ᐳ"}}:::plan
    Access239{{"Access[239∈0] ➊<br />ᐸ236.2ᐳ"}}:::plan
    Object11 -->|rejectNull| PgSelect241
    Access237 -->|rejectNull| PgSelect241
    Access239 --> PgSelect241
    List251{{"List[251∈0] ➊<br />ᐸ18,249,250ᐳ"}}:::plan
    PgClassExpression249{{"PgClassExpression[249∈0] ➊<br />ᐸ__houses__.”street_id”ᐳ"}}:::plan
    PgClassExpression250{{"PgClassExpression[250∈0] ➊<br />ᐸ__houses__...operty_id”ᐳ"}}:::plan
    Constant18 & PgClassExpression249 & PgClassExpression250 --> List251
    Access9{{"Access[9∈0] ➊<br />ᐸ2.pgSettingsᐳ"}}:::plan
    Access10{{"Access[10∈0] ➊<br />ᐸ2.withPgClientᐳ"}}:::plan
    Access9 & Access10 --> Object11
    __Value2["__Value[2∈0] ➊<br />ᐸcontextᐳ"]:::plan
    __Value2 --> Access9
    __Value2 --> Access10
    PgSelectRows15[["PgSelectRows[15∈0] ➊"]]:::plan
    PgSelect14 --> PgSelectRows15
    First224{{"First[224∈0] ➊"}}:::plan
    PgSelectRows225[["PgSelectRows[225∈0] ➊"]]:::plan
    PgSelectRows225 --> First224
    PgSelect222 --> PgSelectRows225
    PgSelectSingle226{{"PgSelectSingle[226∈0] ➊<br />ᐸhousesᐳ"}}:::plan
    First224 --> PgSelectSingle226
    PgClassExpression227{{"PgClassExpression[227∈0] ➊<br />ᐸ__houses__...ding_name”ᐳ"}}:::plan
    PgSelectSingle226 --> PgClassExpression227
    PgClassExpression228{{"PgClassExpression[228∈0] ➊<br />ᐸ__houses__...or_number”ᐳ"}}:::plan
    PgSelectSingle226 --> PgClassExpression228
    PgClassExpression229{{"PgClassExpression[229∈0] ➊<br />ᐸ__houses__...reet_name”ᐳ"}}:::plan
    PgSelectSingle226 --> PgClassExpression229
    PgSelectSingle226 --> PgClassExpression231
    PgSelectSingle226 --> PgClassExpression232
    Lambda234{{"Lambda[234∈0] ➊<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List233 --> Lambda234
    Lambda236{{"Lambda[236∈0] ➊<br />ᐸspecifier_House_base64JSONᐳ"}}:::plan
    Constant255{{"Constant[255∈0] ➊<br />ᐸ'WyJob3VzZXMiLDIsM10='ᐳ"}}:::plan
    Constant255 --> Lambda236
    Lambda236 --> Access237
    Lambda236 --> Access239
    First243{{"First[243∈0] ➊"}}:::plan
    PgSelectRows244[["PgSelectRows[244∈0] ➊"]]:::plan
    PgSelectRows244 --> First243
    PgSelect241 --> PgSelectRows244
    PgSelectSingle245{{"PgSelectSingle[245∈0] ➊<br />ᐸhousesᐳ"}}:::plan
    First243 --> PgSelectSingle245
    PgClassExpression246{{"PgClassExpression[246∈0] ➊<br />ᐸ__houses__...ding_name”ᐳ"}}:::plan
    PgSelectSingle245 --> PgClassExpression246
    PgClassExpression247{{"PgClassExpression[247∈0] ➊<br />ᐸ__houses__...or_number”ᐳ"}}:::plan
    PgSelectSingle245 --> PgClassExpression247
    PgClassExpression248{{"PgClassExpression[248∈0] ➊<br />ᐸ__houses__...reet_name”ᐳ"}}:::plan
    PgSelectSingle245 --> PgClassExpression248
    PgSelectSingle245 --> PgClassExpression249
    PgSelectSingle245 --> PgClassExpression250
    Lambda252{{"Lambda[252∈0] ➊<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List251 --> Lambda252
    __Value4["__Value[4∈0] ➊<br />ᐸrootValueᐳ"]:::plan
    Constant34{{"Constant[34∈0] ➊<br />ᐸ'streets'ᐳ"}}:::plan
    Constant48{{"Constant[48∈0] ➊<br />ᐸ'buildings'ᐳ"}}:::plan
    Constant94{{"Constant[94∈0] ➊<br />ᐸ'properties'ᐳ"}}:::plan
    PgSelect44[["PgSelect[44∈1]<br />ᐸbuildingsᐳ"]]:::plan
    PgClassExpression38{{"PgClassExpression[38∈1]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    Object11 & PgClassExpression38 & Connection42 --> PgSelect44
    PgSelect79[["PgSelect[79∈1]<br />ᐸbuildingsᐳ"]]:::plan
    PgClassExpression73{{"PgClassExpression[73∈1]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    Object11 & PgClassExpression73 & Connection77 --> PgSelect79
    PgSelect114[["PgSelect[114∈1]<br />ᐸbuildingsᐳ"]]:::plan
    PgClassExpression108{{"PgClassExpression[108∈1]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    Object11 & PgClassExpression108 & Connection112 --> PgSelect114
    PgSelect147[["PgSelect[147∈1]<br />ᐸbuildingsᐳ"]]:::plan
    PgClassExpression141{{"PgClassExpression[141∈1]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    Object11 & PgClassExpression141 & Connection145 --> PgSelect147
    PgSelect178[["PgSelect[178∈1]<br />ᐸbuildingsᐳ"]]:::plan
    PgClassExpression172{{"PgClassExpression[172∈1]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    Object11 & PgClassExpression172 & Connection176 --> PgSelect178
    PgSelect211[["PgSelect[211∈1]<br />ᐸbuildingsᐳ"]]:::plan
    PgClassExpression205{{"PgClassExpression[205∈1]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    Object11 & PgClassExpression205 & Connection209 --> PgSelect211
    List21{{"List[21∈1]<br />ᐸ18,19,20ᐳ"}}:::plan
    PgClassExpression19{{"PgClassExpression[19∈1]<br />ᐸ__houses__.”street_id”ᐳ"}}:::plan
    PgClassExpression20{{"PgClassExpression[20∈1]<br />ᐸ__houses__...operty_id”ᐳ"}}:::plan
    Constant18 & PgClassExpression19 & PgClassExpression20 --> List21
    PgSelect156[["PgSelect[156∈1]<br />ᐸstreet_propertyᐳ"]]:::plan
    Object11 & PgClassExpression19 & PgClassExpression20 --> PgSelect156
    PgSelect27[["PgSelect[27∈1]<br />ᐸstreetsᐳ"]]:::plan
    Object11 & PgClassExpression19 --> PgSelect27
    List36{{"List[36∈1]<br />ᐸ34,35ᐳ"}}:::plan
    PgClassExpression35{{"PgClassExpression[35∈1]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant34 & PgClassExpression35 --> List36
    PgSelect53[["PgSelect[53∈1]<br />ᐸbuildingsᐳ"]]:::plan
    PgClassExpression26{{"PgClassExpression[26∈1]<br />ᐸ__houses__...ilding_id”ᐳ"}}:::plan
    Object11 & PgClassExpression26 --> PgSelect53
    List60{{"List[60∈1]<br />ᐸ48,59ᐳ"}}:::plan
    PgClassExpression59{{"PgClassExpression[59∈1]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant48 & PgClassExpression59 --> List60
    PgSelect65[["PgSelect[65∈1]<br />ᐸstreetsᐳ"]]:::plan
    PgClassExpression62{{"PgClassExpression[62∈1]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    Object11 & PgClassExpression62 --> PgSelect65
    List71{{"List[71∈1]<br />ᐸ34,70ᐳ"}}:::plan
    PgClassExpression70{{"PgClassExpression[70∈1]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant34 & PgClassExpression70 --> List71
    PgSelect89[["PgSelect[89∈1]<br />ᐸpropertiesᐳ"]]:::plan
    PgClassExpression88{{"PgClassExpression[88∈1]<br />ᐸ__building...operty_id”ᐳ"}}:::plan
    Object11 & PgClassExpression88 --> PgSelect89
    List96{{"List[96∈1]<br />ᐸ94,95ᐳ"}}:::plan
    PgClassExpression95{{"PgClassExpression[95∈1]<br />ᐸ__properties__.”id”ᐳ"}}:::plan
    Constant94 & PgClassExpression95 --> List96
    PgSelect100[["PgSelect[100∈1]<br />ᐸstreetsᐳ"]]:::plan
    PgClassExpression98{{"PgClassExpression[98∈1]<br />ᐸ__properti...street_id”ᐳ"}}:::plan
    Object11 & PgClassExpression98 --> PgSelect100
    List106{{"List[106∈1]<br />ᐸ34,105ᐳ"}}:::plan
    PgClassExpression105{{"PgClassExpression[105∈1]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant34 & PgClassExpression105 --> List106
    PgSelect123[["PgSelect[123∈1]<br />ᐸpropertiesᐳ"]]:::plan
    Object11 & PgClassExpression20 --> PgSelect123
    List129{{"List[129∈1]<br />ᐸ94,128ᐳ"}}:::plan
    PgClassExpression128{{"PgClassExpression[128∈1]<br />ᐸ__properties__.”id”ᐳ"}}:::plan
    Constant94 & PgClassExpression128 --> List129
    PgSelect133[["PgSelect[133∈1]<br />ᐸstreetsᐳ"]]:::plan
    PgClassExpression131{{"PgClassExpression[131∈1]<br />ᐸ__properti...street_id”ᐳ"}}:::plan
    Object11 & PgClassExpression131 --> PgSelect133
    List139{{"List[139∈1]<br />ᐸ34,138ᐳ"}}:::plan
    PgClassExpression138{{"PgClassExpression[138∈1]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant34 & PgClassExpression138 --> List139
    PgSelect164[["PgSelect[164∈1]<br />ᐸstreetsᐳ"]]:::plan
    PgClassExpression161{{"PgClassExpression[161∈1]<br />ᐸ__street_p..._.”str_id”ᐳ"}}:::plan
    Object11 & PgClassExpression161 --> PgSelect164
    List170{{"List[170∈1]<br />ᐸ34,169ᐳ"}}:::plan
    PgClassExpression169{{"PgClassExpression[169∈1]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant34 & PgClassExpression169 --> List170
    PgSelect187[["PgSelect[187∈1]<br />ᐸpropertiesᐳ"]]:::plan
    PgClassExpression162{{"PgClassExpression[162∈1]<br />ᐸ__street_p....”prop_id”ᐳ"}}:::plan
    Object11 & PgClassExpression162 --> PgSelect187
    List193{{"List[193∈1]<br />ᐸ94,192ᐳ"}}:::plan
    PgClassExpression192{{"PgClassExpression[192∈1]<br />ᐸ__properties__.”id”ᐳ"}}:::plan
    Constant94 & PgClassExpression192 --> List193
    PgSelect197[["PgSelect[197∈1]<br />ᐸstreetsᐳ"]]:::plan
    PgClassExpression195{{"PgClassExpression[195∈1]<br />ᐸ__properti...street_id”ᐳ"}}:::plan
    Object11 & PgClassExpression195 --> PgSelect197
    List203{{"List[203∈1]<br />ᐸ34,202ᐳ"}}:::plan
    PgClassExpression202{{"PgClassExpression[202∈1]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant34 & PgClassExpression202 --> List203
    __Item16[/"__Item[16∈1]<br />ᐸ15ᐳ"\]:::itemplan
    PgSelectRows15 ==> __Item16
    PgSelectSingle17{{"PgSelectSingle[17∈1]<br />ᐸhousesᐳ"}}:::plan
    __Item16 --> PgSelectSingle17
    PgSelectSingle17 --> PgClassExpression19
    PgSelectSingle17 --> PgClassExpression20
    Lambda22{{"Lambda[22∈1]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List21 --> Lambda22
    PgClassExpression23{{"PgClassExpression[23∈1]<br />ᐸ__houses__...ding_name”ᐳ"}}:::plan
    PgSelectSingle17 --> PgClassExpression23
    PgClassExpression24{{"PgClassExpression[24∈1]<br />ᐸ__houses__...or_number”ᐳ"}}:::plan
    PgSelectSingle17 --> PgClassExpression24
    PgClassExpression25{{"PgClassExpression[25∈1]<br />ᐸ__houses__...reet_name”ᐳ"}}:::plan
    PgSelectSingle17 --> PgClassExpression25
    PgSelectSingle17 --> PgClassExpression26
    First31{{"First[31∈1]"}}:::plan
    PgSelectRows32[["PgSelectRows[32∈1]"]]:::plan
    PgSelectRows32 --> First31
    PgSelect27 --> PgSelectRows32
    PgSelectSingle33{{"PgSelectSingle[33∈1]<br />ᐸstreetsᐳ"}}:::plan
    First31 --> PgSelectSingle33
    PgSelectSingle33 --> PgClassExpression35
    Lambda37{{"Lambda[37∈1]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List36 --> Lambda37
    PgSelectSingle33 --> PgClassExpression38
    PgSelectRows45[["PgSelectRows[45∈1]"]]:::plan
    PgSelect44 --> PgSelectRows45
    First55{{"First[55∈1]"}}:::plan
    PgSelectRows56[["PgSelectRows[56∈1]"]]:::plan
    PgSelectRows56 --> First55
    PgSelect53 --> PgSelectRows56
    PgSelectSingle57{{"PgSelectSingle[57∈1]<br />ᐸbuildingsᐳ"}}:::plan
    First55 --> PgSelectSingle57
    PgSelectSingle57 --> PgClassExpression59
    Lambda61{{"Lambda[61∈1]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List60 --> Lambda61
    PgSelectSingle57 --> PgClassExpression62
    PgClassExpression63{{"PgClassExpression[63∈1]<br />ᐸ__buildings__.”floors”ᐳ"}}:::plan
    PgSelectSingle57 --> PgClassExpression63
    PgClassExpression64{{"PgClassExpression[64∈1]<br />ᐸ__building...s_primary”ᐳ"}}:::plan
    PgSelectSingle57 --> PgClassExpression64
    First67{{"First[67∈1]"}}:::plan
    PgSelectRows68[["PgSelectRows[68∈1]"]]:::plan
    PgSelectRows68 --> First67
    PgSelect65 --> PgSelectRows68
    PgSelectSingle69{{"PgSelectSingle[69∈1]<br />ᐸstreetsᐳ"}}:::plan
    First67 --> PgSelectSingle69
    PgSelectSingle69 --> PgClassExpression70
    Lambda72{{"Lambda[72∈1]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List71 --> Lambda72
    PgSelectSingle69 --> PgClassExpression73
    PgSelectRows80[["PgSelectRows[80∈1]"]]:::plan
    PgSelect79 --> PgSelectRows80
    PgSelectSingle57 --> PgClassExpression88
    First91{{"First[91∈1]"}}:::plan
    PgSelectRows92[["PgSelectRows[92∈1]"]]:::plan
    PgSelectRows92 --> First91
    PgSelect89 --> PgSelectRows92
    PgSelectSingle93{{"PgSelectSingle[93∈1]<br />ᐸpropertiesᐳ"}}:::plan
    First91 --> PgSelectSingle93
    PgSelectSingle93 --> PgClassExpression95
    Lambda97{{"Lambda[97∈1]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List96 --> Lambda97
    PgSelectSingle93 --> PgClassExpression98
    PgClassExpression99{{"PgClassExpression[99∈1]<br />ᐸ__properti...or_number”ᐳ"}}:::plan
    PgSelectSingle93 --> PgClassExpression99
    First102{{"First[102∈1]"}}:::plan
    PgSelectRows103[["PgSelectRows[103∈1]"]]:::plan
    PgSelectRows103 --> First102
    PgSelect100 --> PgSelectRows103
    PgSelectSingle104{{"PgSelectSingle[104∈1]<br />ᐸstreetsᐳ"}}:::plan
    First102 --> PgSelectSingle104
    PgSelectSingle104 --> PgClassExpression105
    Lambda107{{"Lambda[107∈1]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List106 --> Lambda107
    PgSelectSingle104 --> PgClassExpression108
    PgSelectRows115[["PgSelectRows[115∈1]"]]:::plan
    PgSelect114 --> PgSelectRows115
    First125{{"First[125∈1]"}}:::plan
    PgSelectRows126[["PgSelectRows[126∈1]"]]:::plan
    PgSelectRows126 --> First125
    PgSelect123 --> PgSelectRows126
    PgSelectSingle127{{"PgSelectSingle[127∈1]<br />ᐸpropertiesᐳ"}}:::plan
    First125 --> PgSelectSingle127
    PgSelectSingle127 --> PgClassExpression128
    Lambda130{{"Lambda[130∈1]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List129 --> Lambda130
    PgSelectSingle127 --> PgClassExpression131
    PgClassExpression132{{"PgClassExpression[132∈1]<br />ᐸ__properti...or_number”ᐳ"}}:::plan
    PgSelectSingle127 --> PgClassExpression132
    First135{{"First[135∈1]"}}:::plan
    PgSelectRows136[["PgSelectRows[136∈1]"]]:::plan
    PgSelectRows136 --> First135
    PgSelect133 --> PgSelectRows136
    PgSelectSingle137{{"PgSelectSingle[137∈1]<br />ᐸstreetsᐳ"}}:::plan
    First135 --> PgSelectSingle137
    PgSelectSingle137 --> PgClassExpression138
    Lambda140{{"Lambda[140∈1]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List139 --> Lambda140
    PgSelectSingle137 --> PgClassExpression141
    PgSelectRows148[["PgSelectRows[148∈1]"]]:::plan
    PgSelect147 --> PgSelectRows148
    First158{{"First[158∈1]"}}:::plan
    PgSelectRows159[["PgSelectRows[159∈1]"]]:::plan
    PgSelectRows159 --> First158
    PgSelect156 --> PgSelectRows159
    PgSelectSingle160{{"PgSelectSingle[160∈1]<br />ᐸstreet_propertyᐳ"}}:::plan
    First158 --> PgSelectSingle160
    PgSelectSingle160 --> PgClassExpression161
    PgSelectSingle160 --> PgClassExpression162
    PgClassExpression163{{"PgClassExpression[163∈1]<br />ᐸ__street_p...ent_owner”ᐳ"}}:::plan
    PgSelectSingle160 --> PgClassExpression163
    First166{{"First[166∈1]"}}:::plan
    PgSelectRows167[["PgSelectRows[167∈1]"]]:::plan
    PgSelectRows167 --> First166
    PgSelect164 --> PgSelectRows167
    PgSelectSingle168{{"PgSelectSingle[168∈1]<br />ᐸstreetsᐳ"}}:::plan
    First166 --> PgSelectSingle168
    PgSelectSingle168 --> PgClassExpression169
    Lambda171{{"Lambda[171∈1]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List170 --> Lambda171
    PgSelectSingle168 --> PgClassExpression172
    PgSelectRows179[["PgSelectRows[179∈1]"]]:::plan
    PgSelect178 --> PgSelectRows179
    First189{{"First[189∈1]"}}:::plan
    PgSelectRows190[["PgSelectRows[190∈1]"]]:::plan
    PgSelectRows190 --> First189
    PgSelect187 --> PgSelectRows190
    PgSelectSingle191{{"PgSelectSingle[191∈1]<br />ᐸpropertiesᐳ"}}:::plan
    First189 --> PgSelectSingle191
    PgSelectSingle191 --> PgClassExpression192
    Lambda194{{"Lambda[194∈1]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List193 --> Lambda194
    PgSelectSingle191 --> PgClassExpression195
    PgClassExpression196{{"PgClassExpression[196∈1]<br />ᐸ__properti...or_number”ᐳ"}}:::plan
    PgSelectSingle191 --> PgClassExpression196
    First199{{"First[199∈1]"}}:::plan
    PgSelectRows200[["PgSelectRows[200∈1]"]]:::plan
    PgSelectRows200 --> First199
    PgSelect197 --> PgSelectRows200
    PgSelectSingle201{{"PgSelectSingle[201∈1]<br />ᐸstreetsᐳ"}}:::plan
    First199 --> PgSelectSingle201
    PgSelectSingle201 --> PgClassExpression202
    Lambda204{{"Lambda[204∈1]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List203 --> Lambda204
    PgSelectSingle201 --> PgClassExpression205
    PgSelectRows212[["PgSelectRows[212∈1]"]]:::plan
    PgSelect211 --> PgSelectRows212
    List50{{"List[50∈2]<br />ᐸ48,49ᐳ"}}:::plan
    PgClassExpression49{{"PgClassExpression[49∈2]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant48 & PgClassExpression49 --> List50
    __Item46[/"__Item[46∈2]<br />ᐸ45ᐳ"\]:::itemplan
    PgSelectRows45 ==> __Item46
    PgSelectSingle47{{"PgSelectSingle[47∈2]<br />ᐸbuildingsᐳ"}}:::plan
    __Item46 --> PgSelectSingle47
    PgSelectSingle47 --> PgClassExpression49
    Lambda51{{"Lambda[51∈2]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List50 --> Lambda51
    PgClassExpression52{{"PgClassExpression[52∈2]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle47 --> PgClassExpression52
    List85{{"List[85∈3]<br />ᐸ48,84ᐳ"}}:::plan
    PgClassExpression84{{"PgClassExpression[84∈3]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant48 & PgClassExpression84 --> List85
    __Item81[/"__Item[81∈3]<br />ᐸ80ᐳ"\]:::itemplan
    PgSelectRows80 ==> __Item81
    PgSelectSingle82{{"PgSelectSingle[82∈3]<br />ᐸbuildingsᐳ"}}:::plan
    __Item81 --> PgSelectSingle82
    PgSelectSingle82 --> PgClassExpression84
    Lambda86{{"Lambda[86∈3]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List85 --> Lambda86
    PgClassExpression87{{"PgClassExpression[87∈3]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle82 --> PgClassExpression87
    List120{{"List[120∈4]<br />ᐸ48,119ᐳ"}}:::plan
    PgClassExpression119{{"PgClassExpression[119∈4]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant48 & PgClassExpression119 --> List120
    __Item116[/"__Item[116∈4]<br />ᐸ115ᐳ"\]:::itemplan
    PgSelectRows115 ==> __Item116
    PgSelectSingle117{{"PgSelectSingle[117∈4]<br />ᐸbuildingsᐳ"}}:::plan
    __Item116 --> PgSelectSingle117
    PgSelectSingle117 --> PgClassExpression119
    Lambda121{{"Lambda[121∈4]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List120 --> Lambda121
    PgClassExpression122{{"PgClassExpression[122∈4]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle117 --> PgClassExpression122
    List153{{"List[153∈5]<br />ᐸ48,152ᐳ"}}:::plan
    PgClassExpression152{{"PgClassExpression[152∈5]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant48 & PgClassExpression152 --> List153
    __Item149[/"__Item[149∈5]<br />ᐸ148ᐳ"\]:::itemplan
    PgSelectRows148 ==> __Item149
    PgSelectSingle150{{"PgSelectSingle[150∈5]<br />ᐸbuildingsᐳ"}}:::plan
    __Item149 --> PgSelectSingle150
    PgSelectSingle150 --> PgClassExpression152
    Lambda154{{"Lambda[154∈5]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List153 --> Lambda154
    PgClassExpression155{{"PgClassExpression[155∈5]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle150 --> PgClassExpression155
    List184{{"List[184∈6]<br />ᐸ48,183ᐳ"}}:::plan
    PgClassExpression183{{"PgClassExpression[183∈6]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant48 & PgClassExpression183 --> List184
    __Item180[/"__Item[180∈6]<br />ᐸ179ᐳ"\]:::itemplan
    PgSelectRows179 ==> __Item180
    PgSelectSingle181{{"PgSelectSingle[181∈6]<br />ᐸbuildingsᐳ"}}:::plan
    __Item180 --> PgSelectSingle181
    PgSelectSingle181 --> PgClassExpression183
    Lambda185{{"Lambda[185∈6]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List184 --> Lambda185
    PgClassExpression186{{"PgClassExpression[186∈6]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle181 --> PgClassExpression186
    List217{{"List[217∈7]<br />ᐸ48,216ᐳ"}}:::plan
    PgClassExpression216{{"PgClassExpression[216∈7]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant48 & PgClassExpression216 --> List217
    __Item213[/"__Item[213∈7]<br />ᐸ212ᐳ"\]:::itemplan
    PgSelectRows212 ==> __Item213
    PgSelectSingle214{{"PgSelectSingle[214∈7]<br />ᐸbuildingsᐳ"}}:::plan
    __Item213 --> PgSelectSingle214
    PgSelectSingle214 --> PgClassExpression216
    Lambda218{{"Lambda[218∈7]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List217 --> Lambda218
    PgClassExpression219{{"PgClassExpression[219∈7]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle214 --> PgClassExpression219

    %% define steps

    subgraph "Buckets for queries/v4/smart_comment_relations.houses"
    Bucket0("Bucket 0 (root)<br /><br />1: <br />ᐳ: 6, 9, 10, 18, 34, 48, 94, 253, 254, 255, 11, 12, 42, 77, 112, 145, 176, 209, 236, 237, 239<br />2: 14, 222, 241<br />3: 15, 225, 244<br />ᐳ: 224, 226, 227, 228, 229, 231, 232, 233, 234, 243, 245, 246, 247, 248, 249, 250, 251, 252"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value2,__Value4,Access9,Access10,Object11,Connection12,PgSelect14,PgSelectRows15,Constant18,Constant34,Connection42,Constant48,Connection77,Constant94,Connection112,Connection145,Connection176,Connection209,PgSelect222,First224,PgSelectRows225,PgSelectSingle226,PgClassExpression227,PgClassExpression228,PgClassExpression229,PgClassExpression231,PgClassExpression232,List233,Lambda234,Lambda236,Access237,Access239,PgSelect241,First243,PgSelectRows244,PgSelectSingle245,PgClassExpression246,PgClassExpression247,PgClassExpression248,PgClassExpression249,PgClassExpression250,List251,Lambda252,Constant253,Constant254,Constant255 bucket0
    Bucket1("Bucket 1 (listItem)<br />Deps: 18, 11, 34, 42, 6, 48, 77, 94, 112, 145, 176, 209<br /><br />ROOT __Item{1}ᐸ15ᐳ[16]<br />1: <br />ᐳ: 17, 19, 20, 21, 22, 23, 24, 25, 26<br />2: 27, 53, 123, 156<br />3: 32, 56, 126, 159<br />ᐳ: 31, 33, 35, 36, 37, 38, 55, 57, 59, 60, 61, 62, 63, 64, 88, 125, 127, 128, 129, 130, 131, 132, 158, 160, 161, 162, 163<br />4: 44, 65, 89, 133, 164, 187<br />5: 45, 68, 92, 136, 167, 190<br />ᐳ: 67, 69, 70, 71, 72, 73, 91, 93, 95, 96, 97, 98, 99, 135, 137, 138, 139, 140, 141, 166, 168, 169, 170, 171, 172, 189, 191, 192, 193, 194, 195, 196<br />6: 79, 100, 147, 178, 197<br />7: 80, 103, 148, 179, 200<br />ᐳ: 102, 104, 105, 106, 107, 108, 199, 201, 202, 203, 204, 205<br />8: PgSelect[114], PgSelect[211]<br />9: PgSelectRows[115], PgSelectRows[212]"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,__Item16,PgSelectSingle17,PgClassExpression19,PgClassExpression20,List21,Lambda22,PgClassExpression23,PgClassExpression24,PgClassExpression25,PgClassExpression26,PgSelect27,First31,PgSelectRows32,PgSelectSingle33,PgClassExpression35,List36,Lambda37,PgClassExpression38,PgSelect44,PgSelectRows45,PgSelect53,First55,PgSelectRows56,PgSelectSingle57,PgClassExpression59,List60,Lambda61,PgClassExpression62,PgClassExpression63,PgClassExpression64,PgSelect65,First67,PgSelectRows68,PgSelectSingle69,PgClassExpression70,List71,Lambda72,PgClassExpression73,PgSelect79,PgSelectRows80,PgClassExpression88,PgSelect89,First91,PgSelectRows92,PgSelectSingle93,PgClassExpression95,List96,Lambda97,PgClassExpression98,PgClassExpression99,PgSelect100,First102,PgSelectRows103,PgSelectSingle104,PgClassExpression105,List106,Lambda107,PgClassExpression108,PgSelect114,PgSelectRows115,PgSelect123,First125,PgSelectRows126,PgSelectSingle127,PgClassExpression128,List129,Lambda130,PgClassExpression131,PgClassExpression132,PgSelect133,First135,PgSelectRows136,PgSelectSingle137,PgClassExpression138,List139,Lambda140,PgClassExpression141,PgSelect147,PgSelectRows148,PgSelect156,First158,PgSelectRows159,PgSelectSingle160,PgClassExpression161,PgClassExpression162,PgClassExpression163,PgSelect164,First166,PgSelectRows167,PgSelectSingle168,PgClassExpression169,List170,Lambda171,PgClassExpression172,PgSelect178,PgSelectRows179,PgSelect187,First189,PgSelectRows190,PgSelectSingle191,PgClassExpression192,List193,Lambda194,PgClassExpression195,PgClassExpression196,PgSelect197,First199,PgSelectRows200,PgSelectSingle201,PgClassExpression202,List203,Lambda204,PgClassExpression205,PgSelect211,PgSelectRows212 bucket1
    Bucket2("Bucket 2 (listItem)<br />Deps: 48<br /><br />ROOT __Item{2}ᐸ45ᐳ[46]"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,__Item46,PgSelectSingle47,PgClassExpression49,List50,Lambda51,PgClassExpression52 bucket2
    Bucket3("Bucket 3 (listItem)<br />Deps: 48<br /><br />ROOT __Item{3}ᐸ80ᐳ[81]"):::bucket
    classDef bucket3 stroke:#ffa500
    class Bucket3,__Item81,PgSelectSingle82,PgClassExpression84,List85,Lambda86,PgClassExpression87 bucket3
    Bucket4("Bucket 4 (listItem)<br />Deps: 48<br /><br />ROOT __Item{4}ᐸ115ᐳ[116]"):::bucket
    classDef bucket4 stroke:#0000ff
    class Bucket4,__Item116,PgSelectSingle117,PgClassExpression119,List120,Lambda121,PgClassExpression122 bucket4
    Bucket5("Bucket 5 (listItem)<br />Deps: 48<br /><br />ROOT __Item{5}ᐸ148ᐳ[149]"):::bucket
    classDef bucket5 stroke:#7fff00
    class Bucket5,__Item149,PgSelectSingle150,PgClassExpression152,List153,Lambda154,PgClassExpression155 bucket5
    Bucket6("Bucket 6 (listItem)<br />Deps: 48<br /><br />ROOT __Item{6}ᐸ179ᐳ[180]"):::bucket
    classDef bucket6 stroke:#ff1493
    class Bucket6,__Item180,PgSelectSingle181,PgClassExpression183,List184,Lambda185,PgClassExpression186 bucket6
    Bucket7("Bucket 7 (listItem)<br />Deps: 48<br /><br />ROOT __Item{7}ᐸ212ᐳ[213]"):::bucket
    classDef bucket7 stroke:#808000
    class Bucket7,__Item213,PgSelectSingle214,PgClassExpression216,List217,Lambda218,PgClassExpression219 bucket7
    Bucket0 --> Bucket1
    Bucket1 --> Bucket2 & Bucket3 & Bucket4 & Bucket5 & Bucket6 & Bucket7
    end
