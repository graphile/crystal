%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef unbatchedplan fill:#dff,stroke-width:1px,color:#000
    classDef sideeffectplan fill:#fcc,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left


    %% plan dependencies
    PgSelect274[["PgSelect[274∈0] ➊<br />ᐸhousesᐳ"]]:::plan
    Object17{{"Object[17∈0] ➊<br />ᐸ{pgSettings,withPgClient}ᐳ"}}:::plan
    Constant492{{"Constant[492∈0] ➊<br />ᐸ2ᐳ"}}:::plan
    Constant493{{"Constant[493∈0] ➊<br />ᐸ3ᐳ"}}:::plan
    Lambda311{{"Lambda[311∈0] ➊<br />ᐸcalculateLimitAndOffsetSQLᐳ"}}:::plan
    Object17 & Constant492 & Constant493 & Lambda311 --> PgSelect274
    PgSelect292[["PgSelect[292∈0] ➊<br />ᐸhousesᐳ"]]:::plan
    Access288{{"Access[288∈0] ➊<br />ᐸ287.1ᐳ"}}:::plan
    Access290{{"Access[290∈0] ➊<br />ᐸ287.2ᐳ"}}:::plan
    Object17 -->|rejectNull| PgSelect292
    Access288 -->|rejectNull| PgSelect292
    Access290 & Lambda311 --> PgSelect292
    Access15{{"Access[15∈0] ➊<br />ᐸ2.pgSettingsᐳ"}}:::plan
    Access16{{"Access[16∈0] ➊<br />ᐸ2.withPgClientᐳ"}}:::plan
    Access15 & Access16 --> Object17
    __Value2["__Value[2∈0] ➊<br />ᐸcontextᐳ"]:::plan
    __Value2 --> Access15
    __Value2 --> Access16
    First276{{"First[276∈0] ➊"}}:::plan
    PgSelect274 --> First276
    PgSelectSingle277{{"PgSelectSingle[277∈0] ➊<br />ᐸhousesᐳ"}}:::plan
    First276 --> PgSelectSingle277
    Lambda287{{"Lambda[287∈0] ➊<br />ᐸspecifier_House_base64JSONᐳ"}}:::plan
    Constant494{{"Constant[494∈0] ➊<br />ᐸ'WyJob3VzZXMiLDIsM10='ᐳ"}}:::plan
    Constant494 --> Lambda287
    Lambda287 --> Access288
    Lambda287 --> Access290
    First294{{"First[294∈0] ➊"}}:::plan
    PgSelect292 --> First294
    PgSelectSingle295{{"PgSelectSingle[295∈0] ➊<br />ᐸhousesᐳ"}}:::plan
    First294 --> PgSelectSingle295
    Constant495{{"Constant[495∈0] ➊<br />ᐸ[Object: null prototype] {   cursorLower: null,   cursorUppeᐳ"}}:::plan
    Constant495 --> Lambda311
    __Value4["__Value[4∈0] ➊<br />ᐸrootValueᐳ"]:::plan
    Connection18{{"Connection[18∈0] ➊<br />ᐸ14ᐳ"}}:::plan
    Constant22{{"Constant[22∈0] ➊<br />ᐸ'houses'ᐳ"}}:::plan
    Constant37{{"Constant[37∈0] ➊<br />ᐸ'streets'ᐳ"}}:::plan
    Constant58{{"Constant[58∈0] ➊<br />ᐸ'buildings'ᐳ"}}:::plan
    Constant111{{"Constant[111∈0] ➊<br />ᐸ'properties'ᐳ"}}:::plan
    PgSelect19[["PgSelect[19∈1] ➊<br />ᐸhousesᐳ"]]:::plan
    Object17 & Connection18 & Lambda311 & Lambda311 & Lambda311 & Lambda311 & Lambda311 & Lambda311 --> PgSelect19
    Connection54{{"Connection[54∈1] ➊<br />ᐸ50ᐳ"}}:::plan
    Connection97{{"Connection[97∈1] ➊<br />ᐸ93ᐳ"}}:::plan
    Connection140{{"Connection[140∈1] ➊<br />ᐸ136ᐳ"}}:::plan
    Connection182{{"Connection[182∈1] ➊<br />ᐸ178ᐳ"}}:::plan
    Connection221{{"Connection[221∈1] ➊<br />ᐸ217ᐳ"}}:::plan
    Connection263{{"Connection[263∈1] ➊<br />ᐸ259ᐳ"}}:::plan
    __Item20[/"__Item[20∈2]<br />ᐸ19ᐳ"\]:::itemplan
    PgSelect19 ==> __Item20
    PgSelectSingle21{{"PgSelectSingle[21∈2]<br />ᐸhousesᐳ"}}:::plan
    __Item20 --> PgSelectSingle21
    List25{{"List[25∈3]<br />ᐸ22,23,24ᐳ"}}:::plan
    PgClassExpression23{{"PgClassExpression[23∈3]<br />ᐸ__houses__.”street_id”ᐳ"}}:::plan
    PgClassExpression24{{"PgClassExpression[24∈3]<br />ᐸ__houses__...operty_id”ᐳ"}}:::plan
    Constant22 & PgClassExpression23 & PgClassExpression24 --> List25
    PgSelectSingle21 --> PgClassExpression23
    PgSelectSingle21 --> PgClassExpression24
    Lambda26{{"Lambda[26∈3]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List25 --> Lambda26
    PgClassExpression27{{"PgClassExpression[27∈3]<br />ᐸ__houses__...ding_name”ᐳ"}}:::plan
    PgSelectSingle21 --> PgClassExpression27
    PgClassExpression28{{"PgClassExpression[28∈3]<br />ᐸ__houses__...or_number”ᐳ"}}:::plan
    PgSelectSingle21 --> PgClassExpression28
    PgClassExpression29{{"PgClassExpression[29∈3]<br />ᐸ__houses__...reet_name”ᐳ"}}:::plan
    PgSelectSingle21 --> PgClassExpression29
    PgClassExpression30{{"PgClassExpression[30∈3]<br />ᐸ__houses__...ilding_id”ᐳ"}}:::plan
    PgSelectSingle21 --> PgClassExpression30
    PgSelectSingle36{{"PgSelectSingle[36∈3]<br />ᐸstreetsᐳ"}}:::plan
    PgSelectSingle21 --> PgSelectSingle36
    PgSelectSingle66{{"PgSelectSingle[66∈3]<br />ᐸbuildingsᐳ"}}:::plan
    RemapKeys466{{"RemapKeys[466∈3]<br />ᐸ21:{”0”:26,”1”:27,”2”:28,”3”:29,”4”:30,”5”:31,”6”:32,”7”:33,”8”:34,”9”:35,”10”:36,”11”:37,”12”:38}ᐳ"}}:::plan
    RemapKeys466 --> PgSelectSingle66
    PgSelectSingle152{{"PgSelectSingle[152∈3]<br />ᐸpropertiesᐳ"}}:::plan
    RemapKeys408{{"RemapKeys[408∈3]<br />ᐸ21:{”0”:16,”1”:17,”2”:18,”3”:19,”4”:20,”5”:21}ᐳ"}}:::plan
    RemapKeys408 --> PgSelectSingle152
    PgSelectSingle194{{"PgSelectSingle[194∈3]<br />ᐸstreet_propertyᐳ"}}:::plan
    RemapKeys379{{"RemapKeys[379∈3]<br />ᐸ21:{”0”:3,”1”:4,”2”:5,”3”:6,”4”:7,”5”:8,”6”:9,”7”:10,”8”:11,”9”:12,”10”:13,”11”:14}ᐳ"}}:::plan
    RemapKeys379 --> PgSelectSingle194
    PgSelectSingle21 --> RemapKeys379
    PgSelectSingle21 --> RemapKeys408
    PgSelectSingle21 --> RemapKeys466
    List39{{"List[39∈4]<br />ᐸ37,38ᐳ"}}:::plan
    PgClassExpression38{{"PgClassExpression[38∈4]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant37 & PgClassExpression38 --> List39
    PgSelectSingle36 --> PgClassExpression38
    Lambda40{{"Lambda[40∈4]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List39 --> Lambda40
    PgClassExpression41{{"PgClassExpression[41∈4]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    PgSelectSingle36 --> PgClassExpression41
    Access312{{"Access[312∈4]<br />ᐸ21.1ᐳ"}}:::plan
    PgSelectSingle21 --> Access312
    __Item56[/"__Item[56∈5]<br />ᐸ312ᐳ"\]:::itemplan
    Access312 ==> __Item56
    PgSelectSingle57{{"PgSelectSingle[57∈5]<br />ᐸbuildingsᐳ"}}:::plan
    __Item56 --> PgSelectSingle57
    List60{{"List[60∈6]<br />ᐸ58,59ᐳ"}}:::plan
    PgClassExpression59{{"PgClassExpression[59∈6]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant58 & PgClassExpression59 --> List60
    PgSelectSingle57 --> PgClassExpression59
    Lambda61{{"Lambda[61∈6]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List60 --> Lambda61
    PgClassExpression62{{"PgClassExpression[62∈6]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle57 --> PgClassExpression62
    List69{{"List[69∈7]<br />ᐸ58,68ᐳ"}}:::plan
    PgClassExpression68{{"PgClassExpression[68∈7]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant58 & PgClassExpression68 --> List69
    PgSelectSingle66 --> PgClassExpression68
    Lambda70{{"Lambda[70∈7]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List69 --> Lambda70
    PgClassExpression71{{"PgClassExpression[71∈7]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle66 --> PgClassExpression71
    PgClassExpression72{{"PgClassExpression[72∈7]<br />ᐸ__buildings__.”floors”ᐳ"}}:::plan
    PgSelectSingle66 --> PgClassExpression72
    PgClassExpression73{{"PgClassExpression[73∈7]<br />ᐸ__building...s_primary”ᐳ"}}:::plan
    PgSelectSingle66 --> PgClassExpression73
    PgSelectSingle79{{"PgSelectSingle[79∈7]<br />ᐸstreetsᐳ"}}:::plan
    RemapKeys427{{"RemapKeys[427∈7]<br />ᐸ66:{”0”:1,”1”:2,”2”:3}ᐳ"}}:::plan
    RemapKeys427 --> PgSelectSingle79
    PgSelectSingle110{{"PgSelectSingle[110∈7]<br />ᐸpropertiesᐳ"}}:::plan
    RemapKeys456{{"RemapKeys[456∈7]<br />ᐸ66:{”0”:7,”1”:8,”2”:9,”3”:10,”4”:11,”5”:12}ᐳ"}}:::plan
    RemapKeys456 --> PgSelectSingle110
    PgSelectSingle66 --> RemapKeys427
    PgSelectSingle66 --> RemapKeys456
    List82{{"List[82∈8]<br />ᐸ37,81ᐳ"}}:::plan
    PgClassExpression81{{"PgClassExpression[81∈8]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant37 & PgClassExpression81 --> List82
    PgSelectSingle79 --> PgClassExpression81
    Lambda83{{"Lambda[83∈8]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List82 --> Lambda83
    PgClassExpression84{{"PgClassExpression[84∈8]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    PgSelectSingle79 --> PgClassExpression84
    Access418{{"Access[418∈8]<br />ᐸ427.1ᐳ"}}:::plan
    RemapKeys427 --> Access418
    __Item99[/"__Item[99∈9]<br />ᐸ418ᐳ"\]:::itemplan
    Access418 ==> __Item99
    PgSelectSingle100{{"PgSelectSingle[100∈9]<br />ᐸbuildingsᐳ"}}:::plan
    __Item99 --> PgSelectSingle100
    List103{{"List[103∈10]<br />ᐸ58,102ᐳ"}}:::plan
    PgClassExpression102{{"PgClassExpression[102∈10]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant58 & PgClassExpression102 --> List103
    PgSelectSingle100 --> PgClassExpression102
    Lambda104{{"Lambda[104∈10]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List103 --> Lambda104
    PgClassExpression105{{"PgClassExpression[105∈10]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle100 --> PgClassExpression105
    List113{{"List[113∈11]<br />ᐸ111,112ᐳ"}}:::plan
    PgClassExpression112{{"PgClassExpression[112∈11]<br />ᐸ__properties__.”id”ᐳ"}}:::plan
    Constant111 & PgClassExpression112 --> List113
    PgSelectSingle110 --> PgClassExpression112
    Lambda114{{"Lambda[114∈11]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List113 --> Lambda114
    PgClassExpression115{{"PgClassExpression[115∈11]<br />ᐸ__properti...street_id”ᐳ"}}:::plan
    PgSelectSingle110 --> PgClassExpression115
    PgClassExpression116{{"PgClassExpression[116∈11]<br />ᐸ__properti...or_number”ᐳ"}}:::plan
    PgSelectSingle110 --> PgClassExpression116
    PgSelectSingle122{{"PgSelectSingle[122∈11]<br />ᐸstreetsᐳ"}}:::plan
    RemapKeys446{{"RemapKeys[446∈11]<br />ᐸ110:{”0”:1,”1”:2,”2”:3}ᐳ"}}:::plan
    RemapKeys446 --> PgSelectSingle122
    PgSelectSingle110 --> RemapKeys446
    List125{{"List[125∈12]<br />ᐸ37,124ᐳ"}}:::plan
    PgClassExpression124{{"PgClassExpression[124∈12]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant37 & PgClassExpression124 --> List125
    PgSelectSingle122 --> PgClassExpression124
    Lambda126{{"Lambda[126∈12]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List125 --> Lambda126
    PgClassExpression127{{"PgClassExpression[127∈12]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    PgSelectSingle122 --> PgClassExpression127
    Access437{{"Access[437∈12]<br />ᐸ446.1ᐳ"}}:::plan
    RemapKeys446 --> Access437
    __Item142[/"__Item[142∈13]<br />ᐸ437ᐳ"\]:::itemplan
    Access437 ==> __Item142
    PgSelectSingle143{{"PgSelectSingle[143∈13]<br />ᐸbuildingsᐳ"}}:::plan
    __Item142 --> PgSelectSingle143
    List146{{"List[146∈14]<br />ᐸ58,145ᐳ"}}:::plan
    PgClassExpression145{{"PgClassExpression[145∈14]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant58 & PgClassExpression145 --> List146
    PgSelectSingle143 --> PgClassExpression145
    Lambda147{{"Lambda[147∈14]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List146 --> Lambda147
    PgClassExpression148{{"PgClassExpression[148∈14]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle143 --> PgClassExpression148
    List155{{"List[155∈15]<br />ᐸ111,154ᐳ"}}:::plan
    PgClassExpression154{{"PgClassExpression[154∈15]<br />ᐸ__properties__.”id”ᐳ"}}:::plan
    Constant111 & PgClassExpression154 --> List155
    PgSelectSingle152 --> PgClassExpression154
    Lambda156{{"Lambda[156∈15]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List155 --> Lambda156
    PgClassExpression157{{"PgClassExpression[157∈15]<br />ᐸ__properti...street_id”ᐳ"}}:::plan
    PgSelectSingle152 --> PgClassExpression157
    PgClassExpression158{{"PgClassExpression[158∈15]<br />ᐸ__properti...or_number”ᐳ"}}:::plan
    PgSelectSingle152 --> PgClassExpression158
    PgSelectSingle164{{"PgSelectSingle[164∈15]<br />ᐸstreetsᐳ"}}:::plan
    RemapKeys398{{"RemapKeys[398∈15]<br />ᐸ152:{”0”:1,”1”:2,”2”:3}ᐳ"}}:::plan
    RemapKeys398 --> PgSelectSingle164
    PgSelectSingle152 --> RemapKeys398
    List167{{"List[167∈16]<br />ᐸ37,166ᐳ"}}:::plan
    PgClassExpression166{{"PgClassExpression[166∈16]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant37 & PgClassExpression166 --> List167
    PgSelectSingle164 --> PgClassExpression166
    Lambda168{{"Lambda[168∈16]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List167 --> Lambda168
    PgClassExpression169{{"PgClassExpression[169∈16]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    PgSelectSingle164 --> PgClassExpression169
    Access389{{"Access[389∈16]<br />ᐸ398.1ᐳ"}}:::plan
    RemapKeys398 --> Access389
    __Item184[/"__Item[184∈17]<br />ᐸ389ᐳ"\]:::itemplan
    Access389 ==> __Item184
    PgSelectSingle185{{"PgSelectSingle[185∈17]<br />ᐸbuildingsᐳ"}}:::plan
    __Item184 --> PgSelectSingle185
    List188{{"List[188∈18]<br />ᐸ58,187ᐳ"}}:::plan
    PgClassExpression187{{"PgClassExpression[187∈18]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant58 & PgClassExpression187 --> List188
    PgSelectSingle185 --> PgClassExpression187
    Lambda189{{"Lambda[189∈18]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List188 --> Lambda189
    PgClassExpression190{{"PgClassExpression[190∈18]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle185 --> PgClassExpression190
    PgClassExpression195{{"PgClassExpression[195∈19]<br />ᐸ__street_p..._.”str_id”ᐳ"}}:::plan
    PgSelectSingle194 --> PgClassExpression195
    PgClassExpression196{{"PgClassExpression[196∈19]<br />ᐸ__street_p....”prop_id”ᐳ"}}:::plan
    PgSelectSingle194 --> PgClassExpression196
    PgClassExpression197{{"PgClassExpression[197∈19]<br />ᐸ__street_p...ent_owner”ᐳ"}}:::plan
    PgSelectSingle194 --> PgClassExpression197
    PgSelectSingle203{{"PgSelectSingle[203∈19]<br />ᐸstreetsᐳ"}}:::plan
    PgSelectSingle194 --> PgSelectSingle203
    PgSelectSingle233{{"PgSelectSingle[233∈19]<br />ᐸpropertiesᐳ"}}:::plan
    RemapKeys369{{"RemapKeys[369∈19]<br />ᐸ194:{”0”:4,”1”:5,”2”:6,”3”:7,”4”:8,”5”:9}ᐳ"}}:::plan
    RemapKeys369 --> PgSelectSingle233
    PgSelectSingle194 --> RemapKeys369
    List206{{"List[206∈20]<br />ᐸ37,205ᐳ"}}:::plan
    PgClassExpression205{{"PgClassExpression[205∈20]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant37 & PgClassExpression205 --> List206
    PgSelectSingle203 --> PgClassExpression205
    Lambda207{{"Lambda[207∈20]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List206 --> Lambda207
    PgClassExpression208{{"PgClassExpression[208∈20]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    PgSelectSingle203 --> PgClassExpression208
    Access331{{"Access[331∈20]<br />ᐸ194.1ᐳ"}}:::plan
    PgSelectSingle194 --> Access331
    __Item223[/"__Item[223∈21]<br />ᐸ331ᐳ"\]:::itemplan
    Access331 ==> __Item223
    PgSelectSingle224{{"PgSelectSingle[224∈21]<br />ᐸbuildingsᐳ"}}:::plan
    __Item223 --> PgSelectSingle224
    List227{{"List[227∈22]<br />ᐸ58,226ᐳ"}}:::plan
    PgClassExpression226{{"PgClassExpression[226∈22]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant58 & PgClassExpression226 --> List227
    PgSelectSingle224 --> PgClassExpression226
    Lambda228{{"Lambda[228∈22]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List227 --> Lambda228
    PgClassExpression229{{"PgClassExpression[229∈22]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle224 --> PgClassExpression229
    List236{{"List[236∈23]<br />ᐸ111,235ᐳ"}}:::plan
    PgClassExpression235{{"PgClassExpression[235∈23]<br />ᐸ__properties__.”id”ᐳ"}}:::plan
    Constant111 & PgClassExpression235 --> List236
    PgSelectSingle233 --> PgClassExpression235
    Lambda237{{"Lambda[237∈23]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List236 --> Lambda237
    PgClassExpression238{{"PgClassExpression[238∈23]<br />ᐸ__properti...street_id”ᐳ"}}:::plan
    PgSelectSingle233 --> PgClassExpression238
    PgClassExpression239{{"PgClassExpression[239∈23]<br />ᐸ__properti...or_number”ᐳ"}}:::plan
    PgSelectSingle233 --> PgClassExpression239
    PgSelectSingle245{{"PgSelectSingle[245∈23]<br />ᐸstreetsᐳ"}}:::plan
    RemapKeys359{{"RemapKeys[359∈23]<br />ᐸ233:{”0”:1,”1”:2,”2”:3}ᐳ"}}:::plan
    RemapKeys359 --> PgSelectSingle245
    PgSelectSingle233 --> RemapKeys359
    List248{{"List[248∈24]<br />ᐸ37,247ᐳ"}}:::plan
    PgClassExpression247{{"PgClassExpression[247∈24]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant37 & PgClassExpression247 --> List248
    PgSelectSingle245 --> PgClassExpression247
    Lambda249{{"Lambda[249∈24]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List248 --> Lambda249
    PgClassExpression250{{"PgClassExpression[250∈24]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    PgSelectSingle245 --> PgClassExpression250
    Access350{{"Access[350∈24]<br />ᐸ359.1ᐳ"}}:::plan
    RemapKeys359 --> Access350
    __Item265[/"__Item[265∈25]<br />ᐸ350ᐳ"\]:::itemplan
    Access350 ==> __Item265
    PgSelectSingle266{{"PgSelectSingle[266∈25]<br />ᐸbuildingsᐳ"}}:::plan
    __Item265 --> PgSelectSingle266
    List269{{"List[269∈26]<br />ᐸ58,268ᐳ"}}:::plan
    PgClassExpression268{{"PgClassExpression[268∈26]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant58 & PgClassExpression268 --> List269
    PgSelectSingle266 --> PgClassExpression268
    Lambda270{{"Lambda[270∈26]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List269 --> Lambda270
    PgClassExpression271{{"PgClassExpression[271∈26]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle266 --> PgClassExpression271
    List284{{"List[284∈27] ➊<br />ᐸ22,282,283ᐳ"}}:::plan
    PgClassExpression282{{"PgClassExpression[282∈27] ➊<br />ᐸ__houses__.”street_id”ᐳ"}}:::plan
    PgClassExpression283{{"PgClassExpression[283∈27] ➊<br />ᐸ__houses__...operty_id”ᐳ"}}:::plan
    Constant22 & PgClassExpression282 & PgClassExpression283 --> List284
    PgClassExpression278{{"PgClassExpression[278∈27] ➊<br />ᐸ__houses__...ding_name”ᐳ"}}:::plan
    PgSelectSingle277 --> PgClassExpression278
    PgClassExpression279{{"PgClassExpression[279∈27] ➊<br />ᐸ__houses__...or_number”ᐳ"}}:::plan
    PgSelectSingle277 --> PgClassExpression279
    PgClassExpression280{{"PgClassExpression[280∈27] ➊<br />ᐸ__houses__...reet_name”ᐳ"}}:::plan
    PgSelectSingle277 --> PgClassExpression280
    PgSelectSingle277 --> PgClassExpression282
    PgSelectSingle277 --> PgClassExpression283
    Lambda285{{"Lambda[285∈27] ➊<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List284 --> Lambda285
    List302{{"List[302∈28] ➊<br />ᐸ22,300,301ᐳ"}}:::plan
    PgClassExpression300{{"PgClassExpression[300∈28] ➊<br />ᐸ__houses__.”street_id”ᐳ"}}:::plan
    PgClassExpression301{{"PgClassExpression[301∈28] ➊<br />ᐸ__houses__...operty_id”ᐳ"}}:::plan
    Constant22 & PgClassExpression300 & PgClassExpression301 --> List302
    PgClassExpression296{{"PgClassExpression[296∈28] ➊<br />ᐸ__houses__...ding_name”ᐳ"}}:::plan
    PgSelectSingle295 --> PgClassExpression296
    PgClassExpression297{{"PgClassExpression[297∈28] ➊<br />ᐸ__houses__...or_number”ᐳ"}}:::plan
    PgSelectSingle295 --> PgClassExpression297
    PgClassExpression298{{"PgClassExpression[298∈28] ➊<br />ᐸ__houses__...reet_name”ᐳ"}}:::plan
    PgSelectSingle295 --> PgClassExpression298
    PgSelectSingle295 --> PgClassExpression300
    PgSelectSingle295 --> PgClassExpression301
    Lambda303{{"Lambda[303∈28] ➊<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List302 --> Lambda303

    %% define steps

    subgraph "Buckets for queries/v4/smart_comment_relations.houses"
    Bucket0("Bucket 0 (root)<br /><br />1: <br />ᐳ: 15, 16, 18, 22, 37, 58, 111, 492, 493, 494, 495, 17, 287, 288, 290, 311<br />2: PgSelect[274], PgSelect[292]<br />ᐳ: 276, 277, 294, 295"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value2,__Value4,Access15,Access16,Object17,Connection18,Constant22,Constant37,Constant58,Constant111,PgSelect274,First276,PgSelectSingle277,Lambda287,Access288,Access290,PgSelect292,First294,PgSelectSingle295,Lambda311,Constant492,Constant493,Constant494,Constant495 bucket0
    Bucket1("Bucket 1 (nullableBoundary)<br />Deps: 17, 18, 311, 22, 37, 58, 111<br /><br />ROOT Connectionᐸ14ᐳ[18]"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,PgSelect19,Connection54,Connection97,Connection140,Connection182,Connection221,Connection263 bucket1
    Bucket2("Bucket 2 (listItem)<br />Deps: 22, 37, 58, 111, 54, 97, 140, 182, 221, 263<br /><br />ROOT __Item{2}ᐸ19ᐳ[20]"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,__Item20,PgSelectSingle21 bucket2
    Bucket3("Bucket 3 (nullableBoundary)<br />Deps: 21, 22, 37, 58, 111, 54, 97, 140, 182, 221, 263<br /><br />ROOT PgSelectSingle{2}ᐸhousesᐳ[21]"):::bucket
    classDef bucket3 stroke:#ffa500
    class Bucket3,PgClassExpression23,PgClassExpression24,List25,Lambda26,PgClassExpression27,PgClassExpression28,PgClassExpression29,PgClassExpression30,PgSelectSingle36,PgSelectSingle66,PgSelectSingle152,PgSelectSingle194,RemapKeys379,RemapKeys408,RemapKeys466 bucket3
    Bucket4("Bucket 4 (nullableBoundary)<br />Deps: 36, 37, 21, 58, 54<br /><br />ROOT PgSelectSingle{3}ᐸstreetsᐳ[36]"):::bucket
    classDef bucket4 stroke:#0000ff
    class Bucket4,PgClassExpression38,List39,Lambda40,PgClassExpression41,Access312 bucket4
    Bucket5("Bucket 5 (listItem)<br />Deps: 58<br /><br />ROOT __Item{5}ᐸ312ᐳ[56]"):::bucket
    classDef bucket5 stroke:#7fff00
    class Bucket5,__Item56,PgSelectSingle57 bucket5
    Bucket6("Bucket 6 (nullableBoundary)<br />Deps: 57, 58<br /><br />ROOT PgSelectSingle{5}ᐸbuildingsᐳ[57]"):::bucket
    classDef bucket6 stroke:#ff1493
    class Bucket6,PgClassExpression59,List60,Lambda61,PgClassExpression62 bucket6
    Bucket7("Bucket 7 (nullableBoundary)<br />Deps: 66, 58, 37, 111, 97, 140<br /><br />ROOT PgSelectSingle{3}ᐸbuildingsᐳ[66]"):::bucket
    classDef bucket7 stroke:#808000
    class Bucket7,PgClassExpression68,List69,Lambda70,PgClassExpression71,PgClassExpression72,PgClassExpression73,PgSelectSingle79,PgSelectSingle110,RemapKeys427,RemapKeys456 bucket7
    Bucket8("Bucket 8 (nullableBoundary)<br />Deps: 79, 37, 427, 58, 97<br /><br />ROOT PgSelectSingle{7}ᐸstreetsᐳ[79]"):::bucket
    classDef bucket8 stroke:#dda0dd
    class Bucket8,PgClassExpression81,List82,Lambda83,PgClassExpression84,Access418 bucket8
    Bucket9("Bucket 9 (listItem)<br />Deps: 58<br /><br />ROOT __Item{9}ᐸ418ᐳ[99]"):::bucket
    classDef bucket9 stroke:#ff0000
    class Bucket9,__Item99,PgSelectSingle100 bucket9
    Bucket10("Bucket 10 (nullableBoundary)<br />Deps: 100, 58<br /><br />ROOT PgSelectSingle{9}ᐸbuildingsᐳ[100]"):::bucket
    classDef bucket10 stroke:#ffff00
    class Bucket10,PgClassExpression102,List103,Lambda104,PgClassExpression105 bucket10
    Bucket11("Bucket 11 (nullableBoundary)<br />Deps: 110, 111, 37, 58, 140<br /><br />ROOT PgSelectSingle{7}ᐸpropertiesᐳ[110]"):::bucket
    classDef bucket11 stroke:#00ffff
    class Bucket11,PgClassExpression112,List113,Lambda114,PgClassExpression115,PgClassExpression116,PgSelectSingle122,RemapKeys446 bucket11
    Bucket12("Bucket 12 (nullableBoundary)<br />Deps: 122, 37, 446, 58, 140<br /><br />ROOT PgSelectSingle{11}ᐸstreetsᐳ[122]"):::bucket
    classDef bucket12 stroke:#4169e1
    class Bucket12,PgClassExpression124,List125,Lambda126,PgClassExpression127,Access437 bucket12
    Bucket13("Bucket 13 (listItem)<br />Deps: 58<br /><br />ROOT __Item{13}ᐸ437ᐳ[142]"):::bucket
    classDef bucket13 stroke:#3cb371
    class Bucket13,__Item142,PgSelectSingle143 bucket13
    Bucket14("Bucket 14 (nullableBoundary)<br />Deps: 143, 58<br /><br />ROOT PgSelectSingle{13}ᐸbuildingsᐳ[143]"):::bucket
    classDef bucket14 stroke:#a52a2a
    class Bucket14,PgClassExpression145,List146,Lambda147,PgClassExpression148 bucket14
    Bucket15("Bucket 15 (nullableBoundary)<br />Deps: 152, 111, 37, 58, 182<br /><br />ROOT PgSelectSingle{3}ᐸpropertiesᐳ[152]"):::bucket
    classDef bucket15 stroke:#ff00ff
    class Bucket15,PgClassExpression154,List155,Lambda156,PgClassExpression157,PgClassExpression158,PgSelectSingle164,RemapKeys398 bucket15
    Bucket16("Bucket 16 (nullableBoundary)<br />Deps: 164, 37, 398, 58, 182<br /><br />ROOT PgSelectSingle{15}ᐸstreetsᐳ[164]"):::bucket
    classDef bucket16 stroke:#f5deb3
    class Bucket16,PgClassExpression166,List167,Lambda168,PgClassExpression169,Access389 bucket16
    Bucket17("Bucket 17 (listItem)<br />Deps: 58<br /><br />ROOT __Item{17}ᐸ389ᐳ[184]"):::bucket
    classDef bucket17 stroke:#696969
    class Bucket17,__Item184,PgSelectSingle185 bucket17
    Bucket18("Bucket 18 (nullableBoundary)<br />Deps: 185, 58<br /><br />ROOT PgSelectSingle{17}ᐸbuildingsᐳ[185]"):::bucket
    classDef bucket18 stroke:#00bfff
    class Bucket18,PgClassExpression187,List188,Lambda189,PgClassExpression190 bucket18
    Bucket19("Bucket 19 (nullableBoundary)<br />Deps: 194, 37, 58, 111, 221, 263<br /><br />ROOT PgSelectSingle{3}ᐸstreet_propertyᐳ[194]"):::bucket
    classDef bucket19 stroke:#7f007f
    class Bucket19,PgClassExpression195,PgClassExpression196,PgClassExpression197,PgSelectSingle203,PgSelectSingle233,RemapKeys369 bucket19
    Bucket20("Bucket 20 (nullableBoundary)<br />Deps: 203, 37, 194, 58, 221<br /><br />ROOT PgSelectSingle{19}ᐸstreetsᐳ[203]"):::bucket
    classDef bucket20 stroke:#ffa500
    class Bucket20,PgClassExpression205,List206,Lambda207,PgClassExpression208,Access331 bucket20
    Bucket21("Bucket 21 (listItem)<br />Deps: 58<br /><br />ROOT __Item{21}ᐸ331ᐳ[223]"):::bucket
    classDef bucket21 stroke:#0000ff
    class Bucket21,__Item223,PgSelectSingle224 bucket21
    Bucket22("Bucket 22 (nullableBoundary)<br />Deps: 224, 58<br /><br />ROOT PgSelectSingle{21}ᐸbuildingsᐳ[224]"):::bucket
    classDef bucket22 stroke:#7fff00
    class Bucket22,PgClassExpression226,List227,Lambda228,PgClassExpression229 bucket22
    Bucket23("Bucket 23 (nullableBoundary)<br />Deps: 233, 111, 37, 58, 263<br /><br />ROOT PgSelectSingle{19}ᐸpropertiesᐳ[233]"):::bucket
    classDef bucket23 stroke:#ff1493
    class Bucket23,PgClassExpression235,List236,Lambda237,PgClassExpression238,PgClassExpression239,PgSelectSingle245,RemapKeys359 bucket23
    Bucket24("Bucket 24 (nullableBoundary)<br />Deps: 245, 37, 359, 58, 263<br /><br />ROOT PgSelectSingle{23}ᐸstreetsᐳ[245]"):::bucket
    classDef bucket24 stroke:#808000
    class Bucket24,PgClassExpression247,List248,Lambda249,PgClassExpression250,Access350 bucket24
    Bucket25("Bucket 25 (listItem)<br />Deps: 58<br /><br />ROOT __Item{25}ᐸ350ᐳ[265]"):::bucket
    classDef bucket25 stroke:#dda0dd
    class Bucket25,__Item265,PgSelectSingle266 bucket25
    Bucket26("Bucket 26 (nullableBoundary)<br />Deps: 266, 58<br /><br />ROOT PgSelectSingle{25}ᐸbuildingsᐳ[266]"):::bucket
    classDef bucket26 stroke:#ff0000
    class Bucket26,PgClassExpression268,List269,Lambda270,PgClassExpression271 bucket26
    Bucket27("Bucket 27 (nullableBoundary)<br />Deps: 277, 22<br /><br />ROOT PgSelectSingleᐸhousesᐳ[277]"):::bucket
    classDef bucket27 stroke:#ffff00
    class Bucket27,PgClassExpression278,PgClassExpression279,PgClassExpression280,PgClassExpression282,PgClassExpression283,List284,Lambda285 bucket27
    Bucket28("Bucket 28 (nullableBoundary)<br />Deps: 295, 22<br /><br />ROOT PgSelectSingleᐸhousesᐳ[295]"):::bucket
    classDef bucket28 stroke:#00ffff
    class Bucket28,PgClassExpression296,PgClassExpression297,PgClassExpression298,PgClassExpression300,PgClassExpression301,List302,Lambda303 bucket28
    Bucket0 --> Bucket1 & Bucket27 & Bucket28
    Bucket1 --> Bucket2
    Bucket2 --> Bucket3
    Bucket3 --> Bucket4 & Bucket7 & Bucket15 & Bucket19
    Bucket4 --> Bucket5
    Bucket5 --> Bucket6
    Bucket7 --> Bucket8 & Bucket11
    Bucket8 --> Bucket9
    Bucket9 --> Bucket10
    Bucket11 --> Bucket12
    Bucket12 --> Bucket13
    Bucket13 --> Bucket14
    Bucket15 --> Bucket16
    Bucket16 --> Bucket17
    Bucket17 --> Bucket18
    Bucket19 --> Bucket20 & Bucket23
    Bucket20 --> Bucket21
    Bucket21 --> Bucket22
    Bucket23 --> Bucket24
    Bucket24 --> Bucket25
    Bucket25 --> Bucket26
    end
