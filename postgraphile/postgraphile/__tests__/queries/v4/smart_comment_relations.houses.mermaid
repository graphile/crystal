%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef unbatchedplan fill:#dff,stroke-width:1px,color:#000
    classDef sideeffectplan fill:#fcc,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left


    %% plan dependencies
    PgSelect251[["PgSelect[251∈0] ➊<br />ᐸhousesᐳ"]]:::plan
    Object12{{"Object[12∈0] ➊<br />ᐸ{pgSettings,withPgClient}ᐳ"}}:::plan
    Constant283{{"Constant[283∈0] ➊<br />ᐸ2ᐳ"}}:::plan
    Constant284{{"Constant[284∈0] ➊<br />ᐸ3ᐳ"}}:::plan
    Object12 & Constant283 & Constant284 --> PgSelect251
    PgSelect270[["PgSelect[270∈0] ➊<br />ᐸhousesᐳ"]]:::plan
    Access266{{"Access[266∈0] ➊<br />ᐸ265.1ᐳ"}}:::plan
    Access268{{"Access[268∈0] ➊<br />ᐸ265.2ᐳ"}}:::plan
    Object12 -->|rejectNull| PgSelect270
    Access266 -->|rejectNull| PgSelect270
    Access268 --> PgSelect270
    Access10{{"Access[10∈0] ➊<br />ᐸ2.pgSettingsᐳ"}}:::plan
    Access11{{"Access[11∈0] ➊<br />ᐸ2.withPgClientᐳ"}}:::plan
    Access10 & Access11 --> Object12
    __Value2["__Value[2∈0] ➊<br />ᐸcontextᐳ"]:::plan
    __Value2 --> Access10
    __Value2 --> Access11
    First253{{"First[253∈0] ➊"}}:::plan
    PgSelectRows254[["PgSelectRows[254∈0] ➊"]]:::plan
    PgSelectRows254 --> First253
    PgSelect251 --> PgSelectRows254
    PgSelectSingle255{{"PgSelectSingle[255∈0] ➊<br />ᐸhousesᐳ"}}:::plan
    First253 --> PgSelectSingle255
    Lambda265{{"Lambda[265∈0] ➊<br />ᐸspecifier_House_base64JSONᐳ"}}:::plan
    Constant285{{"Constant[285∈0] ➊<br />ᐸ'WyJob3VzZXMiLDIsM10='ᐳ"}}:::plan
    Constant285 --> Lambda265
    Lambda265 --> Access266
    Lambda265 --> Access268
    First272{{"First[272∈0] ➊"}}:::plan
    PgSelectRows273[["PgSelectRows[273∈0] ➊"]]:::plan
    PgSelectRows273 --> First272
    PgSelect270 --> PgSelectRows273
    PgSelectSingle274{{"PgSelectSingle[274∈0] ➊<br />ᐸhousesᐳ"}}:::plan
    First272 --> PgSelectSingle274
    __Value4["__Value[4∈0] ➊<br />ᐸrootValueᐳ"]:::plan
    Connection13{{"Connection[13∈0] ➊<br />ᐸ9ᐳ"}}:::plan
    Constant18{{"Constant[18∈0] ➊<br />ᐸ'houses'ᐳ"}}:::plan
    Constant34{{"Constant[34∈0] ➊<br />ᐸ'streets'ᐳ"}}:::plan
    Connection45{{"Connection[45∈0] ➊<br />ᐸ41ᐳ"}}:::plan
    Constant50{{"Constant[50∈0] ➊<br />ᐸ'buildings'ᐳ"}}:::plan
    Connection85{{"Connection[85∈0] ➊<br />ᐸ81ᐳ"}}:::plan
    Constant101{{"Constant[101∈0] ➊<br />ᐸ'properties'ᐳ"}}:::plan
    Connection125{{"Connection[125∈0] ➊<br />ᐸ121ᐳ"}}:::plan
    Connection164{{"Connection[164∈0] ➊<br />ᐸ160ᐳ"}}:::plan
    Connection200{{"Connection[200∈0] ➊<br />ᐸ196ᐳ"}}:::plan
    Connection239{{"Connection[239∈0] ➊<br />ᐸ235ᐳ"}}:::plan
    PgSelect14[["PgSelect[14∈1] ➊<br />ᐸhousesᐳ"]]:::plan
    Object12 & Connection13 --> PgSelect14
    PgSelectRows15[["PgSelectRows[15∈1] ➊"]]:::plan
    PgSelect14 --> PgSelectRows15
    __Item16[/"__Item[16∈2]<br />ᐸ15ᐳ"\]:::itemplan
    PgSelectRows15 ==> __Item16
    PgSelectSingle17{{"PgSelectSingle[17∈2]<br />ᐸhousesᐳ"}}:::plan
    __Item16 --> PgSelectSingle17
    List21{{"List[21∈3]<br />ᐸ18,19,20ᐳ"}}:::plan
    PgClassExpression19{{"PgClassExpression[19∈3]<br />ᐸ__houses__.”street_id”ᐳ"}}:::plan
    PgClassExpression20{{"PgClassExpression[20∈3]<br />ᐸ__houses__...operty_id”ᐳ"}}:::plan
    Constant18 & PgClassExpression19 & PgClassExpression20 --> List21
    PgSelect174[["PgSelect[174∈3]<br />ᐸstreet_propertyᐳ"]]:::plan
    Object12 & PgClassExpression19 & PgClassExpression20 --> PgSelect174
    PgSelect27[["PgSelect[27∈3]<br />ᐸstreetsᐳ"]]:::plan
    Object12 & PgClassExpression19 --> PgSelect27
    PgSelect55[["PgSelect[55∈3]<br />ᐸbuildingsᐳ"]]:::plan
    PgClassExpression26{{"PgClassExpression[26∈3]<br />ᐸ__houses__...ilding_id”ᐳ"}}:::plan
    Object12 & PgClassExpression26 --> PgSelect55
    PgSelect135[["PgSelect[135∈3]<br />ᐸpropertiesᐳ"]]:::plan
    Object12 & PgClassExpression20 --> PgSelect135
    PgSelectSingle17 --> PgClassExpression19
    PgSelectSingle17 --> PgClassExpression20
    Lambda22{{"Lambda[22∈3]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List21 --> Lambda22
    PgClassExpression23{{"PgClassExpression[23∈3]<br />ᐸ__houses__...ding_name”ᐳ"}}:::plan
    PgSelectSingle17 --> PgClassExpression23
    PgClassExpression24{{"PgClassExpression[24∈3]<br />ᐸ__houses__...or_number”ᐳ"}}:::plan
    PgSelectSingle17 --> PgClassExpression24
    PgClassExpression25{{"PgClassExpression[25∈3]<br />ᐸ__houses__...reet_name”ᐳ"}}:::plan
    PgSelectSingle17 --> PgClassExpression25
    PgSelectSingle17 --> PgClassExpression26
    First31{{"First[31∈3]"}}:::plan
    PgSelectRows32[["PgSelectRows[32∈3]"]]:::plan
    PgSelectRows32 --> First31
    PgSelect27 --> PgSelectRows32
    PgSelectSingle33{{"PgSelectSingle[33∈3]<br />ᐸstreetsᐳ"}}:::plan
    First31 --> PgSelectSingle33
    First57{{"First[57∈3]"}}:::plan
    PgSelectRows58[["PgSelectRows[58∈3]"]]:::plan
    PgSelectRows58 --> First57
    PgSelect55 --> PgSelectRows58
    PgSelectSingle59{{"PgSelectSingle[59∈3]<br />ᐸbuildingsᐳ"}}:::plan
    First57 --> PgSelectSingle59
    First137{{"First[137∈3]"}}:::plan
    PgSelectRows138[["PgSelectRows[138∈3]"]]:::plan
    PgSelectRows138 --> First137
    PgSelect135 --> PgSelectRows138
    PgSelectSingle139{{"PgSelectSingle[139∈3]<br />ᐸpropertiesᐳ"}}:::plan
    First137 --> PgSelectSingle139
    First176{{"First[176∈3]"}}:::plan
    PgSelectRows177[["PgSelectRows[177∈3]"]]:::plan
    PgSelectRows177 --> First176
    PgSelect174 --> PgSelectRows177
    PgSelectSingle178{{"PgSelectSingle[178∈3]<br />ᐸstreet_propertyᐳ"}}:::plan
    First176 --> PgSelectSingle178
    PgSelect46[["PgSelect[46∈4]<br />ᐸbuildingsᐳ"]]:::plan
    PgClassExpression38{{"PgClassExpression[38∈4]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    Object12 & PgClassExpression38 & Connection45 --> PgSelect46
    List36{{"List[36∈4]<br />ᐸ34,35ᐳ"}}:::plan
    PgClassExpression35{{"PgClassExpression[35∈4]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant34 & PgClassExpression35 --> List36
    PgSelectSingle33 --> PgClassExpression35
    Lambda37{{"Lambda[37∈4]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List36 --> Lambda37
    PgSelectSingle33 --> PgClassExpression38
    PgSelectRows47[["PgSelectRows[47∈4]"]]:::plan
    PgSelect46 --> PgSelectRows47
    __Item48[/"__Item[48∈5]<br />ᐸ47ᐳ"\]:::itemplan
    PgSelectRows47 ==> __Item48
    PgSelectSingle49{{"PgSelectSingle[49∈5]<br />ᐸbuildingsᐳ"}}:::plan
    __Item48 --> PgSelectSingle49
    List52{{"List[52∈6]<br />ᐸ50,51ᐳ"}}:::plan
    PgClassExpression51{{"PgClassExpression[51∈6]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant50 & PgClassExpression51 --> List52
    PgSelectSingle49 --> PgClassExpression51
    Lambda53{{"Lambda[53∈6]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List52 --> Lambda53
    PgClassExpression54{{"PgClassExpression[54∈6]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle49 --> PgClassExpression54
    List62{{"List[62∈7]<br />ᐸ50,61ᐳ"}}:::plan
    PgClassExpression61{{"PgClassExpression[61∈7]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant50 & PgClassExpression61 --> List62
    PgSelect67[["PgSelect[67∈7]<br />ᐸstreetsᐳ"]]:::plan
    PgClassExpression64{{"PgClassExpression[64∈7]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    Object12 & PgClassExpression64 --> PgSelect67
    PgSelect96[["PgSelect[96∈7]<br />ᐸpropertiesᐳ"]]:::plan
    PgClassExpression95{{"PgClassExpression[95∈7]<br />ᐸ__building...operty_id”ᐳ"}}:::plan
    Object12 & PgClassExpression95 --> PgSelect96
    PgSelectSingle59 --> PgClassExpression61
    Lambda63{{"Lambda[63∈7]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List62 --> Lambda63
    PgSelectSingle59 --> PgClassExpression64
    PgClassExpression65{{"PgClassExpression[65∈7]<br />ᐸ__buildings__.”floors”ᐳ"}}:::plan
    PgSelectSingle59 --> PgClassExpression65
    PgClassExpression66{{"PgClassExpression[66∈7]<br />ᐸ__building...s_primary”ᐳ"}}:::plan
    PgSelectSingle59 --> PgClassExpression66
    First71{{"First[71∈7]"}}:::plan
    PgSelectRows72[["PgSelectRows[72∈7]"]]:::plan
    PgSelectRows72 --> First71
    PgSelect67 --> PgSelectRows72
    PgSelectSingle73{{"PgSelectSingle[73∈7]<br />ᐸstreetsᐳ"}}:::plan
    First71 --> PgSelectSingle73
    PgSelectSingle59 --> PgClassExpression95
    First98{{"First[98∈7]"}}:::plan
    PgSelectRows99[["PgSelectRows[99∈7]"]]:::plan
    PgSelectRows99 --> First98
    PgSelect96 --> PgSelectRows99
    PgSelectSingle100{{"PgSelectSingle[100∈7]<br />ᐸpropertiesᐳ"}}:::plan
    First98 --> PgSelectSingle100
    PgSelect86[["PgSelect[86∈8]<br />ᐸbuildingsᐳ"]]:::plan
    PgClassExpression78{{"PgClassExpression[78∈8]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    Object12 & PgClassExpression78 & Connection85 --> PgSelect86
    List76{{"List[76∈8]<br />ᐸ34,75ᐳ"}}:::plan
    PgClassExpression75{{"PgClassExpression[75∈8]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant34 & PgClassExpression75 --> List76
    PgSelectSingle73 --> PgClassExpression75
    Lambda77{{"Lambda[77∈8]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List76 --> Lambda77
    PgSelectSingle73 --> PgClassExpression78
    PgSelectRows87[["PgSelectRows[87∈8]"]]:::plan
    PgSelect86 --> PgSelectRows87
    __Item88[/"__Item[88∈9]<br />ᐸ87ᐳ"\]:::itemplan
    PgSelectRows87 ==> __Item88
    PgSelectSingle89{{"PgSelectSingle[89∈9]<br />ᐸbuildingsᐳ"}}:::plan
    __Item88 --> PgSelectSingle89
    List92{{"List[92∈10]<br />ᐸ50,91ᐳ"}}:::plan
    PgClassExpression91{{"PgClassExpression[91∈10]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant50 & PgClassExpression91 --> List92
    PgSelectSingle89 --> PgClassExpression91
    Lambda93{{"Lambda[93∈10]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List92 --> Lambda93
    PgClassExpression94{{"PgClassExpression[94∈10]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle89 --> PgClassExpression94
    List103{{"List[103∈11]<br />ᐸ101,102ᐳ"}}:::plan
    PgClassExpression102{{"PgClassExpression[102∈11]<br />ᐸ__properties__.”id”ᐳ"}}:::plan
    Constant101 & PgClassExpression102 --> List103
    PgSelect107[["PgSelect[107∈11]<br />ᐸstreetsᐳ"]]:::plan
    PgClassExpression105{{"PgClassExpression[105∈11]<br />ᐸ__properti...street_id”ᐳ"}}:::plan
    Object12 & PgClassExpression105 --> PgSelect107
    PgSelectSingle100 --> PgClassExpression102
    Lambda104{{"Lambda[104∈11]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List103 --> Lambda104
    PgSelectSingle100 --> PgClassExpression105
    PgClassExpression106{{"PgClassExpression[106∈11]<br />ᐸ__properti...or_number”ᐳ"}}:::plan
    PgSelectSingle100 --> PgClassExpression106
    First111{{"First[111∈11]"}}:::plan
    PgSelectRows112[["PgSelectRows[112∈11]"]]:::plan
    PgSelectRows112 --> First111
    PgSelect107 --> PgSelectRows112
    PgSelectSingle113{{"PgSelectSingle[113∈11]<br />ᐸstreetsᐳ"}}:::plan
    First111 --> PgSelectSingle113
    PgSelect126[["PgSelect[126∈12]<br />ᐸbuildingsᐳ"]]:::plan
    PgClassExpression118{{"PgClassExpression[118∈12]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    Object12 & PgClassExpression118 & Connection125 --> PgSelect126
    List116{{"List[116∈12]<br />ᐸ34,115ᐳ"}}:::plan
    PgClassExpression115{{"PgClassExpression[115∈12]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant34 & PgClassExpression115 --> List116
    PgSelectSingle113 --> PgClassExpression115
    Lambda117{{"Lambda[117∈12]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List116 --> Lambda117
    PgSelectSingle113 --> PgClassExpression118
    PgSelectRows127[["PgSelectRows[127∈12]"]]:::plan
    PgSelect126 --> PgSelectRows127
    __Item128[/"__Item[128∈13]<br />ᐸ127ᐳ"\]:::itemplan
    PgSelectRows127 ==> __Item128
    PgSelectSingle129{{"PgSelectSingle[129∈13]<br />ᐸbuildingsᐳ"}}:::plan
    __Item128 --> PgSelectSingle129
    List132{{"List[132∈14]<br />ᐸ50,131ᐳ"}}:::plan
    PgClassExpression131{{"PgClassExpression[131∈14]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant50 & PgClassExpression131 --> List132
    PgSelectSingle129 --> PgClassExpression131
    Lambda133{{"Lambda[133∈14]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List132 --> Lambda133
    PgClassExpression134{{"PgClassExpression[134∈14]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle129 --> PgClassExpression134
    List142{{"List[142∈15]<br />ᐸ101,141ᐳ"}}:::plan
    PgClassExpression141{{"PgClassExpression[141∈15]<br />ᐸ__properties__.”id”ᐳ"}}:::plan
    Constant101 & PgClassExpression141 --> List142
    PgSelect146[["PgSelect[146∈15]<br />ᐸstreetsᐳ"]]:::plan
    PgClassExpression144{{"PgClassExpression[144∈15]<br />ᐸ__properti...street_id”ᐳ"}}:::plan
    Object12 & PgClassExpression144 --> PgSelect146
    PgSelectSingle139 --> PgClassExpression141
    Lambda143{{"Lambda[143∈15]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List142 --> Lambda143
    PgSelectSingle139 --> PgClassExpression144
    PgClassExpression145{{"PgClassExpression[145∈15]<br />ᐸ__properti...or_number”ᐳ"}}:::plan
    PgSelectSingle139 --> PgClassExpression145
    First150{{"First[150∈15]"}}:::plan
    PgSelectRows151[["PgSelectRows[151∈15]"]]:::plan
    PgSelectRows151 --> First150
    PgSelect146 --> PgSelectRows151
    PgSelectSingle152{{"PgSelectSingle[152∈15]<br />ᐸstreetsᐳ"}}:::plan
    First150 --> PgSelectSingle152
    PgSelect165[["PgSelect[165∈16]<br />ᐸbuildingsᐳ"]]:::plan
    PgClassExpression157{{"PgClassExpression[157∈16]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    Object12 & PgClassExpression157 & Connection164 --> PgSelect165
    List155{{"List[155∈16]<br />ᐸ34,154ᐳ"}}:::plan
    PgClassExpression154{{"PgClassExpression[154∈16]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant34 & PgClassExpression154 --> List155
    PgSelectSingle152 --> PgClassExpression154
    Lambda156{{"Lambda[156∈16]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List155 --> Lambda156
    PgSelectSingle152 --> PgClassExpression157
    PgSelectRows166[["PgSelectRows[166∈16]"]]:::plan
    PgSelect165 --> PgSelectRows166
    __Item167[/"__Item[167∈17]<br />ᐸ166ᐳ"\]:::itemplan
    PgSelectRows166 ==> __Item167
    PgSelectSingle168{{"PgSelectSingle[168∈17]<br />ᐸbuildingsᐳ"}}:::plan
    __Item167 --> PgSelectSingle168
    List171{{"List[171∈18]<br />ᐸ50,170ᐳ"}}:::plan
    PgClassExpression170{{"PgClassExpression[170∈18]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant50 & PgClassExpression170 --> List171
    PgSelectSingle168 --> PgClassExpression170
    Lambda172{{"Lambda[172∈18]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List171 --> Lambda172
    PgClassExpression173{{"PgClassExpression[173∈18]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle168 --> PgClassExpression173
    PgSelect182[["PgSelect[182∈19]<br />ᐸstreetsᐳ"]]:::plan
    PgClassExpression179{{"PgClassExpression[179∈19]<br />ᐸ__street_p..._.”str_id”ᐳ"}}:::plan
    Object12 & PgClassExpression179 --> PgSelect182
    PgSelect210[["PgSelect[210∈19]<br />ᐸpropertiesᐳ"]]:::plan
    PgClassExpression180{{"PgClassExpression[180∈19]<br />ᐸ__street_p....”prop_id”ᐳ"}}:::plan
    Object12 & PgClassExpression180 --> PgSelect210
    PgSelectSingle178 --> PgClassExpression179
    PgSelectSingle178 --> PgClassExpression180
    PgClassExpression181{{"PgClassExpression[181∈19]<br />ᐸ__street_p...ent_owner”ᐳ"}}:::plan
    PgSelectSingle178 --> PgClassExpression181
    First186{{"First[186∈19]"}}:::plan
    PgSelectRows187[["PgSelectRows[187∈19]"]]:::plan
    PgSelectRows187 --> First186
    PgSelect182 --> PgSelectRows187
    PgSelectSingle188{{"PgSelectSingle[188∈19]<br />ᐸstreetsᐳ"}}:::plan
    First186 --> PgSelectSingle188
    First212{{"First[212∈19]"}}:::plan
    PgSelectRows213[["PgSelectRows[213∈19]"]]:::plan
    PgSelectRows213 --> First212
    PgSelect210 --> PgSelectRows213
    PgSelectSingle214{{"PgSelectSingle[214∈19]<br />ᐸpropertiesᐳ"}}:::plan
    First212 --> PgSelectSingle214
    PgSelect201[["PgSelect[201∈20]<br />ᐸbuildingsᐳ"]]:::plan
    PgClassExpression193{{"PgClassExpression[193∈20]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    Object12 & PgClassExpression193 & Connection200 --> PgSelect201
    List191{{"List[191∈20]<br />ᐸ34,190ᐳ"}}:::plan
    PgClassExpression190{{"PgClassExpression[190∈20]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant34 & PgClassExpression190 --> List191
    PgSelectSingle188 --> PgClassExpression190
    Lambda192{{"Lambda[192∈20]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List191 --> Lambda192
    PgSelectSingle188 --> PgClassExpression193
    PgSelectRows202[["PgSelectRows[202∈20]"]]:::plan
    PgSelect201 --> PgSelectRows202
    __Item203[/"__Item[203∈21]<br />ᐸ202ᐳ"\]:::itemplan
    PgSelectRows202 ==> __Item203
    PgSelectSingle204{{"PgSelectSingle[204∈21]<br />ᐸbuildingsᐳ"}}:::plan
    __Item203 --> PgSelectSingle204
    List207{{"List[207∈22]<br />ᐸ50,206ᐳ"}}:::plan
    PgClassExpression206{{"PgClassExpression[206∈22]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant50 & PgClassExpression206 --> List207
    PgSelectSingle204 --> PgClassExpression206
    Lambda208{{"Lambda[208∈22]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List207 --> Lambda208
    PgClassExpression209{{"PgClassExpression[209∈22]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle204 --> PgClassExpression209
    List217{{"List[217∈23]<br />ᐸ101,216ᐳ"}}:::plan
    PgClassExpression216{{"PgClassExpression[216∈23]<br />ᐸ__properties__.”id”ᐳ"}}:::plan
    Constant101 & PgClassExpression216 --> List217
    PgSelect221[["PgSelect[221∈23]<br />ᐸstreetsᐳ"]]:::plan
    PgClassExpression219{{"PgClassExpression[219∈23]<br />ᐸ__properti...street_id”ᐳ"}}:::plan
    Object12 & PgClassExpression219 --> PgSelect221
    PgSelectSingle214 --> PgClassExpression216
    Lambda218{{"Lambda[218∈23]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List217 --> Lambda218
    PgSelectSingle214 --> PgClassExpression219
    PgClassExpression220{{"PgClassExpression[220∈23]<br />ᐸ__properti...or_number”ᐳ"}}:::plan
    PgSelectSingle214 --> PgClassExpression220
    First225{{"First[225∈23]"}}:::plan
    PgSelectRows226[["PgSelectRows[226∈23]"]]:::plan
    PgSelectRows226 --> First225
    PgSelect221 --> PgSelectRows226
    PgSelectSingle227{{"PgSelectSingle[227∈23]<br />ᐸstreetsᐳ"}}:::plan
    First225 --> PgSelectSingle227
    PgSelect240[["PgSelect[240∈24]<br />ᐸbuildingsᐳ"]]:::plan
    PgClassExpression232{{"PgClassExpression[232∈24]<br />ᐸ__streets__.”name”ᐳ"}}:::plan
    Object12 & PgClassExpression232 & Connection239 --> PgSelect240
    List230{{"List[230∈24]<br />ᐸ34,229ᐳ"}}:::plan
    PgClassExpression229{{"PgClassExpression[229∈24]<br />ᐸ__streets__.”id”ᐳ"}}:::plan
    Constant34 & PgClassExpression229 --> List230
    PgSelectSingle227 --> PgClassExpression229
    Lambda231{{"Lambda[231∈24]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List230 --> Lambda231
    PgSelectSingle227 --> PgClassExpression232
    PgSelectRows241[["PgSelectRows[241∈24]"]]:::plan
    PgSelect240 --> PgSelectRows241
    __Item242[/"__Item[242∈25]<br />ᐸ241ᐳ"\]:::itemplan
    PgSelectRows241 ==> __Item242
    PgSelectSingle243{{"PgSelectSingle[243∈25]<br />ᐸbuildingsᐳ"}}:::plan
    __Item242 --> PgSelectSingle243
    List246{{"List[246∈26]<br />ᐸ50,245ᐳ"}}:::plan
    PgClassExpression245{{"PgClassExpression[245∈26]<br />ᐸ__buildings__.”id”ᐳ"}}:::plan
    Constant50 & PgClassExpression245 --> List246
    PgSelectSingle243 --> PgClassExpression245
    Lambda247{{"Lambda[247∈26]<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List246 --> Lambda247
    PgClassExpression248{{"PgClassExpression[248∈26]<br />ᐸ__buildings__.”name”ᐳ"}}:::plan
    PgSelectSingle243 --> PgClassExpression248
    List262{{"List[262∈27] ➊<br />ᐸ18,260,261ᐳ"}}:::plan
    PgClassExpression260{{"PgClassExpression[260∈27] ➊<br />ᐸ__houses__.”street_id”ᐳ"}}:::plan
    PgClassExpression261{{"PgClassExpression[261∈27] ➊<br />ᐸ__houses__...operty_id”ᐳ"}}:::plan
    Constant18 & PgClassExpression260 & PgClassExpression261 --> List262
    PgClassExpression256{{"PgClassExpression[256∈27] ➊<br />ᐸ__houses__...ding_name”ᐳ"}}:::plan
    PgSelectSingle255 --> PgClassExpression256
    PgClassExpression257{{"PgClassExpression[257∈27] ➊<br />ᐸ__houses__...or_number”ᐳ"}}:::plan
    PgSelectSingle255 --> PgClassExpression257
    PgClassExpression258{{"PgClassExpression[258∈27] ➊<br />ᐸ__houses__...reet_name”ᐳ"}}:::plan
    PgSelectSingle255 --> PgClassExpression258
    PgSelectSingle255 --> PgClassExpression260
    PgSelectSingle255 --> PgClassExpression261
    Lambda263{{"Lambda[263∈27] ➊<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List262 --> Lambda263
    List281{{"List[281∈28] ➊<br />ᐸ18,279,280ᐳ"}}:::plan
    PgClassExpression279{{"PgClassExpression[279∈28] ➊<br />ᐸ__houses__.”street_id”ᐳ"}}:::plan
    PgClassExpression280{{"PgClassExpression[280∈28] ➊<br />ᐸ__houses__...operty_id”ᐳ"}}:::plan
    Constant18 & PgClassExpression279 & PgClassExpression280 --> List281
    PgClassExpression275{{"PgClassExpression[275∈28] ➊<br />ᐸ__houses__...ding_name”ᐳ"}}:::plan
    PgSelectSingle274 --> PgClassExpression275
    PgClassExpression276{{"PgClassExpression[276∈28] ➊<br />ᐸ__houses__...or_number”ᐳ"}}:::plan
    PgSelectSingle274 --> PgClassExpression276
    PgClassExpression277{{"PgClassExpression[277∈28] ➊<br />ᐸ__houses__...reet_name”ᐳ"}}:::plan
    PgSelectSingle274 --> PgClassExpression277
    PgSelectSingle274 --> PgClassExpression279
    PgSelectSingle274 --> PgClassExpression280
    Lambda282{{"Lambda[282∈28] ➊<br />ᐸbase64JSONEncodeᐳ"}}:::plan
    List281 --> Lambda282

    %% define steps

    subgraph "Buckets for queries/v4/smart_comment_relations.houses"
    Bucket0("Bucket 0 (root)<br /><br />1: <br />ᐳ: 10, 11, 13, 18, 34, 45, 50, 85, 101, 125, 164, 200, 239, 283, 284, 285, 12, 265, 266, 268<br />2: PgSelect[251], PgSelect[270]<br />3: PgSelectRows[254], PgSelectRows[273]<br />ᐳ: 253, 255, 272, 274"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value2,__Value4,Access10,Access11,Object12,Connection13,Constant18,Constant34,Connection45,Constant50,Connection85,Constant101,Connection125,Connection164,Connection200,Connection239,PgSelect251,First253,PgSelectRows254,PgSelectSingle255,Lambda265,Access266,Access268,PgSelect270,First272,PgSelectRows273,PgSelectSingle274,Constant283,Constant284,Constant285 bucket0
    Bucket1("Bucket 1 (nullableBoundary)<br />Deps: 12, 13, 18, 34, 45, 50, 85, 101, 125, 164, 200, 239<br /><br />ROOT Connectionᐸ9ᐳ[13]<br />1: PgSelect[14]<br />2: PgSelectRows[15]"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,PgSelect14,PgSelectRows15 bucket1
    Bucket2("Bucket 2 (listItem)<br />Deps: 18, 12, 34, 45, 50, 85, 101, 125, 164, 200, 239<br /><br />ROOT __Item{2}ᐸ15ᐳ[16]"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,__Item16,PgSelectSingle17 bucket2
    Bucket3("Bucket 3 (nullableBoundary)<br />Deps: 17, 18, 12, 34, 45, 50, 85, 101, 125, 164, 200, 239<br /><br />ROOT PgSelectSingle{2}ᐸhousesᐳ[17]<br />1: <br />ᐳ: 19, 20, 23, 24, 25, 26, 21, 22<br />2: 27, 55, 135, 174<br />3: 32, 58, 138, 177<br />ᐳ: 31, 33, 57, 59, 137, 139, 176, 178"):::bucket
    classDef bucket3 stroke:#ffa500
    class Bucket3,PgClassExpression19,PgClassExpression20,List21,Lambda22,PgClassExpression23,PgClassExpression24,PgClassExpression25,PgClassExpression26,PgSelect27,First31,PgSelectRows32,PgSelectSingle33,PgSelect55,First57,PgSelectRows58,PgSelectSingle59,PgSelect135,First137,PgSelectRows138,PgSelectSingle139,PgSelect174,First176,PgSelectRows177,PgSelectSingle178 bucket3
    Bucket4("Bucket 4 (nullableBoundary)<br />Deps: 33, 34, 12, 45, 50<br /><br />ROOT PgSelectSingle{3}ᐸstreetsᐳ[33]<br />1: <br />ᐳ: 35, 38, 36, 37<br />2: PgSelect[46]<br />3: PgSelectRows[47]"):::bucket
    classDef bucket4 stroke:#0000ff
    class Bucket4,PgClassExpression35,List36,Lambda37,PgClassExpression38,PgSelect46,PgSelectRows47 bucket4
    Bucket5("Bucket 5 (listItem)<br />Deps: 50<br /><br />ROOT __Item{5}ᐸ47ᐳ[48]"):::bucket
    classDef bucket5 stroke:#7fff00
    class Bucket5,__Item48,PgSelectSingle49 bucket5
    Bucket6("Bucket 6 (nullableBoundary)<br />Deps: 49, 50<br /><br />ROOT PgSelectSingle{5}ᐸbuildingsᐳ[49]"):::bucket
    classDef bucket6 stroke:#ff1493
    class Bucket6,PgClassExpression51,List52,Lambda53,PgClassExpression54 bucket6
    Bucket7("Bucket 7 (nullableBoundary)<br />Deps: 59, 50, 12, 34, 85, 101, 125<br /><br />ROOT PgSelectSingle{3}ᐸbuildingsᐳ[59]<br />1: <br />ᐳ: 61, 64, 65, 66, 95, 62, 63<br />2: PgSelect[67], PgSelect[96]<br />3: PgSelectRows[72], PgSelectRows[99]<br />ᐳ: 71, 73, 98, 100"):::bucket
    classDef bucket7 stroke:#808000
    class Bucket7,PgClassExpression61,List62,Lambda63,PgClassExpression64,PgClassExpression65,PgClassExpression66,PgSelect67,First71,PgSelectRows72,PgSelectSingle73,PgClassExpression95,PgSelect96,First98,PgSelectRows99,PgSelectSingle100 bucket7
    Bucket8("Bucket 8 (nullableBoundary)<br />Deps: 73, 34, 12, 85, 50<br /><br />ROOT PgSelectSingle{7}ᐸstreetsᐳ[73]<br />1: <br />ᐳ: 75, 78, 76, 77<br />2: PgSelect[86]<br />3: PgSelectRows[87]"):::bucket
    classDef bucket8 stroke:#dda0dd
    class Bucket8,PgClassExpression75,List76,Lambda77,PgClassExpression78,PgSelect86,PgSelectRows87 bucket8
    Bucket9("Bucket 9 (listItem)<br />Deps: 50<br /><br />ROOT __Item{9}ᐸ87ᐳ[88]"):::bucket
    classDef bucket9 stroke:#ff0000
    class Bucket9,__Item88,PgSelectSingle89 bucket9
    Bucket10("Bucket 10 (nullableBoundary)<br />Deps: 89, 50<br /><br />ROOT PgSelectSingle{9}ᐸbuildingsᐳ[89]"):::bucket
    classDef bucket10 stroke:#ffff00
    class Bucket10,PgClassExpression91,List92,Lambda93,PgClassExpression94 bucket10
    Bucket11("Bucket 11 (nullableBoundary)<br />Deps: 100, 101, 12, 34, 125, 50<br /><br />ROOT PgSelectSingle{7}ᐸpropertiesᐳ[100]<br />1: <br />ᐳ: 102, 105, 106, 103, 104<br />2: PgSelect[107]<br />3: PgSelectRows[112]<br />ᐳ: First[111], PgSelectSingle[113]"):::bucket
    classDef bucket11 stroke:#00ffff
    class Bucket11,PgClassExpression102,List103,Lambda104,PgClassExpression105,PgClassExpression106,PgSelect107,First111,PgSelectRows112,PgSelectSingle113 bucket11
    Bucket12("Bucket 12 (nullableBoundary)<br />Deps: 113, 34, 12, 125, 50<br /><br />ROOT PgSelectSingle{11}ᐸstreetsᐳ[113]<br />1: <br />ᐳ: 115, 118, 116, 117<br />2: PgSelect[126]<br />3: PgSelectRows[127]"):::bucket
    classDef bucket12 stroke:#4169e1
    class Bucket12,PgClassExpression115,List116,Lambda117,PgClassExpression118,PgSelect126,PgSelectRows127 bucket12
    Bucket13("Bucket 13 (listItem)<br />Deps: 50<br /><br />ROOT __Item{13}ᐸ127ᐳ[128]"):::bucket
    classDef bucket13 stroke:#3cb371
    class Bucket13,__Item128,PgSelectSingle129 bucket13
    Bucket14("Bucket 14 (nullableBoundary)<br />Deps: 129, 50<br /><br />ROOT PgSelectSingle{13}ᐸbuildingsᐳ[129]"):::bucket
    classDef bucket14 stroke:#a52a2a
    class Bucket14,PgClassExpression131,List132,Lambda133,PgClassExpression134 bucket14
    Bucket15("Bucket 15 (nullableBoundary)<br />Deps: 139, 101, 12, 34, 164, 50<br /><br />ROOT PgSelectSingle{3}ᐸpropertiesᐳ[139]<br />1: <br />ᐳ: 141, 144, 145, 142, 143<br />2: PgSelect[146]<br />3: PgSelectRows[151]<br />ᐳ: First[150], PgSelectSingle[152]"):::bucket
    classDef bucket15 stroke:#ff00ff
    class Bucket15,PgClassExpression141,List142,Lambda143,PgClassExpression144,PgClassExpression145,PgSelect146,First150,PgSelectRows151,PgSelectSingle152 bucket15
    Bucket16("Bucket 16 (nullableBoundary)<br />Deps: 152, 34, 12, 164, 50<br /><br />ROOT PgSelectSingle{15}ᐸstreetsᐳ[152]<br />1: <br />ᐳ: 154, 157, 155, 156<br />2: PgSelect[165]<br />3: PgSelectRows[166]"):::bucket
    classDef bucket16 stroke:#f5deb3
    class Bucket16,PgClassExpression154,List155,Lambda156,PgClassExpression157,PgSelect165,PgSelectRows166 bucket16
    Bucket17("Bucket 17 (listItem)<br />Deps: 50<br /><br />ROOT __Item{17}ᐸ166ᐳ[167]"):::bucket
    classDef bucket17 stroke:#696969
    class Bucket17,__Item167,PgSelectSingle168 bucket17
    Bucket18("Bucket 18 (nullableBoundary)<br />Deps: 168, 50<br /><br />ROOT PgSelectSingle{17}ᐸbuildingsᐳ[168]"):::bucket
    classDef bucket18 stroke:#00bfff
    class Bucket18,PgClassExpression170,List171,Lambda172,PgClassExpression173 bucket18
    Bucket19("Bucket 19 (nullableBoundary)<br />Deps: 178, 12, 34, 200, 50, 101, 239<br /><br />ROOT PgSelectSingle{3}ᐸstreet_propertyᐳ[178]<br />1: <br />ᐳ: 179, 180, 181<br />2: PgSelect[182], PgSelect[210]<br />3: PgSelectRows[187], PgSelectRows[213]<br />ᐳ: 186, 188, 212, 214"):::bucket
    classDef bucket19 stroke:#7f007f
    class Bucket19,PgClassExpression179,PgClassExpression180,PgClassExpression181,PgSelect182,First186,PgSelectRows187,PgSelectSingle188,PgSelect210,First212,PgSelectRows213,PgSelectSingle214 bucket19
    Bucket20("Bucket 20 (nullableBoundary)<br />Deps: 188, 34, 12, 200, 50<br /><br />ROOT PgSelectSingle{19}ᐸstreetsᐳ[188]<br />1: <br />ᐳ: 190, 193, 191, 192<br />2: PgSelect[201]<br />3: PgSelectRows[202]"):::bucket
    classDef bucket20 stroke:#ffa500
    class Bucket20,PgClassExpression190,List191,Lambda192,PgClassExpression193,PgSelect201,PgSelectRows202 bucket20
    Bucket21("Bucket 21 (listItem)<br />Deps: 50<br /><br />ROOT __Item{21}ᐸ202ᐳ[203]"):::bucket
    classDef bucket21 stroke:#0000ff
    class Bucket21,__Item203,PgSelectSingle204 bucket21
    Bucket22("Bucket 22 (nullableBoundary)<br />Deps: 204, 50<br /><br />ROOT PgSelectSingle{21}ᐸbuildingsᐳ[204]"):::bucket
    classDef bucket22 stroke:#7fff00
    class Bucket22,PgClassExpression206,List207,Lambda208,PgClassExpression209 bucket22
    Bucket23("Bucket 23 (nullableBoundary)<br />Deps: 214, 101, 12, 34, 239, 50<br /><br />ROOT PgSelectSingle{19}ᐸpropertiesᐳ[214]<br />1: <br />ᐳ: 216, 219, 220, 217, 218<br />2: PgSelect[221]<br />3: PgSelectRows[226]<br />ᐳ: First[225], PgSelectSingle[227]"):::bucket
    classDef bucket23 stroke:#ff1493
    class Bucket23,PgClassExpression216,List217,Lambda218,PgClassExpression219,PgClassExpression220,PgSelect221,First225,PgSelectRows226,PgSelectSingle227 bucket23
    Bucket24("Bucket 24 (nullableBoundary)<br />Deps: 227, 34, 12, 239, 50<br /><br />ROOT PgSelectSingle{23}ᐸstreetsᐳ[227]<br />1: <br />ᐳ: 229, 232, 230, 231<br />2: PgSelect[240]<br />3: PgSelectRows[241]"):::bucket
    classDef bucket24 stroke:#808000
    class Bucket24,PgClassExpression229,List230,Lambda231,PgClassExpression232,PgSelect240,PgSelectRows241 bucket24
    Bucket25("Bucket 25 (listItem)<br />Deps: 50<br /><br />ROOT __Item{25}ᐸ241ᐳ[242]"):::bucket
    classDef bucket25 stroke:#dda0dd
    class Bucket25,__Item242,PgSelectSingle243 bucket25
    Bucket26("Bucket 26 (nullableBoundary)<br />Deps: 243, 50<br /><br />ROOT PgSelectSingle{25}ᐸbuildingsᐳ[243]"):::bucket
    classDef bucket26 stroke:#ff0000
    class Bucket26,PgClassExpression245,List246,Lambda247,PgClassExpression248 bucket26
    Bucket27("Bucket 27 (nullableBoundary)<br />Deps: 255, 18<br /><br />ROOT PgSelectSingleᐸhousesᐳ[255]"):::bucket
    classDef bucket27 stroke:#ffff00
    class Bucket27,PgClassExpression256,PgClassExpression257,PgClassExpression258,PgClassExpression260,PgClassExpression261,List262,Lambda263 bucket27
    Bucket28("Bucket 28 (nullableBoundary)<br />Deps: 274, 18<br /><br />ROOT PgSelectSingleᐸhousesᐳ[274]"):::bucket
    classDef bucket28 stroke:#00ffff
    class Bucket28,PgClassExpression275,PgClassExpression276,PgClassExpression277,PgClassExpression279,PgClassExpression280,List281,Lambda282 bucket28
    Bucket0 --> Bucket1 & Bucket27 & Bucket28
    Bucket1 --> Bucket2
    Bucket2 --> Bucket3
    Bucket3 --> Bucket4 & Bucket7 & Bucket15 & Bucket19
    Bucket4 --> Bucket5
    Bucket5 --> Bucket6
    Bucket7 --> Bucket8 & Bucket11
    Bucket8 --> Bucket9
    Bucket9 --> Bucket10
    Bucket11 --> Bucket12
    Bucket12 --> Bucket13
    Bucket13 --> Bucket14
    Bucket15 --> Bucket16
    Bucket16 --> Bucket17
    Bucket17 --> Bucket18
    Bucket19 --> Bucket20 & Bucket23
    Bucket20 --> Bucket21
    Bucket21 --> Bucket22
    Bucket23 --> Bucket24
    Bucket24 --> Bucket25
    Bucket25 --> Bucket26
    end
