%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef unbatchedplan fill:#dff,stroke-width:1px,color:#000
    classDef sideeffectplan fill:#fcc,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left

    subgraph "Buckets for queries/polymorphic/person-app-vulns"
    Bucket0("Bucket 0 (root)"):::bucket
    Bucket1("Bucket 1 (nullableBoundary)<br />Deps: 12, 13, 262, 25, 41, 123, 128, 169, 174, 219, 224<br /><br />ROOT Connectionᐸ9ᐳ[13]<br />1: PgSelect[15]<br />2: PgSelectRows[16]"):::bucket
    Bucket2("Bucket 2 (listItem)<br />Deps: 12, 25, 41, 123, 128, 169, 174, 219, 224<br /><br />ROOT __Item{2}ᐸ16ᐳ[17]"):::bucket
    Bucket3("Bucket 3 (nullableBoundary)<br />Deps: 18, 12, 25, 41, 123, 128, 169, 174, 219, 224<br /><br />ROOT PgSelectSingle{2}ᐸpeopleᐳ[18]<br />1: <br />ᐳ: 19, 20<br />2: 26, 31, 32<br />ᐳ: 251, 252, 261, 27, 30"):::bucket
    Bucket4("Bucket 4 (listItem)<br />Deps: 31, 41, 12<br /><br />ROOT __Item{4}ᐸ252ᐳ[35]"):::bucket
    Bucket5("Bucket 5 (listItem)<br />Deps: 41, 12, 123, 128, 169, 174, 219, 224<br /><br />ROOT __Item{5}ᐸ261ᐳ[37]"):::bucket
    Bucket6("Bucket 6 (nullableBoundary)<br />Deps: 35, 61, 41, 12<br /><br />ROOT __Item{4}ᐸ252ᐳ[35]"):::bucket
    Bucket7("Bucket 7 (polymorphic)<br />__typename: Access[44]<br />Deps: 44, 12, 45, 123, 128, 169, 174, 219, 224"):::bucket
    Bucket8("Bucket 8 (polymorphicPartition)<br />|AwsApplication<br />Deps: 12, 45, 123, 169, 219<br />ᐳAwsApplication<br /><br />1: PgSelect[46], Connection[93]<br />2: PgSelectRows[51]<br />ᐳ: 50, 52, 63, 65, 67, 69, 70<br />3: 71, 87, 155, 165<br />ᐳ: 253, 254, 255, 256, 75, 121, 122, 124, 125, 156, 159"):::bucket
    Bucket9("Bucket 9 (polymorphicPartition)<br />|GcpApplication<br />Deps: 12, 45, 128, 174, 224<br />ᐳGcpApplication<br /><br />1: PgSelect[54], Connection[96]<br />2: PgSelectRows[59]<br />ᐳ: 58, 60, 64, 66, 68, 78, 79<br />3: 80, 89, 160, 166<br />ᐳ: 257, 258, 259, 260, 84, 126, 127, 129, 130, 161, 164"):::bucket
    Bucket10("Bucket 10 (polymorphic)<br />__typename: Access[102]<br />Deps: 102, 12, 103"):::bucket
    Bucket11("Bucket 11 (polymorphicPartition)<br />|AwsApplication<br />Deps: 12, 103<br />ᐳAwsApplication<br /><br />1: PgSelect[104]<br />2: PgSelectRows[109]<br />ᐳ: 108, 110, 153"):::bucket
    Bucket12("Bucket 12 (polymorphicPartition)<br />|GcpApplication<br />Deps: 12, 103<br />ᐳGcpApplication<br /><br />1: PgSelect[112]<br />2: PgSelectRows[117]<br />ᐳ: 116, 118, 154"):::bucket
    Bucket13("Bucket 13 (combined)<br />Deps: 12"):::bucket
    Bucket14("Bucket 14 (polymorphic)<br />__typename: Access[132]<br />Deps: 132, 131, 12"):::bucket
    Bucket15("Bucket 15 (listItem)<br />Deps: 169, 12<br /><br />ROOT __Item{15}ᐸ253ᐳ[149]"):::bucket
    Bucket16("Bucket 16 (listItem)<br />Deps: 174, 12<br /><br />ROOT __Item{16}ᐸ257ᐳ[151]"):::bucket
    Bucket17("Bucket 17 (polymorphicPartition)<br />|Organization<br />Deps: 131, 12<br />(2) ...ᐳOrganization<br /><br />1: <br />ᐳ: Access[133]<br />2: PgSelect[134]<br />3: PgSelectRows[139]<br />ᐳ: 138, 140, 197, 199"):::bucket
    Bucket18("Bucket 18 (polymorphicPartition)<br />|Person<br />Deps: 131, 12<br />(2) ...ᐳPerson<br /><br />1: <br />ᐳ: Access[141]<br />2: PgSelect[142]<br />3: PgSelectRows[147]<br />ᐳ: 146, 148, 198, 200"):::bucket
    Bucket19("Bucket 19 (combined)<br />Deps: 12"):::bucket
    Bucket20("Bucket 20 (polymorphic)<br />__typename: Access[178]<br />Deps: 178, 12, 179"):::bucket
    Bucket21("Bucket 21 (polymorphicPartition)<br />|FirstPartyVulnerability<br />Deps: 12, 179<br />(2) ...ᐳFirstPartyVulnerability<br /><br />1: PgSelect[180]<br />2: PgSelectRows[185]<br />ᐳ: 184, 186, 205, 207, 209, 211"):::bucket
    Bucket22("Bucket 22 (polymorphicPartition)<br />|ThirdPartyVulnerability<br />Deps: 12, 179<br />(2) ...ᐳThirdPartyVulnerability<br /><br />1: PgSelect[188]<br />2: PgSelectRows[193]<br />ᐳ: 192, 194, 206, 208, 210, 212"):::bucket
    Bucket23("Bucket 23 (listItem)<br />Deps: 165, 219, 12<br /><br />ROOT __Item{23}ᐸ255ᐳ[201]"):::bucket
    Bucket24("Bucket 24 (listItem)<br />Deps: 166, 224, 12<br /><br />ROOT __Item{24}ᐸ259ᐳ[203]"):::bucket
    Bucket25("Bucket 25 (nullableBoundary)<br />Deps: 201, 213, 219, 12<br /><br />ROOT __Item{23}ᐸ255ᐳ[201]"):::bucket
    Bucket26("Bucket 26 (nullableBoundary)<br />Deps: 203, 215, 224, 12<br /><br />ROOT __Item{24}ᐸ259ᐳ[203]"):::bucket
    Bucket27("Bucket 27 (combined)<br />Deps: 12"):::bucket
    Bucket28("Bucket 28 (polymorphic)<br />__typename: Access[228]<br />Deps: 228, 12, 229"):::bucket
    Bucket29("Bucket 29 (polymorphicPartition)<br />|FirstPartyVulnerability<br />Deps: 12, 229<br />(2) ...ᐳFirstPartyVulnerability<br /><br />1: PgSelect[230]<br />2: PgSelectRows[235]<br />ᐳ: 234, 236, 245, 247, 249"):::bucket
    Bucket30("Bucket 30 (polymorphicPartition)<br />|ThirdPartyVulnerability<br />Deps: 12, 229<br />(2) ...ᐳThirdPartyVulnerability<br /><br />1: PgSelect[238]<br />2: PgSelectRows[243]<br />ᐳ: 242, 244, 246, 248, 250"):::bucket
    end
    Bucket0 --> Bucket1
    Bucket1 --> Bucket2
    Bucket2 --> Bucket3
    Bucket3 --> Bucket4 & Bucket5
    Bucket4 --> Bucket6
    Bucket5 --> Bucket7
    Bucket6 --> Bucket10
    Bucket7 --> Bucket8 & Bucket9
    Bucket8 --> Bucket13 & Bucket15 & Bucket23
    Bucket9 --> Bucket13 & Bucket16 & Bucket24
    Bucket10 --> Bucket11 & Bucket12
    Bucket13 --> Bucket14
    Bucket14 --> Bucket17 & Bucket18
    Bucket15 --> Bucket19
    Bucket16 --> Bucket19
    Bucket19 --> Bucket20
    Bucket20 --> Bucket21 & Bucket22
    Bucket23 --> Bucket25
    Bucket24 --> Bucket26
    Bucket25 --> Bucket27
    Bucket26 --> Bucket27
    Bucket27 --> Bucket28
    Bucket28 --> Bucket29 & Bucket30

    %% plan dependencies
    Object12{{"Object[12∈0] ➊<br />ᐸ{pgSettings,withPgClient}ᐳ"}}:::plan
    Access10{{"Access[10∈0] ➊<br />ᐸ2.pgSettingsᐳ"}}:::plan
    Access11{{"Access[11∈0] ➊<br />ᐸ2.withPgClientᐳ"}}:::plan
    Access10 & Access11 --> Object12
    __Value2["__Value[2∈0] ➊<br />ᐸcontextᐳ"]:::plan
    __Value2 --> Access10
    __Value2 --> Access11
    Connection13{{"Connection[13∈0] ➊<br />ᐸ9ᐳ"}}:::plan
    Constant262{{"Constant[262∈0] ➊<br />ᐸ4ᐳ"}}:::plan
    Constant262 --> Connection13
    __Value4["__Value[4∈0] ➊<br />ᐸrootValueᐳ"]:::plan
    Connection25{{"Connection[25∈0] ➊<br />ᐸ21ᐳ"}}:::plan
    Constant41{{"Constant[41∈0] ➊<br />ᐸ[HIDDEN]ᐳ"}}:::plan
    Constant123{{"Constant[123∈0] ➊<br />ᐸ[HIDDEN]ᐳ"}}:::plan
    Constant128{{"Constant[128∈0] ➊<br />ᐸ[HIDDEN]ᐳ"}}:::plan
    Constant169{{"Constant[169∈0] ➊<br />ᐸ[HIDDEN]ᐳ"}}:::plan
    Constant174{{"Constant[174∈0] ➊<br />ᐸ[HIDDEN]ᐳ"}}:::plan
    Constant219{{"Constant[219∈0] ➊<br />ᐸ[HIDDEN]ᐳ"}}:::plan
    Constant224{{"Constant[224∈0] ➊<br />ᐸ[HIDDEN]ᐳ"}}:::plan
    PgSelect15[["PgSelect[15∈1] ➊<br />ᐸpeopleᐳ"]]:::plan
    Object12 & Connection13 & Constant262 --> PgSelect15
    PgSelectRows16[["PgSelectRows[16∈1] ➊"]]:::plan
    PgSelect15 --> PgSelectRows16
    __Item17[/"__Item[17∈2]<br />ᐸ16ᐳ"\]:::itemplan
    PgSelectRows16 ==> __Item17
    PgSelectSingle18{{"PgSelectSingle[18∈2]<br />ᐸpeopleᐳ"}}:::plan
    __Item17 --> PgSelectSingle18
    PgUnionAll26[["PgUnionAll[26∈3]<br />ᐸAwsApplication,GcpApplicationᐳ"]]:::plan
    PgClassExpression19{{"PgClassExpression[19∈3]<br />ᐸ__people__.”person_id”ᐳ"}}:::plan
    Object12 & PgClassExpression19 & Connection25 --> PgUnionAll26
    PgUnionAll31[["PgUnionAll[31∈3]<br />ᐸAwsApplication,GcpApplicationᐳ"]]:::plan
    Object12 & PgClassExpression19 & Connection25 --> PgUnionAll31
    PgUnionAll32[["PgUnionAll[32∈3]<br />ᐸAwsApplication,GcpApplicationᐳ"]]:::plan
    Object12 & PgClassExpression19 & Connection25 --> PgUnionAll32
    PgSelectSingle18 --> PgClassExpression19
    PgClassExpression20{{"PgClassExpression[20∈3]<br />ᐸ__people__.”username”ᐳ"}}:::plan
    PgSelectSingle18 --> PgClassExpression20
    First27{{"First[27∈3]"}}:::plan
    Access251{{"Access[251∈3]<br />ᐸ26.itemsᐳ"}}:::plan
    Access251 --> First27
    PgClassExpression30{{"PgClassExpression[30∈3]<br />ᐸcount(*)ᐳ"}}:::plan
    First27 --> PgClassExpression30
    PgUnionAll26 --> Access251
    Access252{{"Access[252∈3]<br />ᐸ31.itemsᐳ"}}:::plan
    PgUnionAll31 --> Access252
    Access261{{"Access[261∈3]<br />ᐸ32.itemsᐳ"}}:::plan
    PgUnionAll32 --> Access261
    __Item35[/"__Item[35∈4]<br />ᐸ252ᐳ"\]:::itemplan
    Access252 ==> __Item35
    Access61{{"Access[61∈4]<br />ᐸ31.cursorDetailsᐳ"}}:::plan
    PgUnionAll31 --> Access61
    List42{{"List[42∈5]<br />ᐸ39,40,41ᐳ"}}:::plan
    Access39{{"Access[39∈5]<br />ᐸ37.0ᐳ"}}:::plan
    Access40{{"Access[40∈5]<br />ᐸ37.1ᐳ"}}:::plan
    Access39 & Access40 & Constant41 --> List42
    __Item37[/"__Item[37∈5]<br />ᐸ261ᐳ"\]:::itemplan
    Access261 ==> __Item37
    __Item37 --> Access39
    __Item37 --> Access40
    Lambda43{{"Lambda[43∈5]<br />ᐸtoSpecifierᐳ"}}:::plan
    List42 --> Lambda43
    Access44{{"Access[44∈5]<br />ᐸ43.__typenameᐳ"}}:::plan
    Lambda43 --> Access44
    Access45{{"Access[45∈5]<br />ᐸ43.idᐳ"}}:::plan
    Lambda43 --> Access45
    List100{{"List[100∈6]<br />ᐸ97,98,41ᐳ"}}:::plan
    Access97{{"Access[97∈6]<br />ᐸ35.0ᐳ"}}:::plan
    Access98{{"Access[98∈6]<br />ᐸ35.1ᐳ"}}:::plan
    Access97 & Access98 & Constant41 --> List100
    PgCursor62{{"PgCursor[62∈6]"}}:::plan
    __Item35 & Access61 --> PgCursor62
    __Item35 --> Access97
    __Item35 --> Access98
    Lambda101{{"Lambda[101∈6]<br />ᐸtoSpecifierᐳ"}}:::plan
    List100 --> Lambda101
    Access102{{"Access[102∈6]<br />ᐸ101.__typenameᐳ"}}:::plan
    Lambda101 --> Access102
    Access103{{"Access[103∈6]<br />ᐸ101.idᐳ"}}:::plan
    Lambda101 --> Access103
    PgUnionAll71[["PgUnionAll[71∈8]^<br />ᐸPerson,Organizationᐳ"]]:::plan
    PgClassExpression69{{"PgClassExpression[69∈8]^<br />ᐸ__aws_appl...person_id”ᐳ"}}:::plan
    PgClassExpression70{{"PgClassExpression[70∈8]^<br />ᐸ__aws_appl...zation_id”ᐳ"}}:::plan
    Object12 & PgClassExpression69 & PgClassExpression70 --> PgUnionAll71
    List124{{"List[124∈8]^<br />ᐸ121,122,123ᐳ"}}:::plan
    Access121{{"Access[121∈8]^<br />ᐸ75.0ᐳ"}}:::plan
    Access122{{"Access[122∈8]^<br />ᐸ75.1ᐳ"}}:::plan
    Access121 & Access122 & Constant123 --> List124
    PgUnionAll155[["PgUnionAll[155∈8]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    PgClassExpression65{{"PgClassExpression[65∈8]^<br />ᐸ__aws_appl...ons__.”id”ᐳ"}}:::plan
    Connection93{{"Connection[93∈8] ➊<br />ᐸ91ᐳ<br />ᐳAwsApplication"}}:::plan
    Object12 & PgClassExpression65 & Connection93 --> PgUnionAll155
    PgUnionAll165[["PgUnionAll[165∈8]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    Object12 & PgClassExpression65 & Connection93 --> PgUnionAll165
    PgSelect46[["PgSelect[46∈8]<br />ᐸaws_applicationsᐳ<br />ᐳAwsApplication"]]:::plan
    Object12 & Access45 --> PgSelect46
    PgUnionAll87[["PgUnionAll[87∈8]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    Object12 & PgClassExpression65 --> PgUnionAll87
    First50{{"First[50∈8]^"}}:::plan
    PgSelectRows51[["PgSelectRows[51∈8]^"]]:::plan
    PgSelectRows51 --> First50
    PgSelect46 --> PgSelectRows51
    PgSelectSingle52{{"PgSelectSingle[52∈8]^<br />ᐸaws_applicationsᐳ"}}:::plan
    First50 --> PgSelectSingle52
    PgClassExpression63{{"PgClassExpression[63∈8]^<br />ᐸ__aws_appl..._.”aws_id”ᐳ"}}:::plan
    PgSelectSingle52 --> PgClassExpression63
    PgSelectSingle52 --> PgClassExpression65
    PgClassExpression67{{"PgClassExpression[67∈8]^<br />ᐸ__aws_appl...s__.”name”ᐳ"}}:::plan
    PgSelectSingle52 --> PgClassExpression67
    PgSelectSingle52 --> PgClassExpression69
    PgSelectSingle52 --> PgClassExpression70
    First75{{"First[75∈8]^"}}:::plan
    Access256{{"Access[256∈8]^<br />ᐸ71.itemsᐳ"}}:::plan
    Access256 --> First75
    First75 --> Access121
    First75 --> Access122
    Lambda125{{"Lambda[125∈8]^<br />ᐸtoSpecifierᐳ"}}:::plan
    List124 --> Lambda125
    First156{{"First[156∈8]^"}}:::plan
    Access254{{"Access[254∈8]^<br />ᐸ155.itemsᐳ"}}:::plan
    Access254 --> First156
    PgClassExpression159{{"PgClassExpression[159∈8]^<br />ᐸcount(*)ᐳ"}}:::plan
    First156 --> PgClassExpression159
    Access253{{"Access[253∈8]^<br />ᐸ87.itemsᐳ"}}:::plan
    PgUnionAll87 --> Access253
    PgUnionAll155 --> Access254
    Access255{{"Access[255∈8]^<br />ᐸ165.itemsᐳ"}}:::plan
    PgUnionAll165 --> Access255
    PgUnionAll71 --> Access256
    PgUnionAll80[["PgUnionAll[80∈9]^<br />ᐸPerson,Organizationᐳ"]]:::plan
    PgClassExpression78{{"PgClassExpression[78∈9]^<br />ᐸ__gcp_appl...person_id”ᐳ"}}:::plan
    PgClassExpression79{{"PgClassExpression[79∈9]^<br />ᐸ__gcp_appl...zation_id”ᐳ"}}:::plan
    Object12 & PgClassExpression78 & PgClassExpression79 --> PgUnionAll80
    List129{{"List[129∈9]^<br />ᐸ126,127,128ᐳ"}}:::plan
    Access126{{"Access[126∈9]^<br />ᐸ84.0ᐳ"}}:::plan
    Access127{{"Access[127∈9]^<br />ᐸ84.1ᐳ"}}:::plan
    Access126 & Access127 & Constant128 --> List129
    PgUnionAll160[["PgUnionAll[160∈9]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    PgClassExpression66{{"PgClassExpression[66∈9]^<br />ᐸ__gcp_appl...ons__.”id”ᐳ"}}:::plan
    Connection96{{"Connection[96∈9] ➊<br />ᐸ94ᐳ<br />ᐳGcpApplication"}}:::plan
    Object12 & PgClassExpression66 & Connection96 --> PgUnionAll160
    PgUnionAll166[["PgUnionAll[166∈9]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    Object12 & PgClassExpression66 & Connection96 --> PgUnionAll166
    PgSelect54[["PgSelect[54∈9]<br />ᐸgcp_applicationsᐳ<br />ᐳGcpApplication"]]:::plan
    Object12 & Access45 --> PgSelect54
    PgUnionAll89[["PgUnionAll[89∈9]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    Object12 & PgClassExpression66 --> PgUnionAll89
    First58{{"First[58∈9]^"}}:::plan
    PgSelectRows59[["PgSelectRows[59∈9]^"]]:::plan
    PgSelectRows59 --> First58
    PgSelect54 --> PgSelectRows59
    PgSelectSingle60{{"PgSelectSingle[60∈9]^<br />ᐸgcp_applicationsᐳ"}}:::plan
    First58 --> PgSelectSingle60
    PgClassExpression64{{"PgClassExpression[64∈9]^<br />ᐸ__gcp_appl..._.”gcp_id”ᐳ"}}:::plan
    PgSelectSingle60 --> PgClassExpression64
    PgSelectSingle60 --> PgClassExpression66
    PgClassExpression68{{"PgClassExpression[68∈9]^<br />ᐸ__gcp_appl...s__.”name”ᐳ"}}:::plan
    PgSelectSingle60 --> PgClassExpression68
    PgSelectSingle60 --> PgClassExpression78
    PgSelectSingle60 --> PgClassExpression79
    First84{{"First[84∈9]^"}}:::plan
    Access260{{"Access[260∈9]^<br />ᐸ80.itemsᐳ"}}:::plan
    Access260 --> First84
    First84 --> Access126
    First84 --> Access127
    Lambda130{{"Lambda[130∈9]^<br />ᐸtoSpecifierᐳ"}}:::plan
    List129 --> Lambda130
    First161{{"First[161∈9]^"}}:::plan
    Access258{{"Access[258∈9]^<br />ᐸ160.itemsᐳ"}}:::plan
    Access258 --> First161
    PgClassExpression164{{"PgClassExpression[164∈9]^<br />ᐸcount(*)ᐳ"}}:::plan
    First161 --> PgClassExpression164
    Access257{{"Access[257∈9]^<br />ᐸ89.itemsᐳ"}}:::plan
    PgUnionAll89 --> Access257
    PgUnionAll160 --> Access258
    Access259{{"Access[259∈9]^<br />ᐸ166.itemsᐳ"}}:::plan
    PgUnionAll166 --> Access259
    PgUnionAll80 --> Access260
    PgSelect104[["PgSelect[104∈11]<br />ᐸaws_applicationsᐳ<br />ᐳAwsApplication"]]:::plan
    Object12 & Access103 --> PgSelect104
    First108{{"First[108∈11]^"}}:::plan
    PgSelectRows109[["PgSelectRows[109∈11]^"]]:::plan
    PgSelectRows109 --> First108
    PgSelect104 --> PgSelectRows109
    PgSelectSingle110{{"PgSelectSingle[110∈11]^<br />ᐸaws_applicationsᐳ"}}:::plan
    First108 --> PgSelectSingle110
    PgClassExpression153{{"PgClassExpression[153∈11]^<br />ᐸ__aws_appl...ons__.”id”ᐳ"}}:::plan
    PgSelectSingle110 --> PgClassExpression153
    PgSelect112[["PgSelect[112∈12]<br />ᐸgcp_applicationsᐳ<br />ᐳGcpApplication"]]:::plan
    Object12 & Access103 --> PgSelect112
    First116{{"First[116∈12]^"}}:::plan
    PgSelectRows117[["PgSelectRows[117∈12]^"]]:::plan
    PgSelectRows117 --> First116
    PgSelect112 --> PgSelectRows117
    PgSelectSingle118{{"PgSelectSingle[118∈12]^<br />ᐸgcp_applicationsᐳ"}}:::plan
    First116 --> PgSelectSingle118
    PgClassExpression154{{"PgClassExpression[154∈12]^<br />ᐸ__gcp_appl...ons__.”id”ᐳ"}}:::plan
    PgSelectSingle118 --> PgClassExpression154
    Access132{{"Access[132∈13]^<br />ᐸ131.__typenameᐳ"}}:::plan
    __Value131:::plan@{shape: docs, label: "__Combined[131∈13]<br />ᐳAwsApplication<br />ᐳGcpApplication"}
    __Value131 --> Access132
    List170{{"List[170∈15]^<br />ᐸ167,168,169ᐳ"}}:::plan
    Access167{{"Access[167∈15]^<br />ᐸ149.0ᐳ"}}:::plan
    Access168{{"Access[168∈15]^<br />ᐸ149.1ᐳ"}}:::plan
    Access167 & Access168 & Constant169 --> List170
    __Item149[/"__Item[149∈15]<br />ᐸ253ᐳ<br />ᐳAwsApplication"\]:::itemplan
    Access253 ==> __Item149
    __Item149 --> Access167
    __Item149 --> Access168
    Lambda171{{"Lambda[171∈15]^<br />ᐸtoSpecifierᐳ"}}:::plan
    List170 --> Lambda171
    List175{{"List[175∈16]^<br />ᐸ172,173,174ᐳ"}}:::plan
    Access172{{"Access[172∈16]^<br />ᐸ151.0ᐳ"}}:::plan
    Access173{{"Access[173∈16]^<br />ᐸ151.1ᐳ"}}:::plan
    Access172 & Access173 & Constant174 --> List175
    __Item151[/"__Item[151∈16]<br />ᐸ257ᐳ<br />ᐳGcpApplication"\]:::itemplan
    Access257 ==> __Item151
    __Item151 --> Access172
    __Item151 --> Access173
    Lambda176{{"Lambda[176∈16]^<br />ᐸtoSpecifierᐳ"}}:::plan
    List175 --> Lambda176
    PgSelect134[["PgSelect[134∈17]^<br />ᐸorganizationsᐳ"]]:::plan
    Access133{{"Access[133∈17]<br />ᐸ131.organization_idᐳ<br />(2) ...ᐳOrganization"}}:::plan
    Object12 & Access133 --> PgSelect134
    __Value131 --> Access133
    First138{{"First[138∈17]^"}}:::plan
    PgSelectRows139[["PgSelectRows[139∈17]^"]]:::plan
    PgSelectRows139 --> First138
    PgSelect134 --> PgSelectRows139
    PgSelectSingle140{{"PgSelectSingle[140∈17]^<br />ᐸorganizationsᐳ"}}:::plan
    First138 --> PgSelectSingle140
    PgClassExpression197{{"PgClassExpression[197∈17]^<br />ᐸ__organiza...zation_id”ᐳ"}}:::plan
    PgSelectSingle140 --> PgClassExpression197
    PgClassExpression199{{"PgClassExpression[199∈17]^<br />ᐸ__organiza...s__.”name”ᐳ"}}:::plan
    PgSelectSingle140 --> PgClassExpression199
    PgSelect142[["PgSelect[142∈18]^<br />ᐸpeopleᐳ"]]:::plan
    Access141{{"Access[141∈18]<br />ᐸ131.person_idᐳ<br />(2) ...ᐳPerson"}}:::plan
    Object12 & Access141 --> PgSelect142
    __Value131 --> Access141
    First146{{"First[146∈18]^"}}:::plan
    PgSelectRows147[["PgSelectRows[147∈18]^"]]:::plan
    PgSelectRows147 --> First146
    PgSelect142 --> PgSelectRows147
    PgSelectSingle148{{"PgSelectSingle[148∈18]^<br />ᐸpeopleᐳ"}}:::plan
    First146 --> PgSelectSingle148
    PgClassExpression198{{"PgClassExpression[198∈18]^<br />ᐸ__people__.”person_id”ᐳ"}}:::plan
    PgSelectSingle148 --> PgClassExpression198
    PgClassExpression200{{"PgClassExpression[200∈18]^<br />ᐸ__people__.”username”ᐳ"}}:::plan
    PgSelectSingle148 --> PgClassExpression200
    Access178{{"Access[178∈19]^<br />ᐸ177.__typenameᐳ"}}:::plan
    __Value177:::plan@{shape: docs, label: "__Combined[177∈19]<br />ᐳAwsApplication<br />ᐳGcpApplication"}
    __Value177 --> Access178
    Access179{{"Access[179∈19]^<br />ᐸ177.idᐳ"}}:::plan
    __Value177 --> Access179
    PgSelect180[["PgSelect[180∈21]<br />ᐸfirst_party_vulnerabilitiesᐳ<br />(2) ...ᐳFirstPartyVulnerability"]]:::plan
    Object12 & Access179 --> PgSelect180
    First184{{"First[184∈21]^"}}:::plan
    PgSelectRows185[["PgSelectRows[185∈21]^"]]:::plan
    PgSelectRows185 --> First184
    PgSelect180 --> PgSelectRows185
    PgSelectSingle186{{"PgSelectSingle[186∈21]^<br />ᐸfirst_party_vulnerabilitiesᐳ"}}:::plan
    First184 --> PgSelectSingle186
    PgClassExpression205{{"PgClassExpression[205∈21]^<br />ᐸ__first_pa...team_name”ᐳ"}}:::plan
    PgSelectSingle186 --> PgClassExpression205
    PgClassExpression207{{"PgClassExpression[207∈21]^<br />ᐸ__first_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle186 --> PgClassExpression207
    PgClassExpression209{{"PgClassExpression[209∈21]^<br />ᐸ__first_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle186 --> PgClassExpression209
    PgClassExpression211{{"PgClassExpression[211∈21]^<br />ᐸ__first_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle186 --> PgClassExpression211
    PgSelect188[["PgSelect[188∈22]<br />ᐸthird_party_vulnerabilitiesᐳ<br />(2) ...ᐳThirdPartyVulnerability"]]:::plan
    Object12 & Access179 --> PgSelect188
    First192{{"First[192∈22]^"}}:::plan
    PgSelectRows193[["PgSelectRows[193∈22]^"]]:::plan
    PgSelectRows193 --> First192
    PgSelect188 --> PgSelectRows193
    PgSelectSingle194{{"PgSelectSingle[194∈22]^<br />ᐸthird_party_vulnerabilitiesᐳ"}}:::plan
    First192 --> PgSelectSingle194
    PgClassExpression206{{"PgClassExpression[206∈22]^<br />ᐸ__third_pa...ndor_name”ᐳ"}}:::plan
    PgSelectSingle194 --> PgClassExpression206
    PgClassExpression208{{"PgClassExpression[208∈22]^<br />ᐸ__third_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle194 --> PgClassExpression208
    PgClassExpression210{{"PgClassExpression[210∈22]^<br />ᐸ__third_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle194 --> PgClassExpression210
    PgClassExpression212{{"PgClassExpression[212∈22]^<br />ᐸ__third_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle194 --> PgClassExpression212
    __Item201[/"__Item[201∈23]<br />ᐸ255ᐳ<br />ᐳAwsApplication"\]:::itemplan
    Access255 ==> __Item201
    Access213{{"Access[213∈23]<br />ᐸ165.cursorDetailsᐳ<br />ᐳAwsApplication"}}:::plan
    PgUnionAll165 --> Access213
    __Item203[/"__Item[203∈24]<br />ᐸ259ᐳ<br />ᐳGcpApplication"\]:::itemplan
    Access259 ==> __Item203
    Access215{{"Access[215∈24]<br />ᐸ166.cursorDetailsᐳ<br />ᐳGcpApplication"}}:::plan
    PgUnionAll166 --> Access215
    List220{{"List[220∈25]^<br />ᐸ217,218,219ᐳ"}}:::plan
    Access217{{"Access[217∈25]<br />ᐸ201.0ᐳ<br />ᐳAwsApplication"}}:::plan
    Access218{{"Access[218∈25]<br />ᐸ201.1ᐳ<br />ᐳAwsApplication"}}:::plan
    Access217 & Access218 & Constant219 --> List220
    PgCursor214{{"PgCursor[214∈25]<br />ᐳAwsApplication"}}:::plan
    __Item201 & Access213 --> PgCursor214
    __Item201 --> Access217
    __Item201 --> Access218
    Lambda221{{"Lambda[221∈25]^<br />ᐸtoSpecifierᐳ"}}:::plan
    List220 --> Lambda221
    List225{{"List[225∈26]^<br />ᐸ222,223,224ᐳ"}}:::plan
    Access222{{"Access[222∈26]<br />ᐸ203.0ᐳ<br />ᐳGcpApplication"}}:::plan
    Access223{{"Access[223∈26]<br />ᐸ203.1ᐳ<br />ᐳGcpApplication"}}:::plan
    Access222 & Access223 & Constant224 --> List225
    PgCursor216{{"PgCursor[216∈26]<br />ᐳGcpApplication"}}:::plan
    __Item203 & Access215 --> PgCursor216
    __Item203 --> Access222
    __Item203 --> Access223
    Lambda226{{"Lambda[226∈26]^<br />ᐸtoSpecifierᐳ"}}:::plan
    List225 --> Lambda226
    Access228{{"Access[228∈27]^<br />ᐸ227.__typenameᐳ"}}:::plan
    __Value227:::plan@{shape: docs, label: "__Combined[227∈27]<br />ᐳAwsApplication<br />ᐳGcpApplication"}
    __Value227 --> Access228
    Access229{{"Access[229∈27]^<br />ᐸ227.idᐳ"}}:::plan
    __Value227 --> Access229
    PgSelect230[["PgSelect[230∈29]<br />ᐸfirst_party_vulnerabilitiesᐳ<br />(2) ...ᐳFirstPartyVulnerability"]]:::plan
    Object12 & Access229 --> PgSelect230
    First234{{"First[234∈29]^"}}:::plan
    PgSelectRows235[["PgSelectRows[235∈29]^"]]:::plan
    PgSelectRows235 --> First234
    PgSelect230 --> PgSelectRows235
    PgSelectSingle236{{"PgSelectSingle[236∈29]^<br />ᐸfirst_party_vulnerabilitiesᐳ"}}:::plan
    First234 --> PgSelectSingle236
    PgClassExpression245{{"PgClassExpression[245∈29]^<br />ᐸ__first_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle236 --> PgClassExpression245
    PgClassExpression247{{"PgClassExpression[247∈29]^<br />ᐸ__first_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle236 --> PgClassExpression247
    PgClassExpression249{{"PgClassExpression[249∈29]^<br />ᐸ__first_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle236 --> PgClassExpression249
    PgSelect238[["PgSelect[238∈30]<br />ᐸthird_party_vulnerabilitiesᐳ<br />(2) ...ᐳThirdPartyVulnerability"]]:::plan
    Object12 & Access229 --> PgSelect238
    First242{{"First[242∈30]^"}}:::plan
    PgSelectRows243[["PgSelectRows[243∈30]^"]]:::plan
    PgSelectRows243 --> First242
    PgSelect238 --> PgSelectRows243
    PgSelectSingle244{{"PgSelectSingle[244∈30]^<br />ᐸthird_party_vulnerabilitiesᐳ"}}:::plan
    First242 --> PgSelectSingle244
    PgClassExpression246{{"PgClassExpression[246∈30]^<br />ᐸ__third_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle244 --> PgClassExpression246
    PgClassExpression248{{"PgClassExpression[248∈30]^<br />ᐸ__third_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle244 --> PgClassExpression248
    PgClassExpression250{{"PgClassExpression[250∈30]^<br />ᐸ__third_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle244 --> PgClassExpression250

    %% define steps
    classDef bucket0 stroke:#696969
    class Bucket0,__Value2,__Value4,Access10,Access11,Object12,Connection13,Connection25,Constant41,Constant123,Constant128,Constant169,Constant174,Constant219,Constant224,Constant262 bucket0
    classDef bucket1 stroke:#00bfff
    class Bucket1,PgSelect15,PgSelectRows16 bucket1
    classDef bucket2 stroke:#7f007f
    class Bucket2,__Item17,PgSelectSingle18 bucket2
    classDef bucket3 stroke:#ffa500
    class Bucket3,PgClassExpression19,PgClassExpression20,PgUnionAll26,First27,PgClassExpression30,PgUnionAll31,PgUnionAll32,Access251,Access252,Access261 bucket3
    classDef bucket4 stroke:#0000ff
    class Bucket4,__Item35,Access61 bucket4
    classDef bucket5 stroke:#7fff00
    class Bucket5,__Item37,Access39,Access40,List42,Lambda43,Access44,Access45 bucket5
    classDef bucket6 stroke:#ff1493
    class Bucket6,PgCursor62,Access97,Access98,List100,Lambda101,Access102,Access103 bucket6
    classDef bucket7 stroke:#808000
    class Bucket7 bucket7
    classDef bucket8 stroke:#dda0dd
    class Bucket8,PgSelect46,First50,PgSelectRows51,PgSelectSingle52,PgClassExpression63,PgClassExpression65,PgClassExpression67,PgClassExpression69,PgClassExpression70,PgUnionAll71,First75,PgUnionAll87,Connection93,Access121,Access122,List124,Lambda125,PgUnionAll155,First156,PgClassExpression159,PgUnionAll165,Access253,Access254,Access255,Access256 bucket8
    classDef bucket9 stroke:#ff0000
    class Bucket9,PgSelect54,First58,PgSelectRows59,PgSelectSingle60,PgClassExpression64,PgClassExpression66,PgClassExpression68,PgClassExpression78,PgClassExpression79,PgUnionAll80,First84,PgUnionAll89,Connection96,Access126,Access127,List129,Lambda130,PgUnionAll160,First161,PgClassExpression164,PgUnionAll166,Access257,Access258,Access259,Access260 bucket9
    classDef bucket10 stroke:#ffff00
    class Bucket10 bucket10
    classDef bucket11 stroke:#00ffff
    class Bucket11,PgSelect104,First108,PgSelectRows109,PgSelectSingle110,PgClassExpression153 bucket11
    classDef bucket12 stroke:#4169e1
    class Bucket12,PgSelect112,First116,PgSelectRows117,PgSelectSingle118,PgClassExpression154 bucket12
    classDef bucket13 stroke:#3cb371
    class Bucket13,__Value131,Access132 bucket13
    classDef bucket14 stroke:#a52a2a
    class Bucket14 bucket14
    classDef bucket15 stroke:#ff00ff
    class Bucket15,__Item149,Access167,Access168,List170,Lambda171 bucket15
    classDef bucket16 stroke:#f5deb3
    class Bucket16,__Item151,Access172,Access173,List175,Lambda176 bucket16
    classDef bucket17 stroke:#696969
    class Bucket17,Access133,PgSelect134,First138,PgSelectRows139,PgSelectSingle140,PgClassExpression197,PgClassExpression199 bucket17
    classDef bucket18 stroke:#00bfff
    class Bucket18,Access141,PgSelect142,First146,PgSelectRows147,PgSelectSingle148,PgClassExpression198,PgClassExpression200 bucket18
    classDef bucket19 stroke:#7f007f
    class Bucket19,__Value177,Access178,Access179 bucket19
    classDef bucket20 stroke:#ffa500
    class Bucket20 bucket20
    classDef bucket21 stroke:#0000ff
    class Bucket21,PgSelect180,First184,PgSelectRows185,PgSelectSingle186,PgClassExpression205,PgClassExpression207,PgClassExpression209,PgClassExpression211 bucket21
    classDef bucket22 stroke:#7fff00
    class Bucket22,PgSelect188,First192,PgSelectRows193,PgSelectSingle194,PgClassExpression206,PgClassExpression208,PgClassExpression210,PgClassExpression212 bucket22
    classDef bucket23 stroke:#ff1493
    class Bucket23,__Item201,Access213 bucket23
    classDef bucket24 stroke:#808000
    class Bucket24,__Item203,Access215 bucket24
    classDef bucket25 stroke:#dda0dd
    class Bucket25,PgCursor214,Access217,Access218,List220,Lambda221 bucket25
    classDef bucket26 stroke:#ff0000
    class Bucket26,PgCursor216,Access222,Access223,List225,Lambda226 bucket26
    classDef bucket27 stroke:#ffff00
    class Bucket27,__Value227,Access228,Access229 bucket27
    classDef bucket28 stroke:#00ffff
    class Bucket28 bucket28
    classDef bucket29 stroke:#4169e1
    class Bucket29,PgSelect230,First234,PgSelectRows235,PgSelectSingle236,PgClassExpression245,PgClassExpression247,PgClassExpression249 bucket29
    classDef bucket30 stroke:#3cb371
    class Bucket30,PgSelect238,First242,PgSelectRows243,PgSelectSingle244,PgClassExpression246,PgClassExpression248,PgClassExpression250 bucket30

    Lambda125 -.-x __Value131
    Lambda130 -.-x __Value131
    Lambda171 -.-x __Value177
    Lambda176 -.-x __Value177
    Lambda221 -.-x __Value227
    Lambda226 -.-x __Value227
