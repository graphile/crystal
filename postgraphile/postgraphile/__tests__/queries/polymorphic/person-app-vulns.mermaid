%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef unbatchedplan fill:#dff,stroke-width:1px,color:#000
    classDef sideeffectplan fill:#fcc,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left


    %% plan dependencies
    PgSelect15[["PgSelect[15∈0] ➊<br />ᐸpeopleᐳ"]]:::plan
    Object12{{"Object[12∈0] ➊<br />ᐸ{pgSettings,withPgClient}ᐳ"}}:::plan
    Connection13{{"Connection[13∈0] ➊<br />ᐸ9ᐳ"}}:::plan
    Constant289{{"Constant[289∈0] ➊<br />ᐸ4ᐳ"}}:::plan
    Object12 -->|rejectNull| PgSelect15
    Connection13 & Constant289 --> PgSelect15
    Constant289 --> Connection13
    Connection25{{"Connection[25∈0] ➊<br />ᐸ21ᐳ"}}:::plan
    Access10{{"Access[10∈0] ➊<br />ᐸ2.pgSettingsᐳ"}}:::plan
    Access11{{"Access[11∈0] ➊<br />ᐸ2.withPgClientᐳ"}}:::plan
    Access10 & Access11 --> Object12
    __Value2["__Value[2∈0] ➊<br />ᐸcontextᐳ"]:::plan
    __Value2 --> Access10
    __Value2 --> Access11
    PgSelectRows16[["PgSelectRows[16∈0] ➊"]]:::plan
    PgSelect15 --> PgSelectRows16
    Lambda26[["Lambda[26∈0] ➊<br />ᐸlimitToTypesᐳ"]]:::unbatchedplan
    __Value4["__Value[4∈0] ➊<br />ᐸrootValueᐳ"]:::plan
    PgUnionAll32[["PgUnionAll[32∈1]"]]:::plan
    PgClassExpression19{{"PgClassExpression[19∈1]<br />ᐸ__people__.”person_id”ᐳ"}}:::plan
    Object12 & PgClassExpression19 & Lambda26 & Connection25 --> PgUnionAll32
    PgUnionAll57[["PgUnionAll[57∈1]"]]:::plan
    Object12 & PgClassExpression19 & Lambda26 & Connection25 --> PgUnionAll57
    PgUnionAll27[["PgUnionAll[27∈1]"]]:::plan
    Object12 & PgClassExpression19 & Lambda26 & Connection25 --> PgUnionAll27
    __Item17[/"__Item[17∈1]<br />ᐸ16ᐳ"\]:::itemplan
    PgSelectRows16 ==> __Item17
    PgSelectSingle18{{"PgSelectSingle[18∈1]<br />ᐸpeopleᐳ"}}:::plan
    __Item17 --> PgSelectSingle18
    PgSelectSingle18 --> PgClassExpression19
    PgClassExpression20{{"PgClassExpression[20∈1]<br />ᐸ__people__.”username”ᐳ"}}:::plan
    PgSelectSingle18 --> PgClassExpression20
    First28{{"First[28∈1]"}}:::plan
    Access278{{"Access[278∈1]<br />ᐸ27.itemsᐳ"}}:::plan
    Access278 --> First28
    PgUnionAllSingle30["PgUnionAllSingle[30∈1]"]:::plan
    First28 --> PgUnionAllSingle30
    PgClassExpression31{{"PgClassExpression[31∈1]<br />ᐸcount(*)ᐳ"}}:::plan
    PgUnionAllSingle30 --> PgClassExpression31
    PgUnionAll27 --> Access278
    Access279{{"Access[279∈1]<br />ᐸ32.itemsᐳ"}}:::plan
    PgUnionAll32 --> Access279
    Access288{{"Access[288∈1]<br />ᐸ57.itemsᐳ"}}:::plan
    PgUnionAll57 --> Access288
    PgCursor37{{"PgCursor[37∈2]"}}:::plan
    PgUnionAllSingle35["PgUnionAllSingle[35∈2]"]:::plan
    Access36{{"Access[36∈2]<br />ᐸ32.cursorDetailsᐳ"}}:::plan
    PgUnionAllSingle35 & Access36 --> PgCursor37
    __Item34[/"__Item[34∈2]<br />ᐸ279ᐳ"\]:::itemplan
    Access279 ==> __Item34
    __Item34 --> PgUnionAllSingle35
    PgUnionAll32 --> Access36
    Access38{{"Access[38∈2]<br />ᐸ35.1ᐳ"}}:::plan
    PgUnionAllSingle35 --> Access38
    PgSelect41[["PgSelect[41∈3]<br />ᐸaws_applicationsᐳ<br />ᐳAwsApplication"]]:::plan
    Access40{{"Access[40∈3]<br />ᐸ39.0ᐳ"}}:::plan
    Object12 & Access40 --> PgSelect41
    PgSelect51[["PgSelect[51∈3]<br />ᐸgcp_applicationsᐳ<br />ᐳGcpApplication"]]:::plan
    Access50{{"Access[50∈3]<br />ᐸ49.0ᐳ"}}:::plan
    Object12 & Access50 --> PgSelect51
    JSONParse39[["JSONParse[39∈3]<br />ᐸ38ᐳ<br />ᐳAwsApplication"]]:::plan
    Access38 --> JSONParse39
    JSONParse39 --> Access40
    First45{{"First[45∈3]"}}:::plan
    PgSelectRows46[["PgSelectRows[46∈3]"]]:::plan
    PgSelectRows46 --> First45
    PgSelect41 --> PgSelectRows46
    PgSelectSingle47{{"PgSelectSingle[47∈3]<br />ᐸaws_applicationsᐳ"}}:::plan
    First45 --> PgSelectSingle47
    PgClassExpression48{{"PgClassExpression[48∈3]<br />ᐸ__aws_appl...ons__.”id”ᐳ"}}:::plan
    PgSelectSingle47 --> PgClassExpression48
    JSONParse49[["JSONParse[49∈3]<br />ᐸ38ᐳ<br />ᐳGcpApplication"]]:::plan
    Access38 --> JSONParse49
    JSONParse49 --> Access50
    First53{{"First[53∈3]"}}:::plan
    PgSelectRows54[["PgSelectRows[54∈3]"]]:::plan
    PgSelectRows54 --> First53
    PgSelect51 --> PgSelectRows54
    PgSelectSingle55{{"PgSelectSingle[55∈3]<br />ᐸgcp_applicationsᐳ"}}:::plan
    First53 --> PgSelectSingle55
    PgClassExpression56{{"PgClassExpression[56∈3]<br />ᐸ__gcp_appl...ons__.”id”ᐳ"}}:::plan
    PgSelectSingle55 --> PgClassExpression56
    __Item59[/"__Item[59∈4]<br />ᐸ288ᐳ"\]:::itemplan
    Access288 ==> __Item59
    PgUnionAllSingle60["PgUnionAllSingle[60∈4]"]:::plan
    __Item59 --> PgUnionAllSingle60
    Access61{{"Access[61∈4]<br />ᐸ60.1ᐳ"}}:::plan
    PgUnionAllSingle60 --> Access61
    PgUnionAll142[["PgUnionAll[142∈5]<br />ᐳAwsApplication"]]:::plan
    PgClassExpression72{{"PgClassExpression[72∈5]<br />ᐸ__aws_appl...ons__.”id”ᐳ"}}:::plan
    Connection135{{"Connection[135∈5] ➊<br />ᐸ133ᐳ<br />ᐳAwsApplication"}}:::plan
    Object12 & PgClassExpression72 & Lambda26 & Connection135 --> PgUnionAll142
    PgUnionAll249[["PgUnionAll[249∈5]<br />ᐳGcpApplication"]]:::plan
    PgClassExpression179{{"PgClassExpression[179∈5]<br />ᐸ__gcp_appl...ons__.”id”ᐳ"}}:::plan
    Connection242{{"Connection[242∈5] ➊<br />ᐸ240ᐳ<br />ᐳGcpApplication"}}:::plan
    Object12 & PgClassExpression179 & Lambda26 & Connection242 --> PgUnionAll249
    PgUnionAll102[["PgUnionAll[102∈5]<br />ᐳAwsApplication"]]:::plan
    Object12 & PgClassExpression72 & Lambda26 --> PgUnionAll102
    PgUnionAll209[["PgUnionAll[209∈5]<br />ᐳGcpApplication"]]:::plan
    Object12 & PgClassExpression179 & Lambda26 --> PgUnionAll209
    PgUnionAll137[["PgUnionAll[137∈5]<br />ᐳAwsApplication"]]:::plan
    Object12 & PgClassExpression72 & Lambda26 & Connection135 --> PgUnionAll137
    PgUnionAll244[["PgUnionAll[244∈5]<br />ᐳGcpApplication"]]:::plan
    Object12 & PgClassExpression179 & Lambda26 & Connection242 --> PgUnionAll244
    PgUnionAll76[["PgUnionAll[76∈5]<br />ᐳAwsApplication"]]:::plan
    PgClassExpression74{{"PgClassExpression[74∈5]<br />ᐸ__aws_appl...person_id”ᐳ"}}:::plan
    PgClassExpression75{{"PgClassExpression[75∈5]<br />ᐸ__aws_appl...zation_id”ᐳ"}}:::plan
    Object12 & PgClassExpression74 & PgClassExpression75 --> PgUnionAll76
    PgUnionAll183[["PgUnionAll[183∈5]<br />ᐳGcpApplication"]]:::plan
    PgClassExpression181{{"PgClassExpression[181∈5]<br />ᐸ__gcp_appl...person_id”ᐳ"}}:::plan
    PgClassExpression182{{"PgClassExpression[182∈5]<br />ᐸ__gcp_appl...zation_id”ᐳ"}}:::plan
    Object12 & PgClassExpression181 & PgClassExpression182 --> PgUnionAll183
    PgSelect64[["PgSelect[64∈5]<br />ᐸaws_applicationsᐳ<br />ᐳAwsApplication"]]:::plan
    Access63{{"Access[63∈5]<br />ᐸ62.0ᐳ"}}:::plan
    Object12 & Access63 --> PgSelect64
    PgSelect173[["PgSelect[173∈5]<br />ᐸgcp_applicationsᐳ<br />ᐳGcpApplication"]]:::plan
    Access172{{"Access[172∈5]<br />ᐸ171.0ᐳ"}}:::plan
    Object12 & Access172 --> PgSelect173
    JSONParse62[["JSONParse[62∈5]<br />ᐸ61ᐳ<br />ᐳAwsApplication"]]:::plan
    Access61 --> JSONParse62
    JSONParse62 --> Access63
    First68{{"First[68∈5]"}}:::plan
    PgSelectRows69[["PgSelectRows[69∈5]"]]:::plan
    PgSelectRows69 --> First68
    PgSelect64 --> PgSelectRows69
    PgSelectSingle70{{"PgSelectSingle[70∈5]<br />ᐸaws_applicationsᐳ"}}:::plan
    First68 --> PgSelectSingle70
    PgClassExpression71{{"PgClassExpression[71∈5]<br />ᐸ__aws_appl..._.”aws_id”ᐳ"}}:::plan
    PgSelectSingle70 --> PgClassExpression71
    PgSelectSingle70 --> PgClassExpression72
    PgClassExpression73{{"PgClassExpression[73∈5]<br />ᐸ__aws_appl...s__.”name”ᐳ"}}:::plan
    PgSelectSingle70 --> PgClassExpression73
    PgSelectSingle70 --> PgClassExpression74
    PgSelectSingle70 --> PgClassExpression75
    First78{{"First[78∈5]"}}:::plan
    Access283{{"Access[283∈5]<br />ᐸ76.itemsᐳ"}}:::plan
    Access283 --> First78
    PgUnionAllSingle80["PgUnionAllSingle[80∈5]"]:::plan
    First78 --> PgUnionAllSingle80
    Access81{{"Access[81∈5]<br />ᐸ80.1ᐳ"}}:::plan
    PgUnionAllSingle80 --> Access81
    First138{{"First[138∈5]"}}:::plan
    Access281{{"Access[281∈5]<br />ᐸ137.itemsᐳ"}}:::plan
    Access281 --> First138
    PgUnionAllSingle140["PgUnionAllSingle[140∈5]"]:::plan
    First138 --> PgUnionAllSingle140
    PgClassExpression141{{"PgClassExpression[141∈5]<br />ᐸcount(*)ᐳ"}}:::plan
    PgUnionAllSingle140 --> PgClassExpression141
    JSONParse171[["JSONParse[171∈5]<br />ᐸ61ᐳ<br />ᐳGcpApplication"]]:::plan
    Access61 --> JSONParse171
    JSONParse171 --> Access172
    First175{{"First[175∈5]"}}:::plan
    PgSelectRows176[["PgSelectRows[176∈5]"]]:::plan
    PgSelectRows176 --> First175
    PgSelect173 --> PgSelectRows176
    PgSelectSingle177{{"PgSelectSingle[177∈5]<br />ᐸgcp_applicationsᐳ"}}:::plan
    First175 --> PgSelectSingle177
    PgClassExpression178{{"PgClassExpression[178∈5]<br />ᐸ__gcp_appl..._.”gcp_id”ᐳ"}}:::plan
    PgSelectSingle177 --> PgClassExpression178
    PgSelectSingle177 --> PgClassExpression179
    PgClassExpression180{{"PgClassExpression[180∈5]<br />ᐸ__gcp_appl...s__.”name”ᐳ"}}:::plan
    PgSelectSingle177 --> PgClassExpression180
    PgSelectSingle177 --> PgClassExpression181
    PgSelectSingle177 --> PgClassExpression182
    First185{{"First[185∈5]"}}:::plan
    Access287{{"Access[287∈5]<br />ᐸ183.itemsᐳ"}}:::plan
    Access287 --> First185
    PgUnionAllSingle187["PgUnionAllSingle[187∈5]"]:::plan
    First185 --> PgUnionAllSingle187
    Access188{{"Access[188∈5]<br />ᐸ187.1ᐳ"}}:::plan
    PgUnionAllSingle187 --> Access188
    First245{{"First[245∈5]"}}:::plan
    Access285{{"Access[285∈5]<br />ᐸ244.itemsᐳ"}}:::plan
    Access285 --> First245
    PgUnionAllSingle247["PgUnionAllSingle[247∈5]"]:::plan
    First245 --> PgUnionAllSingle247
    PgClassExpression248{{"PgClassExpression[248∈5]<br />ᐸcount(*)ᐳ"}}:::plan
    PgUnionAllSingle247 --> PgClassExpression248
    Access280{{"Access[280∈5]<br />ᐸ102.itemsᐳ"}}:::plan
    PgUnionAll102 --> Access280
    PgUnionAll137 --> Access281
    Access282{{"Access[282∈5]<br />ᐸ142.itemsᐳ"}}:::plan
    PgUnionAll142 --> Access282
    PgUnionAll76 --> Access283
    Access284{{"Access[284∈5]<br />ᐸ209.itemsᐳ"}}:::plan
    PgUnionAll209 --> Access284
    PgUnionAll244 --> Access285
    Access286{{"Access[286∈5]<br />ᐸ249.itemsᐳ"}}:::plan
    PgUnionAll249 --> Access286
    PgUnionAll183 --> Access287
    PgSelect84[["PgSelect[84∈6]<br />ᐸorganizationsᐳ<br />ᐳAwsApplicationᐳOrganization"]]:::plan
    Access83{{"Access[83∈6]<br />ᐸ82.0ᐳ"}}:::plan
    Object12 & Access83 --> PgSelect84
    PgSelect95[["PgSelect[95∈6]<br />ᐸpeopleᐳ<br />ᐳAwsApplicationᐳPerson"]]:::plan
    Access94{{"Access[94∈6]<br />ᐸ93.0ᐳ"}}:::plan
    Object12 & Access94 --> PgSelect95
    JSONParse82[["JSONParse[82∈6]<br />ᐸ81ᐳ<br />ᐳAwsApplicationᐳOrganization"]]:::plan
    Access81 --> JSONParse82
    JSONParse82 --> Access83
    First88{{"First[88∈6]"}}:::plan
    PgSelectRows89[["PgSelectRows[89∈6]"]]:::plan
    PgSelectRows89 --> First88
    PgSelect84 --> PgSelectRows89
    PgSelectSingle90{{"PgSelectSingle[90∈6]<br />ᐸorganizationsᐳ"}}:::plan
    First88 --> PgSelectSingle90
    PgClassExpression91{{"PgClassExpression[91∈6]<br />ᐸ__organiza...zation_id”ᐳ"}}:::plan
    PgSelectSingle90 --> PgClassExpression91
    PgClassExpression92{{"PgClassExpression[92∈6]<br />ᐸ__organiza...s__.”name”ᐳ"}}:::plan
    PgSelectSingle90 --> PgClassExpression92
    JSONParse93[["JSONParse[93∈6]<br />ᐸ81ᐳ<br />ᐳAwsApplicationᐳPerson"]]:::plan
    Access81 --> JSONParse93
    JSONParse93 --> Access94
    First97{{"First[97∈6]"}}:::plan
    PgSelectRows98[["PgSelectRows[98∈6]"]]:::plan
    PgSelectRows98 --> First97
    PgSelect95 --> PgSelectRows98
    PgSelectSingle99{{"PgSelectSingle[99∈6]<br />ᐸpeopleᐳ"}}:::plan
    First97 --> PgSelectSingle99
    PgClassExpression100{{"PgClassExpression[100∈6]<br />ᐸ__people__.”person_id”ᐳ"}}:::plan
    PgSelectSingle99 --> PgClassExpression100
    PgClassExpression101{{"PgClassExpression[101∈6]<br />ᐸ__people__.”username”ᐳ"}}:::plan
    PgSelectSingle99 --> PgClassExpression101
    __Item106[/"__Item[106∈7]<br />ᐸ280ᐳ"\]:::itemplan
    Access280 ==> __Item106
    PgUnionAllSingle107["PgUnionAllSingle[107∈7]"]:::plan
    __Item106 --> PgUnionAllSingle107
    Access108{{"Access[108∈7]<br />ᐸ107.1ᐳ"}}:::plan
    PgUnionAllSingle107 --> Access108
    PgSelect111[["PgSelect[111∈8]<br />ᐸfirst_party_vulnerabilitiesᐳ<br />ᐳAwsApplicationᐳFirstPartyVulnerability"]]:::plan
    Access110{{"Access[110∈8]<br />ᐸ109.0ᐳ"}}:::plan
    Object12 & Access110 --> PgSelect111
    PgSelect124[["PgSelect[124∈8]<br />ᐸthird_party_vulnerabilitiesᐳ<br />ᐳAwsApplicationᐳThirdPartyVulnerability"]]:::plan
    Access123{{"Access[123∈8]<br />ᐸ122.0ᐳ"}}:::plan
    Object12 & Access123 --> PgSelect124
    JSONParse109[["JSONParse[109∈8]<br />ᐸ108ᐳ<br />ᐳAwsApplicationᐳFirstPartyVulnerability"]]:::plan
    Access108 --> JSONParse109
    JSONParse109 --> Access110
    First115{{"First[115∈8]"}}:::plan
    PgSelectRows116[["PgSelectRows[116∈8]"]]:::plan
    PgSelectRows116 --> First115
    PgSelect111 --> PgSelectRows116
    PgSelectSingle117{{"PgSelectSingle[117∈8]<br />ᐸfirst_party_vulnerabilitiesᐳ"}}:::plan
    First115 --> PgSelectSingle117
    PgClassExpression118{{"PgClassExpression[118∈8]<br />ᐸ__first_pa...team_name”ᐳ"}}:::plan
    PgSelectSingle117 --> PgClassExpression118
    PgClassExpression119{{"PgClassExpression[119∈8]<br />ᐸ__first_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle117 --> PgClassExpression119
    PgClassExpression120{{"PgClassExpression[120∈8]<br />ᐸ__first_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle117 --> PgClassExpression120
    PgClassExpression121{{"PgClassExpression[121∈8]<br />ᐸ__first_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle117 --> PgClassExpression121
    JSONParse122[["JSONParse[122∈8]<br />ᐸ108ᐳ<br />ᐳAwsApplicationᐳThirdPartyVulnerability"]]:::plan
    Access108 --> JSONParse122
    JSONParse122 --> Access123
    First126{{"First[126∈8]"}}:::plan
    PgSelectRows127[["PgSelectRows[127∈8]"]]:::plan
    PgSelectRows127 --> First126
    PgSelect124 --> PgSelectRows127
    PgSelectSingle128{{"PgSelectSingle[128∈8]<br />ᐸthird_party_vulnerabilitiesᐳ"}}:::plan
    First126 --> PgSelectSingle128
    PgClassExpression129{{"PgClassExpression[129∈8]<br />ᐸ__third_pa...ndor_name”ᐳ"}}:::plan
    PgSelectSingle128 --> PgClassExpression129
    PgClassExpression130{{"PgClassExpression[130∈8]<br />ᐸ__third_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle128 --> PgClassExpression130
    PgClassExpression131{{"PgClassExpression[131∈8]<br />ᐸ__third_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle128 --> PgClassExpression131
    PgClassExpression132{{"PgClassExpression[132∈8]<br />ᐸ__third_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle128 --> PgClassExpression132
    PgCursor147{{"PgCursor[147∈9]<br />ᐳAwsApplication"}}:::plan
    PgUnionAllSingle145["PgUnionAllSingle[145∈9]"]:::plan
    Access146{{"Access[146∈9]<br />ᐸ142.cursorDetailsᐳ"}}:::plan
    PgUnionAllSingle145 & Access146 --> PgCursor147
    __Item144[/"__Item[144∈9]<br />ᐸ282ᐳ"\]:::itemplan
    Access282 ==> __Item144
    __Item144 --> PgUnionAllSingle145
    PgUnionAll142 --> Access146
    Access148{{"Access[148∈9]<br />ᐸ145.1ᐳ"}}:::plan
    PgUnionAllSingle145 --> Access148
    PgSelect151[["PgSelect[151∈10]<br />ᐸfirst_party_vulnerabilitiesᐳ<br />ᐳAwsApplicationᐳFirstPartyVulnerability"]]:::plan
    Access150{{"Access[150∈10]<br />ᐸ149.0ᐳ"}}:::plan
    Object12 & Access150 --> PgSelect151
    PgSelect163[["PgSelect[163∈10]<br />ᐸthird_party_vulnerabilitiesᐳ<br />ᐳAwsApplicationᐳThirdPartyVulnerability"]]:::plan
    Access162{{"Access[162∈10]<br />ᐸ161.0ᐳ"}}:::plan
    Object12 & Access162 --> PgSelect163
    JSONParse149[["JSONParse[149∈10]<br />ᐸ148ᐳ<br />ᐳAwsApplicationᐳFirstPartyVulnerability"]]:::plan
    Access148 --> JSONParse149
    JSONParse149 --> Access150
    First155{{"First[155∈10]"}}:::plan
    PgSelectRows156[["PgSelectRows[156∈10]"]]:::plan
    PgSelectRows156 --> First155
    PgSelect151 --> PgSelectRows156
    PgSelectSingle157{{"PgSelectSingle[157∈10]<br />ᐸfirst_party_vulnerabilitiesᐳ"}}:::plan
    First155 --> PgSelectSingle157
    PgClassExpression158{{"PgClassExpression[158∈10]<br />ᐸ__first_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle157 --> PgClassExpression158
    PgClassExpression159{{"PgClassExpression[159∈10]<br />ᐸ__first_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle157 --> PgClassExpression159
    PgClassExpression160{{"PgClassExpression[160∈10]<br />ᐸ__first_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle157 --> PgClassExpression160
    JSONParse161[["JSONParse[161∈10]<br />ᐸ148ᐳ<br />ᐳAwsApplicationᐳThirdPartyVulnerability"]]:::plan
    Access148 --> JSONParse161
    JSONParse161 --> Access162
    First165{{"First[165∈10]"}}:::plan
    PgSelectRows166[["PgSelectRows[166∈10]"]]:::plan
    PgSelectRows166 --> First165
    PgSelect163 --> PgSelectRows166
    PgSelectSingle167{{"PgSelectSingle[167∈10]<br />ᐸthird_party_vulnerabilitiesᐳ"}}:::plan
    First165 --> PgSelectSingle167
    PgClassExpression168{{"PgClassExpression[168∈10]<br />ᐸ__third_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle167 --> PgClassExpression168
    PgClassExpression169{{"PgClassExpression[169∈10]<br />ᐸ__third_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle167 --> PgClassExpression169
    PgClassExpression170{{"PgClassExpression[170∈10]<br />ᐸ__third_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle167 --> PgClassExpression170
    PgSelect191[["PgSelect[191∈11]<br />ᐸorganizationsᐳ<br />ᐳGcpApplicationᐳOrganization"]]:::plan
    Access190{{"Access[190∈11]<br />ᐸ189.0ᐳ"}}:::plan
    Object12 & Access190 --> PgSelect191
    PgSelect202[["PgSelect[202∈11]<br />ᐸpeopleᐳ<br />ᐳGcpApplicationᐳPerson"]]:::plan
    Access201{{"Access[201∈11]<br />ᐸ200.0ᐳ"}}:::plan
    Object12 & Access201 --> PgSelect202
    JSONParse189[["JSONParse[189∈11]<br />ᐸ188ᐳ<br />ᐳGcpApplicationᐳOrganization"]]:::plan
    Access188 --> JSONParse189
    JSONParse189 --> Access190
    First195{{"First[195∈11]"}}:::plan
    PgSelectRows196[["PgSelectRows[196∈11]"]]:::plan
    PgSelectRows196 --> First195
    PgSelect191 --> PgSelectRows196
    PgSelectSingle197{{"PgSelectSingle[197∈11]<br />ᐸorganizationsᐳ"}}:::plan
    First195 --> PgSelectSingle197
    PgClassExpression198{{"PgClassExpression[198∈11]<br />ᐸ__organiza...zation_id”ᐳ"}}:::plan
    PgSelectSingle197 --> PgClassExpression198
    PgClassExpression199{{"PgClassExpression[199∈11]<br />ᐸ__organiza...s__.”name”ᐳ"}}:::plan
    PgSelectSingle197 --> PgClassExpression199
    JSONParse200[["JSONParse[200∈11]<br />ᐸ188ᐳ<br />ᐳGcpApplicationᐳPerson"]]:::plan
    Access188 --> JSONParse200
    JSONParse200 --> Access201
    First204{{"First[204∈11]"}}:::plan
    PgSelectRows205[["PgSelectRows[205∈11]"]]:::plan
    PgSelectRows205 --> First204
    PgSelect202 --> PgSelectRows205
    PgSelectSingle206{{"PgSelectSingle[206∈11]<br />ᐸpeopleᐳ"}}:::plan
    First204 --> PgSelectSingle206
    PgClassExpression207{{"PgClassExpression[207∈11]<br />ᐸ__people__.”person_id”ᐳ"}}:::plan
    PgSelectSingle206 --> PgClassExpression207
    PgClassExpression208{{"PgClassExpression[208∈11]<br />ᐸ__people__.”username”ᐳ"}}:::plan
    PgSelectSingle206 --> PgClassExpression208
    __Item213[/"__Item[213∈12]<br />ᐸ284ᐳ"\]:::itemplan
    Access284 ==> __Item213
    PgUnionAllSingle214["PgUnionAllSingle[214∈12]"]:::plan
    __Item213 --> PgUnionAllSingle214
    Access215{{"Access[215∈12]<br />ᐸ214.1ᐳ"}}:::plan
    PgUnionAllSingle214 --> Access215
    PgSelect218[["PgSelect[218∈13]<br />ᐸfirst_party_vulnerabilitiesᐳ<br />ᐳGcpApplicationᐳFirstPartyVulnerability"]]:::plan
    Access217{{"Access[217∈13]<br />ᐸ216.0ᐳ"}}:::plan
    Object12 & Access217 --> PgSelect218
    PgSelect231[["PgSelect[231∈13]<br />ᐸthird_party_vulnerabilitiesᐳ<br />ᐳGcpApplicationᐳThirdPartyVulnerability"]]:::plan
    Access230{{"Access[230∈13]<br />ᐸ229.0ᐳ"}}:::plan
    Object12 & Access230 --> PgSelect231
    JSONParse216[["JSONParse[216∈13]<br />ᐸ215ᐳ<br />ᐳGcpApplicationᐳFirstPartyVulnerability"]]:::plan
    Access215 --> JSONParse216
    JSONParse216 --> Access217
    First222{{"First[222∈13]"}}:::plan
    PgSelectRows223[["PgSelectRows[223∈13]"]]:::plan
    PgSelectRows223 --> First222
    PgSelect218 --> PgSelectRows223
    PgSelectSingle224{{"PgSelectSingle[224∈13]<br />ᐸfirst_party_vulnerabilitiesᐳ"}}:::plan
    First222 --> PgSelectSingle224
    PgClassExpression225{{"PgClassExpression[225∈13]<br />ᐸ__first_pa...team_name”ᐳ"}}:::plan
    PgSelectSingle224 --> PgClassExpression225
    PgClassExpression226{{"PgClassExpression[226∈13]<br />ᐸ__first_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle224 --> PgClassExpression226
    PgClassExpression227{{"PgClassExpression[227∈13]<br />ᐸ__first_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle224 --> PgClassExpression227
    PgClassExpression228{{"PgClassExpression[228∈13]<br />ᐸ__first_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle224 --> PgClassExpression228
    JSONParse229[["JSONParse[229∈13]<br />ᐸ215ᐳ<br />ᐳGcpApplicationᐳThirdPartyVulnerability"]]:::plan
    Access215 --> JSONParse229
    JSONParse229 --> Access230
    First233{{"First[233∈13]"}}:::plan
    PgSelectRows234[["PgSelectRows[234∈13]"]]:::plan
    PgSelectRows234 --> First233
    PgSelect231 --> PgSelectRows234
    PgSelectSingle235{{"PgSelectSingle[235∈13]<br />ᐸthird_party_vulnerabilitiesᐳ"}}:::plan
    First233 --> PgSelectSingle235
    PgClassExpression236{{"PgClassExpression[236∈13]<br />ᐸ__third_pa...ndor_name”ᐳ"}}:::plan
    PgSelectSingle235 --> PgClassExpression236
    PgClassExpression237{{"PgClassExpression[237∈13]<br />ᐸ__third_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle235 --> PgClassExpression237
    PgClassExpression238{{"PgClassExpression[238∈13]<br />ᐸ__third_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle235 --> PgClassExpression238
    PgClassExpression239{{"PgClassExpression[239∈13]<br />ᐸ__third_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle235 --> PgClassExpression239
    PgCursor254{{"PgCursor[254∈14]<br />ᐳGcpApplication"}}:::plan
    PgUnionAllSingle252["PgUnionAllSingle[252∈14]"]:::plan
    Access253{{"Access[253∈14]<br />ᐸ249.cursorDetailsᐳ"}}:::plan
    PgUnionAllSingle252 & Access253 --> PgCursor254
    __Item251[/"__Item[251∈14]<br />ᐸ286ᐳ"\]:::itemplan
    Access286 ==> __Item251
    __Item251 --> PgUnionAllSingle252
    PgUnionAll249 --> Access253
    Access255{{"Access[255∈14]<br />ᐸ252.1ᐳ"}}:::plan
    PgUnionAllSingle252 --> Access255
    PgSelect258[["PgSelect[258∈15]<br />ᐸfirst_party_vulnerabilitiesᐳ<br />ᐳGcpApplicationᐳFirstPartyVulnerability"]]:::plan
    Access257{{"Access[257∈15]<br />ᐸ256.0ᐳ"}}:::plan
    Object12 & Access257 --> PgSelect258
    PgSelect270[["PgSelect[270∈15]<br />ᐸthird_party_vulnerabilitiesᐳ<br />ᐳGcpApplicationᐳThirdPartyVulnerability"]]:::plan
    Access269{{"Access[269∈15]<br />ᐸ268.0ᐳ"}}:::plan
    Object12 & Access269 --> PgSelect270
    JSONParse256[["JSONParse[256∈15]<br />ᐸ255ᐳ<br />ᐳGcpApplicationᐳFirstPartyVulnerability"]]:::plan
    Access255 --> JSONParse256
    JSONParse256 --> Access257
    First262{{"First[262∈15]"}}:::plan
    PgSelectRows263[["PgSelectRows[263∈15]"]]:::plan
    PgSelectRows263 --> First262
    PgSelect258 --> PgSelectRows263
    PgSelectSingle264{{"PgSelectSingle[264∈15]<br />ᐸfirst_party_vulnerabilitiesᐳ"}}:::plan
    First262 --> PgSelectSingle264
    PgClassExpression265{{"PgClassExpression[265∈15]<br />ᐸ__first_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle264 --> PgClassExpression265
    PgClassExpression266{{"PgClassExpression[266∈15]<br />ᐸ__first_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle264 --> PgClassExpression266
    PgClassExpression267{{"PgClassExpression[267∈15]<br />ᐸ__first_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle264 --> PgClassExpression267
    JSONParse268[["JSONParse[268∈15]<br />ᐸ255ᐳ<br />ᐳGcpApplicationᐳThirdPartyVulnerability"]]:::plan
    Access255 --> JSONParse268
    JSONParse268 --> Access269
    First272{{"First[272∈15]"}}:::plan
    PgSelectRows273[["PgSelectRows[273∈15]"]]:::plan
    PgSelectRows273 --> First272
    PgSelect270 --> PgSelectRows273
    PgSelectSingle274{{"PgSelectSingle[274∈15]<br />ᐸthird_party_vulnerabilitiesᐳ"}}:::plan
    First272 --> PgSelectSingle274
    PgClassExpression275{{"PgClassExpression[275∈15]<br />ᐸ__third_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle274 --> PgClassExpression275
    PgClassExpression276{{"PgClassExpression[276∈15]<br />ᐸ__third_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle274 --> PgClassExpression276
    PgClassExpression277{{"PgClassExpression[277∈15]<br />ᐸ__third_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle274 --> PgClassExpression277

    %% define steps

    subgraph "Buckets for queries/polymorphic/person-app-vulns"
    Bucket0("Bucket 0 (root)<br /><br />1: <br />ᐳ: 7, 10, 11, 289, 12, 13, 25<br />2: PgSelect[15], Lambda[26]<br />3: PgSelectRows[16]"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value2,__Value4,Access10,Access11,Object12,Connection13,PgSelect15,PgSelectRows16,Connection25,Lambda26,Constant289 bucket0
    Bucket1("Bucket 1 (listItem)<br />Deps: 12, 26, 25, 7<br /><br />ROOT __Item{1}ᐸ16ᐳ[17]<br />1: <br />ᐳ: 18, 19, 20<br />2: 27, 32, 57<br />ᐳ: 278, 279, 288, 28<br />3: PgUnionAllSingle[30]<br />ᐳ: PgClassExpression[31]"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,__Item17,PgSelectSingle18,PgClassExpression19,PgClassExpression20,PgUnionAll27,First28,PgUnionAllSingle30,PgClassExpression31,PgUnionAll32,PgUnionAll57,Access278,Access279,Access288 bucket1
    Bucket2("Bucket 2 (listItem)<br />Deps: 32, 12<br /><br />ROOT __Item{2}ᐸ279ᐳ[34]"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,__Item34,PgUnionAllSingle35,Access36,PgCursor37,Access38 bucket2
    Bucket3("Bucket 3 (polymorphic)<br />AwsApplication,GcpApplication<br />Deps: 38, 12, 35<br />ᐳAwsApplication<br />ᐳGcpApplication<br /><br />1: JSONParse[39], JSONParse[49]<br />ᐳ: Access[40], Access[50]<br />2: PgSelect[41], PgSelect[51]<br />3: PgSelectRows[46], PgSelectRows[54]<br />ᐳ: 45, 47, 48, 53, 55, 56"):::bucket
    classDef bucket3 stroke:#ffa500
    class Bucket3,JSONParse39,Access40,PgSelect41,First45,PgSelectRows46,PgSelectSingle47,PgClassExpression48,JSONParse49,Access50,PgSelect51,First53,PgSelectRows54,PgSelectSingle55,PgClassExpression56 bucket3
    Bucket4("Bucket 4 (listItem)<br />Deps: 12, 7, 26<br /><br />ROOT __Item{4}ᐸ288ᐳ[59]"):::bucket
    classDef bucket4 stroke:#0000ff
    class Bucket4,__Item59,PgUnionAllSingle60,Access61 bucket4
    Bucket5("Bucket 5 (polymorphic)<br />AwsApplication,GcpApplication<br />Deps: 61, 12, 7, 26, 60<br />ᐳAwsApplication<br />ᐳGcpApplication<br /><br />1: JSONParse[62], JSONParse[171]<br />ᐳ: 135, 242, 63, 172<br />2: PgSelect[64], PgSelect[173]<br />3: PgSelectRows[69], PgSelectRows[176]<br />ᐳ: 68, 70, 71, 72, 73, 74, 75, 175, 177, 178, 179, 180, 181, 182<br />4: 76, 102, 137, 142, 183, 209, 244, 249<br />ᐳ: 280, 281, 282, 283, 284, 285, 286, 287, 78, 138, 185, 245<br />5: 80, 140, 187, 247<br />ᐳ: 81, 141, 188, 248"):::bucket
    classDef bucket5 stroke:#7fff00
    class Bucket5,JSONParse62,Access63,PgSelect64,First68,PgSelectRows69,PgSelectSingle70,PgClassExpression71,PgClassExpression72,PgClassExpression73,PgClassExpression74,PgClassExpression75,PgUnionAll76,First78,PgUnionAllSingle80,Access81,PgUnionAll102,Connection135,PgUnionAll137,First138,PgUnionAllSingle140,PgClassExpression141,PgUnionAll142,JSONParse171,Access172,PgSelect173,First175,PgSelectRows176,PgSelectSingle177,PgClassExpression178,PgClassExpression179,PgClassExpression180,PgClassExpression181,PgClassExpression182,PgUnionAll183,First185,PgUnionAllSingle187,Access188,PgUnionAll209,Connection242,PgUnionAll244,First245,PgUnionAllSingle247,PgClassExpression248,PgUnionAll249,Access280,Access281,Access282,Access283,Access284,Access285,Access286,Access287 bucket5
    Bucket6("Bucket 6 (polymorphic)<br />Organization,Person<br />Deps: 81, 12, 80<br />ᐳAwsApplicationᐳOrganization<br />ᐳAwsApplicationᐳPerson<br /><br />1: JSONParse[82], JSONParse[93]<br />ᐳ: Access[83], Access[94]<br />2: PgSelect[84], PgSelect[95]<br />3: PgSelectRows[89], PgSelectRows[98]<br />ᐳ: 88, 90, 91, 92, 97, 99, 100, 101"):::bucket
    classDef bucket6 stroke:#ff1493
    class Bucket6,JSONParse82,Access83,PgSelect84,First88,PgSelectRows89,PgSelectSingle90,PgClassExpression91,PgClassExpression92,JSONParse93,Access94,PgSelect95,First97,PgSelectRows98,PgSelectSingle99,PgClassExpression100,PgClassExpression101 bucket6
    Bucket7("Bucket 7 (listItem)<br />Deps: 12<br /><br />ROOT __Item{7}ᐸ280ᐳ[106]"):::bucket
    classDef bucket7 stroke:#808000
    class Bucket7,__Item106,PgUnionAllSingle107,Access108 bucket7
    Bucket8("Bucket 8 (polymorphic)<br />FirstPartyVulnerability,ThirdPartyVulnerability<br />Deps: 108, 12, 107<br />ᐳAwsApplicationᐳFirstPartyVulnerability<br />ᐳAwsApplicationᐳThirdPartyVulnerability<br /><br />1: JSONParse[109], JSONParse[122]<br />ᐳ: Access[110], Access[123]<br />2: PgSelect[111], PgSelect[124]<br />3: PgSelectRows[116], PgSelectRows[127]<br />ᐳ: 115, 117, 118, 119, 120, 121, 126, 128, 129, 130, 131, 132"):::bucket
    classDef bucket8 stroke:#dda0dd
    class Bucket8,JSONParse109,Access110,PgSelect111,First115,PgSelectRows116,PgSelectSingle117,PgClassExpression118,PgClassExpression119,PgClassExpression120,PgClassExpression121,JSONParse122,Access123,PgSelect124,First126,PgSelectRows127,PgSelectSingle128,PgClassExpression129,PgClassExpression130,PgClassExpression131,PgClassExpression132 bucket8
    Bucket9("Bucket 9 (listItem)<br />Deps: 142, 12<br /><br />ROOT __Item{9}ᐸ282ᐳ[144]"):::bucket
    classDef bucket9 stroke:#ff0000
    class Bucket9,__Item144,PgUnionAllSingle145,Access146,PgCursor147,Access148 bucket9
    Bucket10("Bucket 10 (polymorphic)<br />FirstPartyVulnerability,ThirdPartyVulnerability<br />Deps: 148, 12, 145<br />ᐳAwsApplicationᐳFirstPartyVulnerability<br />ᐳAwsApplicationᐳThirdPartyVulnerability<br /><br />1: JSONParse[149], JSONParse[161]<br />ᐳ: Access[150], Access[162]<br />2: PgSelect[151], PgSelect[163]<br />3: PgSelectRows[156], PgSelectRows[166]<br />ᐳ: 155, 157, 158, 159, 160, 165, 167, 168, 169, 170"):::bucket
    classDef bucket10 stroke:#ffff00
    class Bucket10,JSONParse149,Access150,PgSelect151,First155,PgSelectRows156,PgSelectSingle157,PgClassExpression158,PgClassExpression159,PgClassExpression160,JSONParse161,Access162,PgSelect163,First165,PgSelectRows166,PgSelectSingle167,PgClassExpression168,PgClassExpression169,PgClassExpression170 bucket10
    Bucket11("Bucket 11 (polymorphic)<br />Organization,Person<br />Deps: 188, 12, 187<br />ᐳGcpApplicationᐳOrganization<br />ᐳGcpApplicationᐳPerson<br /><br />1: JSONParse[189], JSONParse[200]<br />ᐳ: Access[190], Access[201]<br />2: PgSelect[191], PgSelect[202]<br />3: PgSelectRows[196], PgSelectRows[205]<br />ᐳ: 195, 197, 198, 199, 204, 206, 207, 208"):::bucket
    classDef bucket11 stroke:#00ffff
    class Bucket11,JSONParse189,Access190,PgSelect191,First195,PgSelectRows196,PgSelectSingle197,PgClassExpression198,PgClassExpression199,JSONParse200,Access201,PgSelect202,First204,PgSelectRows205,PgSelectSingle206,PgClassExpression207,PgClassExpression208 bucket11
    Bucket12("Bucket 12 (listItem)<br />Deps: 12<br /><br />ROOT __Item{12}ᐸ284ᐳ[213]"):::bucket
    classDef bucket12 stroke:#4169e1
    class Bucket12,__Item213,PgUnionAllSingle214,Access215 bucket12
    Bucket13("Bucket 13 (polymorphic)<br />FirstPartyVulnerability,ThirdPartyVulnerability<br />Deps: 215, 12, 214<br />ᐳGcpApplicationᐳFirstPartyVulnerability<br />ᐳGcpApplicationᐳThirdPartyVulnerability<br /><br />1: JSONParse[216], JSONParse[229]<br />ᐳ: Access[217], Access[230]<br />2: PgSelect[218], PgSelect[231]<br />3: PgSelectRows[223], PgSelectRows[234]<br />ᐳ: 222, 224, 225, 226, 227, 228, 233, 235, 236, 237, 238, 239"):::bucket
    classDef bucket13 stroke:#3cb371
    class Bucket13,JSONParse216,Access217,PgSelect218,First222,PgSelectRows223,PgSelectSingle224,PgClassExpression225,PgClassExpression226,PgClassExpression227,PgClassExpression228,JSONParse229,Access230,PgSelect231,First233,PgSelectRows234,PgSelectSingle235,PgClassExpression236,PgClassExpression237,PgClassExpression238,PgClassExpression239 bucket13
    Bucket14("Bucket 14 (listItem)<br />Deps: 249, 12<br /><br />ROOT __Item{14}ᐸ286ᐳ[251]"):::bucket
    classDef bucket14 stroke:#a52a2a
    class Bucket14,__Item251,PgUnionAllSingle252,Access253,PgCursor254,Access255 bucket14
    Bucket15("Bucket 15 (polymorphic)<br />FirstPartyVulnerability,ThirdPartyVulnerability<br />Deps: 255, 12, 252<br />ᐳGcpApplicationᐳFirstPartyVulnerability<br />ᐳGcpApplicationᐳThirdPartyVulnerability<br /><br />1: JSONParse[256], JSONParse[268]<br />ᐳ: Access[257], Access[269]<br />2: PgSelect[258], PgSelect[270]<br />3: PgSelectRows[263], PgSelectRows[273]<br />ᐳ: 262, 264, 265, 266, 267, 272, 274, 275, 276, 277"):::bucket
    classDef bucket15 stroke:#ff00ff
    class Bucket15,JSONParse256,Access257,PgSelect258,First262,PgSelectRows263,PgSelectSingle264,PgClassExpression265,PgClassExpression266,PgClassExpression267,JSONParse268,Access269,PgSelect270,First272,PgSelectRows273,PgSelectSingle274,PgClassExpression275,PgClassExpression276,PgClassExpression277 bucket15
    Bucket0 --> Bucket1
    Bucket1 --> Bucket2 & Bucket4
    Bucket2 --> Bucket3
    Bucket4 --> Bucket5
    Bucket5 --> Bucket6 & Bucket7 & Bucket9 & Bucket11 & Bucket12 & Bucket14
    Bucket7 --> Bucket8
    Bucket9 --> Bucket10
    Bucket12 --> Bucket13
    Bucket14 --> Bucket15
    end
