%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef unbatchedplan fill:#dff,stroke-width:1px,color:#000
    classDef sideeffectplan fill:#fcc,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left

    subgraph "Buckets for queries/polymorphic/person-app-vulns"
    Bucket0("Bucket 0 (root)"):::bucket
    Bucket1("Bucket 1 (nullableBoundary)<br />Deps: 12, 13, 280, 25, 41, 123, 128, 179, 184, 231, 236<br /><br />ROOT Connectionᐸ9ᐳ[13]<br />1: PgSelect[15]<br />2: PgSelectRows[16]"):::bucket
    Bucket2("Bucket 2 (listItem)<br />Deps: 12, 25, 41, 123, 128, 179, 184, 231, 236<br /><br />ROOT __Item{2}ᐸ16ᐳ[17]"):::bucket
    Bucket3("Bucket 3 (nullableBoundary)<br />Deps: 18, 12, 25, 41, 123, 128, 179, 184, 231, 236<br /><br />ROOT PgSelectSingle{2}ᐸpeopleᐳ[18]<br />1: <br />ᐳ: 19, 20<br />2: 26, 31, 32<br />ᐳ: 269, 270, 279, 27, 30"):::bucket
    Bucket4("Bucket 4 (listItem)<br />Deps: 31, 41, 12<br /><br />ROOT __Item{4}ᐸ270ᐳ[35]"):::bucket
    Bucket5("Bucket 5 (listItem)<br />Deps: 41, 12, 123, 128, 179, 184, 231, 236<br /><br />ROOT __Item{5}ᐸ279ᐳ[37]"):::bucket
    Bucket6("Bucket 6 (nullableBoundary)<br />Deps: 35, 61, 41, 12<br /><br />ROOT __Item{4}ᐸ270ᐳ[35]"):::bucket
    Bucket7("Bucket 7 (polymorphic)<br />__typename: Access[44]<br />Deps: 44, 12, 45, 123, 128, 179, 184, 231, 236"):::bucket
    Bucket8("Bucket 8 (polymorphicPartition)<br />|AwsApplication<br />Deps: 12, 45, 123, 179, 231<br />ᐳAwsApplication<br /><br />1: PgSelect[46], Connection[79]<br />2: PgSelectRows[51]<br />ᐳ: 50, 52, 63, 64, 65, 66, 67<br />3: 68, 75, 153, 158<br />ᐳ: 271, 272, 273, 274, 72, 121, 122, 124, 125, 154, 157"):::bucket
    Bucket9("Bucket 9 (polymorphicPartition)<br />|GcpApplication<br />Deps: 12, 45, 128, 184, 236<br />ᐳGcpApplication<br /><br />1: PgSelect[54], Connection[96]<br />2: PgSelectRows[59]<br />ᐳ: 58, 60, 80, 81, 82, 83, 84<br />3: 85, 92, 161, 166<br />ᐳ: 275, 276, 277, 278, 89, 126, 127, 129, 130, 162, 165"):::bucket
    Bucket10("Bucket 10 (polymorphic)<br />__typename: Access[102]<br />Deps: 102, 12, 103"):::bucket
    Bucket11("Bucket 11 (polymorphicPartition)<br />|AwsApplication<br />Deps: 12, 103<br />ᐳAwsApplication<br /><br />1: PgSelect[104]<br />2: PgSelectRows[109]<br />ᐳ: 108, 110, 149"):::bucket
    Bucket12("Bucket 12 (polymorphicPartition)<br />|GcpApplication<br />Deps: 12, 103<br />ᐳGcpApplication<br /><br />1: PgSelect[112]<br />2: PgSelectRows[117]<br />ᐳ: 116, 118, 150"):::bucket
    Bucket13("Bucket 13 (combined)<br />Deps: 12"):::bucket
    Bucket14("Bucket 14 (polymorphic)<br />__typename: Access[132]<br />Deps: 132, 131, 12"):::bucket
    Bucket15("Bucket 15 (listItem)<br />Deps: 179, 12<br /><br />ROOT __Item{15}ᐸ271ᐳ[151]"):::bucket
    Bucket16("Bucket 16 (listItem)<br />Deps: 184, 12<br /><br />ROOT __Item{16}ᐸ275ᐳ[159]"):::bucket
    Bucket17("Bucket 17 (polymorphicPartition)<br />|Organization<br />Deps: 131, 12<br />(2) ...ᐳOrganization<br /><br />1: <br />ᐳ: Access[133]<br />2: PgSelect[134]<br />3: PgSelectRows[139]<br />ᐳ: 138, 140, 167, 168"):::bucket
    Bucket18("Bucket 18 (polymorphicPartition)<br />|Person<br />Deps: 131, 12<br />(2) ...ᐳPerson<br /><br />1: <br />ᐳ: Access[141]<br />2: PgSelect[142]<br />3: PgSelectRows[147]<br />ᐳ: 146, 148, 169, 170"):::bucket
    Bucket19("Bucket 19 (combined)<br />Deps: 12"):::bucket
    Bucket20("Bucket 20 (polymorphic)<br />__typename: Access[188]<br />Deps: 188, 12, 189"):::bucket
    Bucket21("Bucket 21 (listItem)<br />Deps: 158, 231, 12<br /><br />ROOT __Item{21}ᐸ273ᐳ[205]"):::bucket
    Bucket22("Bucket 22 (listItem)<br />Deps: 166, 236, 12<br /><br />ROOT __Item{22}ᐸ277ᐳ[207]"):::bucket
    Bucket23("Bucket 23 (polymorphicPartition)<br />|FirstPartyVulnerability<br />Deps: 12, 189<br />(2) ...ᐳFirstPartyVulnerability<br /><br />1: PgSelect[190]<br />2: PgSelectRows[195]<br />ᐳ: 194, 196, 209, 210, 211, 212"):::bucket
    Bucket24("Bucket 24 (polymorphicPartition)<br />|ThirdPartyVulnerability<br />Deps: 12, 189<br />(2) ...ᐳThirdPartyVulnerability<br /><br />1: PgSelect[198]<br />2: PgSelectRows[203]<br />ᐳ: 202, 204, 213, 214, 215, 216"):::bucket
    Bucket25("Bucket 25 (nullableBoundary)<br />Deps: 205, 225, 231, 12<br /><br />ROOT __Item{21}ᐸ273ᐳ[205]"):::bucket
    Bucket26("Bucket 26 (nullableBoundary)<br />Deps: 207, 227, 236, 12<br /><br />ROOT __Item{22}ᐸ277ᐳ[207]"):::bucket
    Bucket27("Bucket 27 (combined)<br />Deps: 12"):::bucket
    Bucket28("Bucket 28 (polymorphic)<br />__typename: Access[240]<br />Deps: 240, 12, 241"):::bucket
    Bucket29("Bucket 29 (polymorphicPartition)<br />|FirstPartyVulnerability<br />Deps: 12, 241<br />(2) ...ᐳFirstPartyVulnerability<br /><br />1: PgSelect[242]<br />2: PgSelectRows[247]<br />ᐳ: 246, 248, 257, 258, 259"):::bucket
    Bucket30("Bucket 30 (polymorphicPartition)<br />|ThirdPartyVulnerability<br />Deps: 12, 241<br />(2) ...ᐳThirdPartyVulnerability<br /><br />1: PgSelect[250]<br />2: PgSelectRows[255]<br />ᐳ: 254, 256, 260, 261, 262"):::bucket
    end
    Bucket0 --> Bucket1
    Bucket1 --> Bucket2
    Bucket2 --> Bucket3
    Bucket3 --> Bucket4 & Bucket5
    Bucket4 --> Bucket6
    Bucket5 --> Bucket7
    Bucket6 --> Bucket10
    Bucket7 --> Bucket8 & Bucket9
    Bucket8 --> Bucket13 & Bucket15 & Bucket21
    Bucket9 --> Bucket13 & Bucket16 & Bucket22
    Bucket10 --> Bucket11 & Bucket12
    Bucket13 --> Bucket14
    Bucket14 --> Bucket17 & Bucket18
    Bucket15 --> Bucket19
    Bucket16 --> Bucket19
    Bucket19 --> Bucket20
    Bucket20 --> Bucket23 & Bucket24
    Bucket21 --> Bucket25
    Bucket22 --> Bucket26
    Bucket25 --> Bucket27
    Bucket26 --> Bucket27
    Bucket27 --> Bucket28
    Bucket28 --> Bucket29 & Bucket30

    %% plan dependencies
    Object12{{"Object[12∈0] ➊<br />ᐸ{pgSettings,withPgClient}ᐳ"}}:::plan
    Access10{{"Access[10∈0] ➊<br />ᐸ2.pgSettingsᐳ"}}:::plan
    Access11{{"Access[11∈0] ➊<br />ᐸ2.withPgClientᐳ"}}:::plan
    Access10 & Access11 --> Object12
    __Value2["__Value[2∈0] ➊<br />ᐸcontextᐳ"]:::plan
    __Value2 --> Access10
    __Value2 --> Access11
    Connection13{{"Connection[13∈0] ➊<br />ᐸ9ᐳ"}}:::plan
    Constant280{{"Constant[280∈0] ➊<br />ᐸ4ᐳ"}}:::plan
    Constant280 --> Connection13
    __Value4["__Value[4∈0] ➊<br />ᐸrootValueᐳ"]:::plan
    Connection25{{"Connection[25∈0] ➊<br />ᐸ21ᐳ"}}:::plan
    Constant41{{"Constant[41∈0] ➊<br />ᐸ[HIDDEN]ᐳ"}}:::plan
    Constant123{{"Constant[123∈0] ➊<br />ᐸ[HIDDEN]ᐳ"}}:::plan
    Constant128{{"Constant[128∈0] ➊<br />ᐸ[HIDDEN]ᐳ"}}:::plan
    Constant179{{"Constant[179∈0] ➊<br />ᐸ[HIDDEN]ᐳ"}}:::plan
    Constant184{{"Constant[184∈0] ➊<br />ᐸ[HIDDEN]ᐳ"}}:::plan
    Constant231{{"Constant[231∈0] ➊<br />ᐸ[HIDDEN]ᐳ"}}:::plan
    Constant236{{"Constant[236∈0] ➊<br />ᐸ[HIDDEN]ᐳ"}}:::plan
    PgSelect15[["PgSelect[15∈1] ➊<br />ᐸpeopleᐳ"]]:::plan
    Object12 & Connection13 & Constant280 --> PgSelect15
    PgSelectRows16[["PgSelectRows[16∈1] ➊"]]:::plan
    PgSelect15 --> PgSelectRows16
    __Item17[/"__Item[17∈2]<br />ᐸ16ᐳ"\]:::itemplan
    PgSelectRows16 ==> __Item17
    PgSelectSingle18{{"PgSelectSingle[18∈2]<br />ᐸpeopleᐳ"}}:::plan
    __Item17 --> PgSelectSingle18
    PgUnionAll26[["PgUnionAll[26∈3]<br />ᐸAwsApplication,GcpApplicationᐳ"]]:::plan
    PgClassExpression19{{"PgClassExpression[19∈3]<br />ᐸ__people__.”person_id”ᐳ"}}:::plan
    Object12 & PgClassExpression19 & Connection25 --> PgUnionAll26
    PgUnionAll31[["PgUnionAll[31∈3]<br />ᐸAwsApplication,GcpApplicationᐳ"]]:::plan
    Object12 & PgClassExpression19 & Connection25 --> PgUnionAll31
    PgUnionAll32[["PgUnionAll[32∈3]<br />ᐸAwsApplication,GcpApplicationᐳ"]]:::plan
    Object12 & PgClassExpression19 & Connection25 --> PgUnionAll32
    PgSelectSingle18 --> PgClassExpression19
    PgClassExpression20{{"PgClassExpression[20∈3]<br />ᐸ__people__.”username”ᐳ"}}:::plan
    PgSelectSingle18 --> PgClassExpression20
    First27{{"First[27∈3]"}}:::plan
    Access269{{"Access[269∈3]<br />ᐸ26.itemsᐳ"}}:::plan
    Access269 --> First27
    PgClassExpression30{{"PgClassExpression[30∈3]<br />ᐸcount(*)ᐳ"}}:::plan
    First27 --> PgClassExpression30
    PgUnionAll26 --> Access269
    Access270{{"Access[270∈3]<br />ᐸ31.itemsᐳ"}}:::plan
    PgUnionAll31 --> Access270
    Access279{{"Access[279∈3]<br />ᐸ32.itemsᐳ"}}:::plan
    PgUnionAll32 --> Access279
    __Item35[/"__Item[35∈4]<br />ᐸ270ᐳ"\]:::itemplan
    Access270 ==> __Item35
    Access61{{"Access[61∈4]<br />ᐸ31.cursorDetailsᐳ"}}:::plan
    PgUnionAll31 --> Access61
    List100{{"List[100∈6]<br />ᐸ97,98,41ᐳ"}}:::plan
    Access97{{"Access[97∈6]<br />ᐸ35.0ᐳ"}}:::plan
    Access98{{"Access[98∈6]<br />ᐸ35.1ᐳ"}}:::plan
    Access97 & Access98 & Constant41 --> List100
    PgCursor62{{"PgCursor[62∈6]"}}:::plan
    __Item35 & Access61 --> PgCursor62
    __Item35 --> Access97
    __Item35 --> Access98
    Lambda101{{"Lambda[101∈6]<br />ᐸtoSpecifierᐳ"}}:::plan
    List100 --> Lambda101
    Access102{{"Access[102∈6]<br />ᐸ101.__typenameᐳ"}}:::plan
    Lambda101 --> Access102
    Access103{{"Access[103∈6]<br />ᐸ101.idᐳ"}}:::plan
    Lambda101 --> Access103
    PgSelect104[["PgSelect[104∈11]<br />ᐸaws_applicationsᐳ<br />ᐳAwsApplication"]]:::plan
    Object12 & Access103 --> PgSelect104
    First108{{"First[108∈11]^"}}:::plan
    PgSelectRows109[["PgSelectRows[109∈11]^"]]:::plan
    PgSelectRows109 --> First108
    PgSelect104 --> PgSelectRows109
    PgSelectSingle110{{"PgSelectSingle[110∈11]^<br />ᐸaws_applicationsᐳ"}}:::plan
    First108 --> PgSelectSingle110
    PgClassExpression149{{"PgClassExpression[149∈11]^<br />ᐸ__aws_appl...ons__.”id”ᐳ"}}:::plan
    PgSelectSingle110 --> PgClassExpression149
    PgSelect112[["PgSelect[112∈12]<br />ᐸgcp_applicationsᐳ<br />ᐳGcpApplication"]]:::plan
    Object12 & Access103 --> PgSelect112
    First116{{"First[116∈12]^"}}:::plan
    PgSelectRows117[["PgSelectRows[117∈12]^"]]:::plan
    PgSelectRows117 --> First116
    PgSelect112 --> PgSelectRows117
    PgSelectSingle118{{"PgSelectSingle[118∈12]^<br />ᐸgcp_applicationsᐳ"}}:::plan
    First116 --> PgSelectSingle118
    PgClassExpression150{{"PgClassExpression[150∈12]^<br />ᐸ__gcp_appl...ons__.”id”ᐳ"}}:::plan
    PgSelectSingle118 --> PgClassExpression150
    List42{{"List[42∈5]<br />ᐸ39,40,41ᐳ"}}:::plan
    Access39{{"Access[39∈5]<br />ᐸ37.0ᐳ"}}:::plan
    Access40{{"Access[40∈5]<br />ᐸ37.1ᐳ"}}:::plan
    Access39 & Access40 & Constant41 --> List42
    __Item37[/"__Item[37∈5]<br />ᐸ279ᐳ"\]:::itemplan
    Access279 ==> __Item37
    __Item37 --> Access39
    __Item37 --> Access40
    Lambda43{{"Lambda[43∈5]<br />ᐸtoSpecifierᐳ"}}:::plan
    List42 --> Lambda43
    Access44{{"Access[44∈5]<br />ᐸ43.__typenameᐳ"}}:::plan
    Lambda43 --> Access44
    Access45{{"Access[45∈5]<br />ᐸ43.idᐳ"}}:::plan
    Lambda43 --> Access45
    PgUnionAll68[["PgUnionAll[68∈8]^<br />ᐸPerson,Organizationᐳ"]]:::plan
    PgClassExpression66{{"PgClassExpression[66∈8]^<br />ᐸ__aws_appl...person_id”ᐳ"}}:::plan
    PgClassExpression67{{"PgClassExpression[67∈8]^<br />ᐸ__aws_appl...zation_id”ᐳ"}}:::plan
    Object12 & PgClassExpression66 & PgClassExpression67 --> PgUnionAll68
    List124{{"List[124∈8]^<br />ᐸ121,122,123ᐳ"}}:::plan
    Access121{{"Access[121∈8]^<br />ᐸ72.0ᐳ"}}:::plan
    Access122{{"Access[122∈8]^<br />ᐸ72.1ᐳ"}}:::plan
    Access121 & Access122 & Constant123 --> List124
    PgUnionAll153[["PgUnionAll[153∈8]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    PgClassExpression64{{"PgClassExpression[64∈8]^<br />ᐸ__aws_appl...ons__.”id”ᐳ"}}:::plan
    Connection79{{"Connection[79∈8] ➊<br />ᐸ77ᐳ<br />ᐳAwsApplication"}}:::plan
    Object12 & PgClassExpression64 & Connection79 --> PgUnionAll153
    PgUnionAll158[["PgUnionAll[158∈8]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    Object12 & PgClassExpression64 & Connection79 --> PgUnionAll158
    PgSelect46[["PgSelect[46∈8]<br />ᐸaws_applicationsᐳ<br />ᐳAwsApplication"]]:::plan
    Object12 & Access45 --> PgSelect46
    PgUnionAll75[["PgUnionAll[75∈8]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    Object12 & PgClassExpression64 --> PgUnionAll75
    First50{{"First[50∈8]^"}}:::plan
    PgSelectRows51[["PgSelectRows[51∈8]^"]]:::plan
    PgSelectRows51 --> First50
    PgSelect46 --> PgSelectRows51
    PgSelectSingle52{{"PgSelectSingle[52∈8]^<br />ᐸaws_applicationsᐳ"}}:::plan
    First50 --> PgSelectSingle52
    PgClassExpression63{{"PgClassExpression[63∈8]^<br />ᐸ__aws_appl..._.”aws_id”ᐳ"}}:::plan
    PgSelectSingle52 --> PgClassExpression63
    PgSelectSingle52 --> PgClassExpression64
    PgClassExpression65{{"PgClassExpression[65∈8]^<br />ᐸ__aws_appl...s__.”name”ᐳ"}}:::plan
    PgSelectSingle52 --> PgClassExpression65
    PgSelectSingle52 --> PgClassExpression66
    PgSelectSingle52 --> PgClassExpression67
    First72{{"First[72∈8]^"}}:::plan
    Access274{{"Access[274∈8]^<br />ᐸ68.itemsᐳ"}}:::plan
    Access274 --> First72
    First72 --> Access121
    First72 --> Access122
    Lambda125{{"Lambda[125∈8]^<br />ᐸtoSpecifierᐳ"}}:::plan
    List124 --> Lambda125
    First154{{"First[154∈8]^"}}:::plan
    Access272{{"Access[272∈8]^<br />ᐸ153.itemsᐳ"}}:::plan
    Access272 --> First154
    PgClassExpression157{{"PgClassExpression[157∈8]^<br />ᐸcount(*)ᐳ"}}:::plan
    First154 --> PgClassExpression157
    Access271{{"Access[271∈8]^<br />ᐸ75.itemsᐳ"}}:::plan
    PgUnionAll75 --> Access271
    PgUnionAll153 --> Access272
    Access273{{"Access[273∈8]^<br />ᐸ158.itemsᐳ"}}:::plan
    PgUnionAll158 --> Access273
    PgUnionAll68 --> Access274
    Access132{{"Access[132∈13]^<br />ᐸ131.__typenameᐳ"}}:::plan
    __Value131:::plan@{shape: docs, label: "__Combined[131∈13]<br />ᐳAwsApplication<br />ᐳGcpApplication"}
    __Value131 --> Access132
    PgSelect134[["PgSelect[134∈17]^<br />ᐸorganizationsᐳ"]]:::plan
    Access133{{"Access[133∈17]<br />ᐸ131.organization_idᐳ<br />(2) ...ᐳOrganization"}}:::plan
    Object12 & Access133 --> PgSelect134
    __Value131 --> Access133
    First138{{"First[138∈17]^"}}:::plan
    PgSelectRows139[["PgSelectRows[139∈17]^"]]:::plan
    PgSelectRows139 --> First138
    PgSelect134 --> PgSelectRows139
    PgSelectSingle140{{"PgSelectSingle[140∈17]^<br />ᐸorganizationsᐳ"}}:::plan
    First138 --> PgSelectSingle140
    PgClassExpression167{{"PgClassExpression[167∈17]^<br />ᐸ__organiza...zation_id”ᐳ"}}:::plan
    PgSelectSingle140 --> PgClassExpression167
    PgClassExpression168{{"PgClassExpression[168∈17]^<br />ᐸ__organiza...s__.”name”ᐳ"}}:::plan
    PgSelectSingle140 --> PgClassExpression168
    PgSelect142[["PgSelect[142∈18]^<br />ᐸpeopleᐳ"]]:::plan
    Access141{{"Access[141∈18]<br />ᐸ131.person_idᐳ<br />(2) ...ᐳPerson"}}:::plan
    Object12 & Access141 --> PgSelect142
    __Value131 --> Access141
    First146{{"First[146∈18]^"}}:::plan
    PgSelectRows147[["PgSelectRows[147∈18]^"]]:::plan
    PgSelectRows147 --> First146
    PgSelect142 --> PgSelectRows147
    PgSelectSingle148{{"PgSelectSingle[148∈18]^<br />ᐸpeopleᐳ"}}:::plan
    First146 --> PgSelectSingle148
    PgClassExpression169{{"PgClassExpression[169∈18]^<br />ᐸ__people__.”person_id”ᐳ"}}:::plan
    PgSelectSingle148 --> PgClassExpression169
    PgClassExpression170{{"PgClassExpression[170∈18]^<br />ᐸ__people__.”username”ᐳ"}}:::plan
    PgSelectSingle148 --> PgClassExpression170
    List180{{"List[180∈15]^<br />ᐸ177,178,179ᐳ"}}:::plan
    Access177{{"Access[177∈15]^<br />ᐸ151.0ᐳ"}}:::plan
    Access178{{"Access[178∈15]^<br />ᐸ151.1ᐳ"}}:::plan
    Access177 & Access178 & Constant179 --> List180
    __Item151[/"__Item[151∈15]<br />ᐸ271ᐳ<br />ᐳAwsApplication"\]:::itemplan
    Access271 ==> __Item151
    __Item151 --> Access177
    __Item151 --> Access178
    Lambda181{{"Lambda[181∈15]^<br />ᐸtoSpecifierᐳ"}}:::plan
    List180 --> Lambda181
    Access188{{"Access[188∈19]^<br />ᐸ187.__typenameᐳ"}}:::plan
    __Value187:::plan@{shape: docs, label: "__Combined[187∈19]<br />ᐳAwsApplication<br />ᐳGcpApplication"}
    __Value187 --> Access188
    Access189{{"Access[189∈19]^<br />ᐸ187.idᐳ"}}:::plan
    __Value187 --> Access189
    PgSelect190[["PgSelect[190∈23]<br />ᐸfirst_party_vulnerabilitiesᐳ<br />(2) ...ᐳFirstPartyVulnerability"]]:::plan
    Object12 & Access189 --> PgSelect190
    First194{{"First[194∈23]^"}}:::plan
    PgSelectRows195[["PgSelectRows[195∈23]^"]]:::plan
    PgSelectRows195 --> First194
    PgSelect190 --> PgSelectRows195
    PgSelectSingle196{{"PgSelectSingle[196∈23]^<br />ᐸfirst_party_vulnerabilitiesᐳ"}}:::plan
    First194 --> PgSelectSingle196
    PgClassExpression209{{"PgClassExpression[209∈23]^<br />ᐸ__first_pa...team_name”ᐳ"}}:::plan
    PgSelectSingle196 --> PgClassExpression209
    PgClassExpression210{{"PgClassExpression[210∈23]^<br />ᐸ__first_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle196 --> PgClassExpression210
    PgClassExpression211{{"PgClassExpression[211∈23]^<br />ᐸ__first_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle196 --> PgClassExpression211
    PgClassExpression212{{"PgClassExpression[212∈23]^<br />ᐸ__first_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle196 --> PgClassExpression212
    PgSelect198[["PgSelect[198∈24]<br />ᐸthird_party_vulnerabilitiesᐳ<br />(2) ...ᐳThirdPartyVulnerability"]]:::plan
    Object12 & Access189 --> PgSelect198
    First202{{"First[202∈24]^"}}:::plan
    PgSelectRows203[["PgSelectRows[203∈24]^"]]:::plan
    PgSelectRows203 --> First202
    PgSelect198 --> PgSelectRows203
    PgSelectSingle204{{"PgSelectSingle[204∈24]^<br />ᐸthird_party_vulnerabilitiesᐳ"}}:::plan
    First202 --> PgSelectSingle204
    PgClassExpression213{{"PgClassExpression[213∈24]^<br />ᐸ__third_pa...ndor_name”ᐳ"}}:::plan
    PgSelectSingle204 --> PgClassExpression213
    PgClassExpression214{{"PgClassExpression[214∈24]^<br />ᐸ__third_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle204 --> PgClassExpression214
    PgClassExpression215{{"PgClassExpression[215∈24]^<br />ᐸ__third_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle204 --> PgClassExpression215
    PgClassExpression216{{"PgClassExpression[216∈24]^<br />ᐸ__third_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle204 --> PgClassExpression216
    __Item205[/"__Item[205∈21]<br />ᐸ273ᐳ<br />ᐳAwsApplication"\]:::itemplan
    Access273 ==> __Item205
    Access225{{"Access[225∈21]<br />ᐸ158.cursorDetailsᐳ<br />ᐳAwsApplication"}}:::plan
    PgUnionAll158 --> Access225
    List232{{"List[232∈25]^<br />ᐸ229,230,231ᐳ"}}:::plan
    Access229{{"Access[229∈25]<br />ᐸ205.0ᐳ<br />ᐳAwsApplication"}}:::plan
    Access230{{"Access[230∈25]<br />ᐸ205.1ᐳ<br />ᐳAwsApplication"}}:::plan
    Access229 & Access230 & Constant231 --> List232
    PgCursor226{{"PgCursor[226∈25]<br />ᐳAwsApplication"}}:::plan
    __Item205 & Access225 --> PgCursor226
    __Item205 --> Access229
    __Item205 --> Access230
    Lambda233{{"Lambda[233∈25]^<br />ᐸtoSpecifierᐳ"}}:::plan
    List232 --> Lambda233
    Access240{{"Access[240∈27]^<br />ᐸ239.__typenameᐳ"}}:::plan
    __Value239:::plan@{shape: docs, label: "__Combined[239∈27]<br />ᐳAwsApplication<br />ᐳGcpApplication"}
    __Value239 --> Access240
    Access241{{"Access[241∈27]^<br />ᐸ239.idᐳ"}}:::plan
    __Value239 --> Access241
    PgSelect242[["PgSelect[242∈29]<br />ᐸfirst_party_vulnerabilitiesᐳ<br />(2) ...ᐳFirstPartyVulnerability"]]:::plan
    Object12 & Access241 --> PgSelect242
    First246{{"First[246∈29]^"}}:::plan
    PgSelectRows247[["PgSelectRows[247∈29]^"]]:::plan
    PgSelectRows247 --> First246
    PgSelect242 --> PgSelectRows247
    PgSelectSingle248{{"PgSelectSingle[248∈29]^<br />ᐸfirst_party_vulnerabilitiesᐳ"}}:::plan
    First246 --> PgSelectSingle248
    PgClassExpression257{{"PgClassExpression[257∈29]^<br />ᐸ__first_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle248 --> PgClassExpression257
    PgClassExpression258{{"PgClassExpression[258∈29]^<br />ᐸ__first_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle248 --> PgClassExpression258
    PgClassExpression259{{"PgClassExpression[259∈29]^<br />ᐸ__first_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle248 --> PgClassExpression259
    PgSelect250[["PgSelect[250∈30]<br />ᐸthird_party_vulnerabilitiesᐳ<br />(2) ...ᐳThirdPartyVulnerability"]]:::plan
    Object12 & Access241 --> PgSelect250
    First254{{"First[254∈30]^"}}:::plan
    PgSelectRows255[["PgSelectRows[255∈30]^"]]:::plan
    PgSelectRows255 --> First254
    PgSelect250 --> PgSelectRows255
    PgSelectSingle256{{"PgSelectSingle[256∈30]^<br />ᐸthird_party_vulnerabilitiesᐳ"}}:::plan
    First254 --> PgSelectSingle256
    PgClassExpression260{{"PgClassExpression[260∈30]^<br />ᐸ__third_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle256 --> PgClassExpression260
    PgClassExpression261{{"PgClassExpression[261∈30]^<br />ᐸ__third_pa...ies__.”id”ᐳ"}}:::plan
    PgSelectSingle256 --> PgClassExpression261
    PgClassExpression262{{"PgClassExpression[262∈30]^<br />ᐸ__third_pa...s__.”name”ᐳ"}}:::plan
    PgSelectSingle256 --> PgClassExpression262
    PgUnionAll85[["PgUnionAll[85∈9]^<br />ᐸPerson,Organizationᐳ"]]:::plan
    PgClassExpression83{{"PgClassExpression[83∈9]^<br />ᐸ__gcp_appl...person_id”ᐳ"}}:::plan
    PgClassExpression84{{"PgClassExpression[84∈9]^<br />ᐸ__gcp_appl...zation_id”ᐳ"}}:::plan
    Object12 & PgClassExpression83 & PgClassExpression84 --> PgUnionAll85
    List129{{"List[129∈9]^<br />ᐸ126,127,128ᐳ"}}:::plan
    Access126{{"Access[126∈9]^<br />ᐸ89.0ᐳ"}}:::plan
    Access127{{"Access[127∈9]^<br />ᐸ89.1ᐳ"}}:::plan
    Access126 & Access127 & Constant128 --> List129
    PgUnionAll161[["PgUnionAll[161∈9]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    PgClassExpression81{{"PgClassExpression[81∈9]^<br />ᐸ__gcp_appl...ons__.”id”ᐳ"}}:::plan
    Connection96{{"Connection[96∈9] ➊<br />ᐸ94ᐳ<br />ᐳGcpApplication"}}:::plan
    Object12 & PgClassExpression81 & Connection96 --> PgUnionAll161
    PgUnionAll166[["PgUnionAll[166∈9]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    Object12 & PgClassExpression81 & Connection96 --> PgUnionAll166
    PgSelect54[["PgSelect[54∈9]<br />ᐸgcp_applicationsᐳ<br />ᐳGcpApplication"]]:::plan
    Object12 & Access45 --> PgSelect54
    PgUnionAll92[["PgUnionAll[92∈9]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ"]]:::plan
    Object12 & PgClassExpression81 --> PgUnionAll92
    First58{{"First[58∈9]^"}}:::plan
    PgSelectRows59[["PgSelectRows[59∈9]^"]]:::plan
    PgSelectRows59 --> First58
    PgSelect54 --> PgSelectRows59
    PgSelectSingle60{{"PgSelectSingle[60∈9]^<br />ᐸgcp_applicationsᐳ"}}:::plan
    First58 --> PgSelectSingle60
    PgClassExpression80{{"PgClassExpression[80∈9]^<br />ᐸ__gcp_appl..._.”gcp_id”ᐳ"}}:::plan
    PgSelectSingle60 --> PgClassExpression80
    PgSelectSingle60 --> PgClassExpression81
    PgClassExpression82{{"PgClassExpression[82∈9]^<br />ᐸ__gcp_appl...s__.”name”ᐳ"}}:::plan
    PgSelectSingle60 --> PgClassExpression82
    PgSelectSingle60 --> PgClassExpression83
    PgSelectSingle60 --> PgClassExpression84
    First89{{"First[89∈9]^"}}:::plan
    Access278{{"Access[278∈9]^<br />ᐸ85.itemsᐳ"}}:::plan
    Access278 --> First89
    First89 --> Access126
    First89 --> Access127
    Lambda130{{"Lambda[130∈9]^<br />ᐸtoSpecifierᐳ"}}:::plan
    List129 --> Lambda130
    First162{{"First[162∈9]^"}}:::plan
    Access276{{"Access[276∈9]^<br />ᐸ161.itemsᐳ"}}:::plan
    Access276 --> First162
    PgClassExpression165{{"PgClassExpression[165∈9]^<br />ᐸcount(*)ᐳ"}}:::plan
    First162 --> PgClassExpression165
    Access275{{"Access[275∈9]^<br />ᐸ92.itemsᐳ"}}:::plan
    PgUnionAll92 --> Access275
    PgUnionAll161 --> Access276
    Access277{{"Access[277∈9]^<br />ᐸ166.itemsᐳ"}}:::plan
    PgUnionAll166 --> Access277
    PgUnionAll85 --> Access278
    List185{{"List[185∈16]^<br />ᐸ182,183,184ᐳ"}}:::plan
    Access182{{"Access[182∈16]^<br />ᐸ159.0ᐳ"}}:::plan
    Access183{{"Access[183∈16]^<br />ᐸ159.1ᐳ"}}:::plan
    Access182 & Access183 & Constant184 --> List185
    __Item159[/"__Item[159∈16]<br />ᐸ275ᐳ<br />ᐳGcpApplication"\]:::itemplan
    Access275 ==> __Item159
    __Item159 --> Access182
    __Item159 --> Access183
    Lambda186{{"Lambda[186∈16]^<br />ᐸtoSpecifierᐳ"}}:::plan
    List185 --> Lambda186
    __Item207[/"__Item[207∈22]<br />ᐸ277ᐳ<br />ᐳGcpApplication"\]:::itemplan
    Access277 ==> __Item207
    Access227{{"Access[227∈22]<br />ᐸ166.cursorDetailsᐳ<br />ᐳGcpApplication"}}:::plan
    PgUnionAll166 --> Access227
    List237{{"List[237∈26]^<br />ᐸ234,235,236ᐳ"}}:::plan
    Access234{{"Access[234∈26]<br />ᐸ207.0ᐳ<br />ᐳGcpApplication"}}:::plan
    Access235{{"Access[235∈26]<br />ᐸ207.1ᐳ<br />ᐳGcpApplication"}}:::plan
    Access234 & Access235 & Constant236 --> List237
    PgCursor228{{"PgCursor[228∈26]<br />ᐳGcpApplication"}}:::plan
    __Item207 & Access227 --> PgCursor228
    __Item207 --> Access234
    __Item207 --> Access235
    Lambda238{{"Lambda[238∈26]^<br />ᐸtoSpecifierᐳ"}}:::plan
    List237 --> Lambda238

    %% define steps
    classDef bucket0 stroke:#696969
    class Bucket0,__Value2,__Value4,Access10,Access11,Object12,Connection13,Connection25,Constant41,Constant123,Constant128,Constant179,Constant184,Constant231,Constant236,Constant280 bucket0
    classDef bucket1 stroke:#00bfff
    class Bucket1,PgSelect15,PgSelectRows16 bucket1
    classDef bucket2 stroke:#7f007f
    class Bucket2,__Item17,PgSelectSingle18 bucket2
    classDef bucket3 stroke:#ffa500
    class Bucket3,PgClassExpression19,PgClassExpression20,PgUnionAll26,First27,PgClassExpression30,PgUnionAll31,PgUnionAll32,Access269,Access270,Access279 bucket3
    classDef bucket4 stroke:#0000ff
    class Bucket4,__Item35,Access61 bucket4
    classDef bucket5 stroke:#7fff00
    class Bucket5,__Item37,Access39,Access40,List42,Lambda43,Access44,Access45 bucket5
    classDef bucket6 stroke:#ff1493
    class Bucket6,PgCursor62,Access97,Access98,List100,Lambda101,Access102,Access103 bucket6
    classDef bucket7 stroke:#808000
    class Bucket7 bucket7
    classDef bucket8 stroke:#dda0dd
    class Bucket8,PgSelect46,First50,PgSelectRows51,PgSelectSingle52,PgClassExpression63,PgClassExpression64,PgClassExpression65,PgClassExpression66,PgClassExpression67,PgUnionAll68,First72,PgUnionAll75,Connection79,Access121,Access122,List124,Lambda125,PgUnionAll153,First154,PgClassExpression157,PgUnionAll158,Access271,Access272,Access273,Access274 bucket8
    classDef bucket9 stroke:#ff0000
    class Bucket9,PgSelect54,First58,PgSelectRows59,PgSelectSingle60,PgClassExpression80,PgClassExpression81,PgClassExpression82,PgClassExpression83,PgClassExpression84,PgUnionAll85,First89,PgUnionAll92,Connection96,Access126,Access127,List129,Lambda130,PgUnionAll161,First162,PgClassExpression165,PgUnionAll166,Access275,Access276,Access277,Access278 bucket9
    classDef bucket10 stroke:#ffff00
    class Bucket10 bucket10
    classDef bucket11 stroke:#00ffff
    class Bucket11,PgSelect104,First108,PgSelectRows109,PgSelectSingle110,PgClassExpression149 bucket11
    classDef bucket12 stroke:#4169e1
    class Bucket12,PgSelect112,First116,PgSelectRows117,PgSelectSingle118,PgClassExpression150 bucket12
    classDef bucket13 stroke:#3cb371
    class Bucket13,__Value131,Access132 bucket13
    classDef bucket14 stroke:#a52a2a
    class Bucket14 bucket14
    classDef bucket15 stroke:#ff00ff
    class Bucket15,__Item151,Access177,Access178,List180,Lambda181 bucket15
    classDef bucket16 stroke:#f5deb3
    class Bucket16,__Item159,Access182,Access183,List185,Lambda186 bucket16
    classDef bucket17 stroke:#696969
    class Bucket17,Access133,PgSelect134,First138,PgSelectRows139,PgSelectSingle140,PgClassExpression167,PgClassExpression168 bucket17
    classDef bucket18 stroke:#00bfff
    class Bucket18,Access141,PgSelect142,First146,PgSelectRows147,PgSelectSingle148,PgClassExpression169,PgClassExpression170 bucket18
    classDef bucket19 stroke:#7f007f
    class Bucket19,__Value187,Access188,Access189 bucket19
    classDef bucket20 stroke:#ffa500
    class Bucket20 bucket20
    classDef bucket21 stroke:#0000ff
    class Bucket21,__Item205,Access225 bucket21
    classDef bucket22 stroke:#7fff00
    class Bucket22,__Item207,Access227 bucket22
    classDef bucket23 stroke:#ff1493
    class Bucket23,PgSelect190,First194,PgSelectRows195,PgSelectSingle196,PgClassExpression209,PgClassExpression210,PgClassExpression211,PgClassExpression212 bucket23
    classDef bucket24 stroke:#808000
    class Bucket24,PgSelect198,First202,PgSelectRows203,PgSelectSingle204,PgClassExpression213,PgClassExpression214,PgClassExpression215,PgClassExpression216 bucket24
    classDef bucket25 stroke:#dda0dd
    class Bucket25,PgCursor226,Access229,Access230,List232,Lambda233 bucket25
    classDef bucket26 stroke:#ff0000
    class Bucket26,PgCursor228,Access234,Access235,List237,Lambda238 bucket26
    classDef bucket27 stroke:#ffff00
    class Bucket27,__Value239,Access240,Access241 bucket27
    classDef bucket28 stroke:#00ffff
    class Bucket28 bucket28
    classDef bucket29 stroke:#4169e1
    class Bucket29,PgSelect242,First246,PgSelectRows247,PgSelectSingle248,PgClassExpression257,PgClassExpression258,PgClassExpression259 bucket29
    classDef bucket30 stroke:#3cb371
    class Bucket30,PgSelect250,First254,PgSelectRows255,PgSelectSingle256,PgClassExpression260,PgClassExpression261,PgClassExpression262 bucket30

    Lambda125 -.-x __Value131
    Lambda130 -.-x __Value131
    Lambda181 -.-x __Value187
    Lambda186 -.-x __Value187
    Lambda233 -.-x __Value239
    Lambda238 -.-x __Value239
