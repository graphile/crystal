%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef unbatchedplan fill:#dff,stroke-width:1px,color:#000
    classDef sideeffectplan fill:#fcc,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left

    subgraph "Buckets for queries/polymorphic/person-app-vulns"
    Bucket0("Bucket 0 (root)<br /><br />1: <br />ᐳ: 10, 11, 42, 127, 132, 177, 182, 227, 232, 266, 12<br />2: PgSelect[9]<br />3: Connection[13]<br />4: ConnectionItems[15]"):::bucket
    Bucket1("Bucket 1 (nullableBoundary)<br />Deps: 13, 15, 12, 42, 127, 132, 177, 182, 227, 232<br /><br />ROOT Connectionᐸ9ᐳ[13]"):::bucket
    Bucket3("Bucket 3 (listItem)<br />Deps: 12, 42, 127, 132, 177, 182, 227, 232<br /><br />ROOT __Item{3}ᐸ15ᐳ[18]"):::bucket
    Bucket4("Bucket 4 (nullableBoundary)<br />Deps: 19, 12, 42, 127, 132, 177, 182, 227, 232<br /><br />ROOT PgSelectSingle{3}ᐸpeopleᐳ[19]<br />1: <br />ᐳ: 20, 21<br />2: PgUnionAll[22], PgUnionAll[27]<br />ᐳ: 265, 28, 31<br />3: Connection[26]<br />4: ConnectionItems[32]"):::bucket
    Bucket7("Bucket 7 (listItem)<br />Deps: 42, 22, 12, 127, 132, 177, 182, 227, 232<br /><br />ROOT __Item{7}ᐸ32ᐳ[37]"):::bucket
    Bucket8("Bucket 8 (nullableBoundary)<br />Deps: 44, 38, 12, 107, 64<br /><br />ROOT Edge{7}[38]"):::bucket
    Bucket9("Bucket 9 (polymorphic)<br />__typename: Access[46]<br />Deps: 46, 12, 47, 127, 132, 177, 182, 227, 232"):::bucket
    Bucket10("Bucket 10 (polymorphicPartition)<br />|AwsApplication<br />Deps: 12, 47, 127, 177, 227<br />ᐳAwsApplication<br /><br />1: PgSelect[48]<br />2: PgSelectRows[53]<br />ᐳ: 52, 54, 66, 68, 70, 72, 73<br />3: 74, 90, 94, 159<br />ᐳ: 259, 260, 261, 78, 125, 126, 128, 129, 160, 163<br />4: Connection[96]<br />5: ConnectionItems[169]"):::bucket
    Bucket11("Bucket 11 (polymorphicPartition)<br />|GcpApplication<br />Deps: 12, 47, 132, 182, 232<br />ᐳGcpApplication<br /><br />1: PgSelect[56]<br />2: PgSelectRows[61]<br />ᐳ: 60, 62, 67, 69, 71, 81, 82<br />3: 83, 92, 97, 164<br />ᐳ: 262, 263, 264, 87, 130, 131, 133, 134, 165, 168<br />4: Connection[99]<br />5: ConnectionItems[172]"):::bucket
    Bucket12("Bucket 12 (polymorphic)<br />__typename: Access[106]<br />Deps: 106, 12, 107"):::bucket
    Bucket13("Bucket 13 (polymorphicPartition)<br />|AwsApplication<br />Deps: 12, 107<br />ᐳAwsApplication<br /><br />1: PgSelect[108]<br />2: PgSelectRows[113]<br />ᐳ: 112, 114, 157"):::bucket
    Bucket14("Bucket 14 (polymorphicPartition)<br />|GcpApplication<br />Deps: 12, 107<br />ᐳGcpApplication<br /><br />1: PgSelect[116]<br />2: PgSelectRows[121]<br />ᐳ: 120, 122, 158"):::bucket
    Bucket15("Bucket 15 (combined)<br />Deps: 12"):::bucket
    Bucket16("Bucket 16 (polymorphic)<br />__typename: Access[136]<br />Deps: 136, 135, 12"):::bucket
    Bucket17("Bucket 17 (listItem)<br />Deps: 177, 12<br /><br />ROOT __Item{17}ᐸ259ᐳ[153]"):::bucket
    Bucket18("Bucket 18 (listItem)<br />Deps: 182, 12<br /><br />ROOT __Item{18}ᐸ262ᐳ[155]"):::bucket
    Bucket19("Bucket 19 (polymorphicPartition)<br />|Organization<br />Deps: 135, 12<br />(2) ...ᐳOrganization<br /><br />1: <br />ᐳ: Access[137]<br />2: PgSelect[138]<br />3: PgSelectRows[143]<br />ᐳ: 142, 144, 203, 205"):::bucket
    Bucket20("Bucket 20 (polymorphicPartition)<br />|Person<br />Deps: 135, 12<br />(2) ...ᐳPerson<br /><br />1: <br />ᐳ: Access[145]<br />2: PgSelect[146]<br />3: PgSelectRows[151]<br />ᐳ: 150, 152, 204, 206"):::bucket
    Bucket23("Bucket 23 (combined)<br />Deps: 12"):::bucket
    Bucket24("Bucket 24 (polymorphic)<br />__typename: Access[186]<br />Deps: 186, 12, 187"):::bucket
    Bucket25("Bucket 25 (polymorphicPartition)<br />|FirstPartyVulnerability<br />Deps: 12, 187<br />(2) ...ᐳFirstPartyVulnerability<br /><br />1: PgSelect[188]<br />2: PgSelectRows[193]<br />ᐳ: 192, 194, 211, 213, 215, 217"):::bucket
    Bucket26("Bucket 26 (polymorphicPartition)<br />|ThirdPartyVulnerability<br />Deps: 12, 187<br />(2) ...ᐳThirdPartyVulnerability<br /><br />1: PgSelect[196]<br />2: PgSelectRows[201]<br />ᐳ: 200, 202, 212, 214, 216, 218"):::bucket
    Bucket27("Bucket 27 (listItem)<br />Deps: 94, 227, 12<br /><br />ROOT __Item{27}ᐸ169ᐳ[207]"):::bucket
    Bucket28("Bucket 28 (listItem)<br />Deps: 97, 232, 12<br /><br />ROOT __Item{28}ᐸ172ᐳ[209]"):::bucket
    Bucket29("Bucket 29 (nullableBoundary)<br />Deps: 207, 227, 208, 12, 220<br /><br />ROOT Edge{27}[208]"):::bucket
    Bucket30("Bucket 30 (nullableBoundary)<br />Deps: 209, 232, 210, 12, 222<br /><br />ROOT Edge{28}[210]"):::bucket
    Bucket31("Bucket 31 (combined)<br />Deps: 12"):::bucket
    Bucket32("Bucket 32 (polymorphic)<br />__typename: Access[236]<br />Deps: 236, 12, 237"):::bucket
    Bucket33("Bucket 33 (polymorphicPartition)<br />|FirstPartyVulnerability<br />Deps: 12, 237<br />(2) ...ᐳFirstPartyVulnerability<br /><br />1: PgSelect[238]<br />2: PgSelectRows[243]<br />ᐳ: 242, 244, 253, 255, 257"):::bucket
    Bucket34("Bucket 34 (polymorphicPartition)<br />|ThirdPartyVulnerability<br />Deps: 12, 237<br />(2) ...ᐳThirdPartyVulnerability<br /><br />1: PgSelect[246]<br />2: PgSelectRows[251]<br />ᐳ: 250, 252, 254, 256, 258"):::bucket
    end
    Bucket0 --> Bucket1
    Bucket1 --> Bucket3
    Bucket3 --> Bucket4
    Bucket4 --> Bucket7
    Bucket7 --> Bucket8 & Bucket9
    Bucket8 --> Bucket12
    Bucket9 --> Bucket10 & Bucket11
    Bucket10 --> Bucket15 & Bucket17 & Bucket27
    Bucket11 --> Bucket15 & Bucket18 & Bucket28
    Bucket12 --> Bucket13 & Bucket14
    Bucket15 --> Bucket16
    Bucket16 --> Bucket19 & Bucket20
    Bucket17 --> Bucket23
    Bucket18 --> Bucket23
    Bucket23 --> Bucket24
    Bucket24 --> Bucket25 & Bucket26
    Bucket27 --> Bucket29
    Bucket28 --> Bucket30
    Bucket29 --> Bucket31
    Bucket30 --> Bucket31
    Bucket31 --> Bucket32
    Bucket32 --> Bucket33 & Bucket34

    %% plan dependencies
    PgSelect9[["PgSelect[9∈0] ➊<br />ᐸpeopleᐳ<br />More deps:<br />- Object[12]<br />- Constantᐸ4ᐳ[266]"]]:::plan
    Object12{{"Object[12∈0] ➊<br />ᐸ{pgSettings,withPgClient}ᐳ<br />Dependents: 21"}}:::plan
    Access10{{"Access[10∈0] ➊<br />ᐸ2.pgSettingsᐳ"}}:::plan
    Access11{{"Access[11∈0] ➊<br />ᐸ2.withPgClientᐳ"}}:::plan
    Access10 & Access11 --> Object12
    Connection13[["Connection[13∈0] ➊<br />ᐸ9ᐳ<br />More deps:<br />- Constantᐸ4ᐳ[266]"]]:::plan
    PgSelect9 --> Connection13
    __Value2["__Value[2∈0] ➊<br />ᐸcontextᐳ"]:::plan
    __Value2 --> Access10
    __Value2 --> Access11
    ConnectionItems15[["ConnectionItems[15∈0] ➊"]]:::plan
    Connection13 --> ConnectionItems15
    __Item18[/"__Item[18∈3]<br />ᐸ15ᐳ"\]:::itemplan
    ConnectionItems15 ==> __Item18
    PgSelectSingle19{{"PgSelectSingle[19∈3]<br />ᐸpeopleᐳ"}}:::plan
    __Item18 --> PgSelectSingle19
    PgUnionAll22[["PgUnionAll[22∈4]<br />ᐸAwsApplication,GcpApplicationᐳ<br />More deps:<br />- Object[12]"]]:::plan
    PgClassExpression20{{"PgClassExpression[20∈4]<br />ᐸ__people__.”person_id”ᐳ"}}:::plan
    PgClassExpression20 --> PgUnionAll22
    PgUnionAll27[["PgUnionAll[27∈4]<br />ᐸAwsApplication,GcpApplicationᐳ<br />More deps:<br />- Object[12]"]]:::plan
    PgClassExpression20 --> PgUnionAll27
    PgSelectSingle19 --> PgClassExpression20
    PgClassExpression21{{"PgClassExpression[21∈4]<br />ᐸ__people__.”username”ᐳ"}}:::plan
    PgSelectSingle19 --> PgClassExpression21
    Connection26[["Connection[26∈4]<br />ᐸ22ᐳ"]]:::plan
    PgUnionAll22 --> Connection26
    First28{{"First[28∈4]"}}:::plan
    Access265{{"Access[265∈4]<br />ᐸ27.itemsᐳ"}}:::plan
    Access265 --> First28
    PgClassExpression31{{"PgClassExpression[31∈4]<br />ᐸcount(*)ᐳ"}}:::plan
    First28 --> PgClassExpression31
    ConnectionItems32[["ConnectionItems[32∈4]"]]:::plan
    Connection26 --> ConnectionItems32
    PgUnionAll27 --> Access265
    List43{{"List[43∈7]<br />ᐸ40,41,42ᐳ<br />More deps:<br />- Constantᐸ[HIDDEN]ᐳ[42]"}}:::plan
    Access40{{"Access[40∈7]<br />ᐸ37.0ᐳ"}}:::plan
    Access41{{"Access[41∈7]<br />ᐸ37.1ᐳ"}}:::plan
    Access40 & Access41 --> List43
    Edge38{{"Edge[38∈7]"}}:::plan
    __Item37[/"__Item[37∈7]<br />ᐸ32ᐳ"\]:::itemplan
    PgCursor64{{"PgCursor[64∈7]"}}:::plan
    __Item37 & PgCursor64 --> Edge38
    Access63{{"Access[63∈7]<br />ᐸ22.cursorDetailsᐳ"}}:::plan
    __Item37 & Access63 --> PgCursor64
    ConnectionItems32 ==> __Item37
    __Item37 --> Access40
    __Item37 --> Access41
    Lambda44{{"Lambda[44∈7]<br />ᐸtoSpecifierᐳ"}}:::plan
    List43 --> Lambda44
    Access46{{"Access[46∈7]<br />ᐸ44.__typenameᐳ"}}:::plan
    Lambda44 -->|rejectNull| Access46
    Access47{{"Access[47∈7]<br />ᐸ44.idᐳ"}}:::plan
    Lambda44 -->|rejectNull| Access47
    PgUnionAll22 --> Access63
    Access107{{"Access[107∈7]<br />ᐸ44.idᐳ"}}:::plan
    Lambda44 -->|rejectNull| Access107
    Access106{{"Access[106∈8]<br />ᐸ44.__typenameᐳ"}}:::plan
    Access46 o--o|rejectNull| Access106
    PgUnionAll74[["PgUnionAll[74∈10]^<br />ᐸPerson,Organizationᐳ<br />More deps:<br />- Object[12]"]]:::plan
    PgClassExpression72{{"PgClassExpression[72∈10]^<br />ᐸ__aws_appl...person_id”ᐳ"}}:::plan
    PgClassExpression73{{"PgClassExpression[73∈10]^<br />ᐸ__aws_appl...zation_id”ᐳ"}}:::plan
    PgClassExpression72 & PgClassExpression73 --> PgUnionAll74
    List128{{"List[128∈10]^<br />ᐸ125,126,127ᐳ<br />More deps:<br />- Constantᐸ[HIDDEN]ᐳ[127]"}}:::plan
    Access125{{"Access[125∈10]^<br />ᐸ78.0ᐳ"}}:::plan
    Access126{{"Access[126∈10]^<br />ᐸ78.1ᐳ"}}:::plan
    Access125 & Access126 --> List128
    PgSelect48[["PgSelect[48∈10]<br />ᐸaws_applicationsᐳ<br />ᐳAwsApplication<br />More deps:<br />- Object[12]"]]:::plan
    Access47 --> PgSelect48
    PgUnionAll90[["PgUnionAll[90∈10]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ<br />More deps:<br />- Object[12]"]]:::plan
    PgClassExpression68{{"PgClassExpression[68∈10]^<br />ᐸ__aws_appl...ons__.”id”ᐳ"}}:::plan
    PgClassExpression68 --> PgUnionAll90
    PgUnionAll94[["PgUnionAll[94∈10]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ<br />More deps:<br />- Object[12]"]]:::plan
    PgClassExpression68 --> PgUnionAll94
    PgUnionAll159[["PgUnionAll[159∈10]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ<br />More deps:<br />- Object[12]"]]:::plan
    PgClassExpression68 --> PgUnionAll159
    First52{{"First[52∈10]^"}}:::plan
    PgSelectRows53[["PgSelectRows[53∈10]^"]]:::plan
    PgSelectRows53 --> First52
    PgSelect48 --> PgSelectRows53
    PgSelectSingle54{{"PgSelectSingle[54∈10]^<br />ᐸaws_applicationsᐳ"}}:::plan
    First52 --> PgSelectSingle54
    PgClassExpression66{{"PgClassExpression[66∈10]^<br />ᐸ__aws_appl..._.”aws_id”ᐳ"}}:::plan
    PgSelectSingle54 --> PgClassExpression66
    PgSelectSingle54 --> PgClassExpression68
    PgClassExpression70{{"PgClassExpression[70∈10]^<br />ᐸ__aws_appl...s__.”name”ᐳ"}}:::plan
    PgClassExpression66 o--o PgClassExpression70
    PgSelectSingle54 --> PgClassExpression72
    PgSelectSingle54 --> PgClassExpression73
    First78{{"First[78∈10]^"}}:::plan
    Access261{{"Access[261∈10]^<br />ᐸ74.itemsᐳ"}}:::plan
    Access261 --> First78
    Connection96[["Connection[96∈10]^<br />ᐸ94ᐳ"]]:::plan
    PgUnionAll94 --> Connection96
    First78 --> Access125
    First78 --> Access126
    Lambda129{{"Lambda[129∈10]^<br />ᐸtoSpecifierᐳ"}}:::plan
    List128 --> Lambda129
    First160{{"First[160∈10]^"}}:::plan
    Access260{{"Access[260∈10]^<br />ᐸ159.itemsᐳ"}}:::plan
    Access260 --> First160
    PgClassExpression163{{"PgClassExpression[163∈10]^<br />ᐸcount(*)ᐳ"}}:::plan
    First160 --> PgClassExpression163
    ConnectionItems169[["ConnectionItems[169∈10]^"]]:::plan
    Connection96 --> ConnectionItems169
    Access259{{"Access[259∈10]^<br />ᐸ90.itemsᐳ"}}:::plan
    PgUnionAll90 --> Access259
    PgUnionAll159 --> Access260
    PgUnionAll74 --> Access261
    PgUnionAll83[["PgUnionAll[83∈11]^<br />ᐸPerson,Organizationᐳ<br />More deps:<br />- Object[12]"]]:::plan
    PgClassExpression81{{"PgClassExpression[81∈11]^<br />ᐸ__gcp_appl...person_id”ᐳ"}}:::plan
    PgClassExpression82{{"PgClassExpression[82∈11]^<br />ᐸ__gcp_appl...zation_id”ᐳ"}}:::plan
    PgClassExpression81 & PgClassExpression82 --> PgUnionAll83
    List133{{"List[133∈11]^<br />ᐸ130,131,132ᐳ<br />More deps:<br />- Constantᐸ[HIDDEN]ᐳ[132]"}}:::plan
    Access130{{"Access[130∈11]^<br />ᐸ87.0ᐳ"}}:::plan
    Access131{{"Access[131∈11]^<br />ᐸ87.1ᐳ"}}:::plan
    Access130 & Access131 --> List133
    PgSelect56[["PgSelect[56∈11]<br />ᐸgcp_applicationsᐳ<br />ᐳGcpApplication<br />More deps:<br />- Object[12]"]]:::plan
    Access47 --> PgSelect56
    PgUnionAll92[["PgUnionAll[92∈11]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ<br />More deps:<br />- Object[12]"]]:::plan
    PgClassExpression69{{"PgClassExpression[69∈11]^<br />ᐸ__gcp_appl...ons__.”id”ᐳ"}}:::plan
    PgClassExpression69 --> PgUnionAll92
    PgUnionAll97[["PgUnionAll[97∈11]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ<br />More deps:<br />- Object[12]"]]:::plan
    PgClassExpression69 --> PgUnionAll97
    PgUnionAll164[["PgUnionAll[164∈11]^<br />ᐸFirstPartyVulnerability,ThirdPartyVulnerabilityᐳ<br />More deps:<br />- Object[12]"]]:::plan
    PgClassExpression69 --> PgUnionAll164
    First60{{"First[60∈11]^"}}:::plan
    PgSelectRows61[["PgSelectRows[61∈11]^"]]:::plan
    PgSelectRows61 --> First60
    PgSelect56 --> PgSelectRows61
    PgSelectSingle62{{"PgSelectSingle[62∈11]^<br />ᐸgcp_applicationsᐳ"}}:::plan
    First60 --> PgSelectSingle62
    PgClassExpression67{{"PgClassExpression[67∈11]^<br />ᐸ__gcp_appl..._.”gcp_id”ᐳ"}}:::plan
    PgSelectSingle62 --> PgClassExpression67
    PgSelectSingle62 --> PgClassExpression69
    PgClassExpression71{{"PgClassExpression[71∈11]^<br />ᐸ__gcp_appl...s__.”name”ᐳ"}}:::plan
    PgClassExpression67 o--o PgClassExpression71
    PgSelectSingle62 --> PgClassExpression81
    PgSelectSingle62 --> PgClassExpression82
    First87{{"First[87∈11]^"}}:::plan
    Access264{{"Access[264∈11]^<br />ᐸ83.itemsᐳ"}}:::plan
    Access264 --> First87
    Connection99[["Connection[99∈11]^<br />ᐸ97ᐳ"]]:::plan
    PgUnionAll97 --> Connection99
    First87 --> Access130
    First87 --> Access131
    Lambda134{{"Lambda[134∈11]^<br />ᐸtoSpecifierᐳ"}}:::plan
    List133 --> Lambda134
    First165{{"First[165∈11]^"}}:::plan
    Access263{{"Access[263∈11]^<br />ᐸ164.itemsᐳ"}}:::plan
    Access263 --> First165
    PgClassExpression168{{"PgClassExpression[168∈11]^<br />ᐸcount(*)ᐳ"}}:::plan
    First165 --> PgClassExpression168
    ConnectionItems172[["ConnectionItems[172∈11]^"]]:::plan
    Connection99 --> ConnectionItems172
    Access262{{"Access[262∈11]^<br />ᐸ92.itemsᐳ"}}:::plan
    PgUnionAll92 --> Access262
    PgUnionAll164 --> Access263
    PgUnionAll83 --> Access264
    PgSelect108[["PgSelect[108∈13]<br />ᐸaws_applicationsᐳ<br />ᐳAwsApplication<br />More deps:<br />- Object[12]"]]:::plan
    Access107 --> PgSelect108
    First112{{"First[112∈13]^"}}:::plan
    PgSelectRows113[["PgSelectRows[113∈13]^"]]:::plan
    PgSelectRows113 --> First112
    PgSelect108 --> PgSelectRows113
    PgSelectSingle114{{"PgSelectSingle[114∈13]^<br />ᐸaws_applicationsᐳ"}}:::plan
    First112 --> PgSelectSingle114
    PgClassExpression157{{"PgClassExpression[157∈13]^<br />ᐸ__aws_appl...ons__.”id”ᐳ"}}:::plan
    PgSelectSingle114 --> PgClassExpression157
    PgSelect116[["PgSelect[116∈14]<br />ᐸgcp_applicationsᐳ<br />ᐳGcpApplication<br />More deps:<br />- Object[12]"]]:::plan
    Access107 --> PgSelect116
    First120{{"First[120∈14]^"}}:::plan
    PgSelectRows121[["PgSelectRows[121∈14]^"]]:::plan
    PgSelectRows121 --> First120
    PgSelect116 --> PgSelectRows121
    PgSelectSingle122{{"PgSelectSingle[122∈14]^<br />ᐸgcp_applicationsᐳ"}}:::plan
    First120 --> PgSelectSingle122
    PgClassExpression158{{"PgClassExpression[158∈14]^<br />ᐸ__gcp_appl...ons__.”id”ᐳ"}}:::plan
    PgSelectSingle122 --> PgClassExpression158
    Access136{{"Access[136∈15]^<br />ᐸ135.__typenameᐳ"}}:::plan
    __Value135:::plan@{shape: docs, label: "__Combined[135∈15]<br />ᐳAwsApplication<br />ᐳGcpApplication"}
    __Value135 --> Access136
    List178{{"List[178∈17]^<br />ᐸ175,176,177ᐳ<br />More deps:<br />- Constantᐸ[HIDDEN]ᐳ[177]"}}:::plan
    Access175{{"Access[175∈17]^<br />ᐸ153.0ᐳ"}}:::plan
    Access176{{"Access[176∈17]^<br />ᐸ153.1ᐳ"}}:::plan
    Access175 & Access176 --> List178
    __Item153[/"__Item[153∈17]<br />ᐸ259ᐳ<br />ᐳAwsApplication"\]:::itemplan
    Access259 ==> __Item153
    __Item153 --> Access175
    __Item153 --> Access176
    Lambda179{{"Lambda[179∈17]^<br />ᐸtoSpecifierᐳ"}}:::plan
    List178 --> Lambda179
    List183{{"List[183∈18]^<br />ᐸ180,181,182ᐳ<br />More deps:<br />- Constantᐸ[HIDDEN]ᐳ[182]"}}:::plan
    Access180{{"Access[180∈18]^<br />ᐸ155.0ᐳ"}}:::plan
    Access181{{"Access[181∈18]^<br />ᐸ155.1ᐳ"}}:::plan
    Access180 & Access181 --> List183
    __Item155[/"__Item[155∈18]<br />ᐸ262ᐳ<br />ᐳGcpApplication"\]:::itemplan
    Access262 ==> __Item155
    __Item155 --> Access180
    __Item155 --> Access181
    Lambda184{{"Lambda[184∈18]^<br />ᐸtoSpecifierᐳ"}}:::plan
    List183 --> Lambda184
    PgSelect138[["PgSelect[138∈19]^<br />ᐸorganizationsᐳ<br />More deps:<br />- Object[12]"]]:::plan
    Access137{{"Access[137∈19]<br />ᐸ135.organization_idᐳ<br />(2) ...ᐳOrganization"}}:::plan
    Access137 --> PgSelect138
    __Value135 --> Access137
    First142{{"First[142∈19]^"}}:::plan
    PgSelectRows143[["PgSelectRows[143∈19]^"]]:::plan
    PgSelectRows143 --> First142
    PgSelect138 --> PgSelectRows143
    PgSelectSingle144{{"PgSelectSingle[144∈19]^<br />ᐸorganizationsᐳ"}}:::plan
    First142 --> PgSelectSingle144
    PgClassExpression203{{"PgClassExpression[203∈19]^<br />ᐸ__organiza...zation_id”ᐳ"}}:::plan
    PgSelectSingle144 --> PgClassExpression203
    PgClassExpression205{{"PgClassExpression[205∈19]^<br />ᐸ__organiza...s__.”name”ᐳ"}}:::plan
    PgClassExpression203 o--o PgClassExpression205
    PgSelect146[["PgSelect[146∈20]^<br />ᐸpeopleᐳ<br />More deps:<br />- Object[12]"]]:::plan
    Access145{{"Access[145∈20]<br />ᐸ135.person_idᐳ<br />(2) ...ᐳPerson"}}:::plan
    Access145 --> PgSelect146
    __Value135 --> Access145
    First150{{"First[150∈20]^"}}:::plan
    PgSelectRows151[["PgSelectRows[151∈20]^"]]:::plan
    PgSelectRows151 --> First150
    PgSelect146 --> PgSelectRows151
    PgSelectSingle152{{"PgSelectSingle[152∈20]^<br />ᐸpeopleᐳ"}}:::plan
    First150 --> PgSelectSingle152
    PgClassExpression204{{"PgClassExpression[204∈20]^<br />ᐸ__people__.”person_id”ᐳ"}}:::plan
    PgSelectSingle152 --> PgClassExpression204
    PgClassExpression206{{"PgClassExpression[206∈20]^<br />ᐸ__people__.”username”ᐳ"}}:::plan
    PgClassExpression204 o--o PgClassExpression206
    Access186{{"Access[186∈23]^<br />ᐸ185.__typenameᐳ"}}:::plan
    __Value185:::plan@{shape: docs, label: "__Combined[185∈23]<br />ᐳAwsApplication<br />ᐳGcpApplication"}
    __Value185 --> Access186
    Access187{{"Access[187∈23]^<br />ᐸ185.idᐳ"}}:::plan
    __Value185 --> Access187
    PgSelect188[["PgSelect[188∈25]<br />ᐸfirst_party_vulnerabilitiesᐳ<br />(2) ...ᐳFirstPartyVulnerability<br />More deps:<br />- Object[12]"]]:::plan
    Access187 --> PgSelect188
    First192{{"First[192∈25]^"}}:::plan
    PgSelectRows193[["PgSelectRows[193∈25]^"]]:::plan
    PgSelectRows193 --> First192
    PgSelect188 --> PgSelectRows193
    PgSelectSingle194{{"PgSelectSingle[194∈25]^<br />ᐸfirst_party_vulnerabilitiesᐳ"}}:::plan
    First192 --> PgSelectSingle194
    PgClassExpression211{{"PgClassExpression[211∈25]^<br />ᐸ__first_pa...team_name”ᐳ"}}:::plan
    PgSelectSingle194 --> PgClassExpression211
    PgClassExpression213{{"PgClassExpression[213∈25]^<br />ᐸ__first_pa...ies__.”id”ᐳ"}}:::plan
    PgClassExpression211 o--o PgClassExpression213
    PgClassExpression215{{"PgClassExpression[215∈25]^<br />ᐸ__first_pa...vss_score”ᐳ"}}:::plan
    PgClassExpression213 o--o PgClassExpression215
    PgClassExpression217{{"PgClassExpression[217∈25]^<br />ᐸ__first_pa...s__.”name”ᐳ"}}:::plan
    PgClassExpression215 o--o PgClassExpression217
    PgSelect196[["PgSelect[196∈26]<br />ᐸthird_party_vulnerabilitiesᐳ<br />(2) ...ᐳThirdPartyVulnerability<br />More deps:<br />- Object[12]"]]:::plan
    Access187 --> PgSelect196
    First200{{"First[200∈26]^"}}:::plan
    PgSelectRows201[["PgSelectRows[201∈26]^"]]:::plan
    PgSelectRows201 --> First200
    PgSelect196 --> PgSelectRows201
    PgSelectSingle202{{"PgSelectSingle[202∈26]^<br />ᐸthird_party_vulnerabilitiesᐳ"}}:::plan
    First200 --> PgSelectSingle202
    PgClassExpression212{{"PgClassExpression[212∈26]^<br />ᐸ__third_pa...ndor_name”ᐳ"}}:::plan
    PgSelectSingle202 --> PgClassExpression212
    PgClassExpression214{{"PgClassExpression[214∈26]^<br />ᐸ__third_pa...ies__.”id”ᐳ"}}:::plan
    PgClassExpression212 o--o PgClassExpression214
    PgClassExpression216{{"PgClassExpression[216∈26]^<br />ᐸ__third_pa...vss_score”ᐳ"}}:::plan
    PgClassExpression214 o--o PgClassExpression216
    PgClassExpression218{{"PgClassExpression[218∈26]^<br />ᐸ__third_pa...s__.”name”ᐳ"}}:::plan
    PgClassExpression216 o--o PgClassExpression218
    Edge208{{"Edge[208∈27]^"}}:::plan
    __Item207[/"__Item[207∈27]<br />ᐸ169ᐳ<br />ᐳAwsApplication"\]:::itemplan
    PgCursor220{{"PgCursor[220∈27]^"}}:::plan
    __Item207 & PgCursor220 --> Edge208
    Access219{{"Access[219∈27]<br />ᐸ94.cursorDetailsᐳ<br />ᐳAwsApplication"}}:::plan
    __Item207 & Access219 --> PgCursor220
    ConnectionItems169 ==> __Item207
    PgUnionAll94 --> Access219
    Edge210{{"Edge[210∈28]^"}}:::plan
    __Item209[/"__Item[209∈28]<br />ᐸ172ᐳ<br />ᐳGcpApplication"\]:::itemplan
    PgCursor222{{"PgCursor[222∈28]^"}}:::plan
    __Item209 & PgCursor222 --> Edge210
    Access221{{"Access[221∈28]<br />ᐸ97.cursorDetailsᐳ<br />ᐳGcpApplication"}}:::plan
    __Item209 & Access221 --> PgCursor222
    ConnectionItems172 ==> __Item209
    PgUnionAll97 --> Access221
    List228{{"List[228∈29]^<br />ᐸ225,226,227ᐳ<br />More deps:<br />- Constantᐸ[HIDDEN]ᐳ[227]"}}:::plan
    Access225{{"Access[225∈29]<br />ᐸ207.0ᐳ<br />ᐳAwsApplication"}}:::plan
    Access226{{"Access[226∈29]<br />ᐸ207.1ᐳ<br />ᐳAwsApplication"}}:::plan
    Access225 & Access226 --> List228
    __Item207 --> Access225
    __Item207 --> Access226
    Lambda229{{"Lambda[229∈29]^<br />ᐸtoSpecifierᐳ"}}:::plan
    List228 --> Lambda229
    List233{{"List[233∈30]^<br />ᐸ230,231,232ᐳ<br />More deps:<br />- Constantᐸ[HIDDEN]ᐳ[232]"}}:::plan
    Access230{{"Access[230∈30]<br />ᐸ209.0ᐳ<br />ᐳGcpApplication"}}:::plan
    Access231{{"Access[231∈30]<br />ᐸ209.1ᐳ<br />ᐳGcpApplication"}}:::plan
    Access230 & Access231 --> List233
    __Item209 --> Access230
    __Item209 --> Access231
    Lambda234{{"Lambda[234∈30]^<br />ᐸtoSpecifierᐳ"}}:::plan
    List233 --> Lambda234
    Access236{{"Access[236∈31]^<br />ᐸ235.__typenameᐳ"}}:::plan
    __Value235:::plan@{shape: docs, label: "__Combined[235∈31]<br />ᐳAwsApplication<br />ᐳGcpApplication"}
    __Value235 --> Access236
    Access237{{"Access[237∈31]^<br />ᐸ235.idᐳ"}}:::plan
    __Value235 --> Access237
    PgSelect238[["PgSelect[238∈33]<br />ᐸfirst_party_vulnerabilitiesᐳ<br />(2) ...ᐳFirstPartyVulnerability<br />More deps:<br />- Object[12]"]]:::plan
    Access237 --> PgSelect238
    First242{{"First[242∈33]^"}}:::plan
    PgSelectRows243[["PgSelectRows[243∈33]^"]]:::plan
    PgSelectRows243 --> First242
    PgSelect238 --> PgSelectRows243
    PgSelectSingle244{{"PgSelectSingle[244∈33]^<br />ᐸfirst_party_vulnerabilitiesᐳ"}}:::plan
    First242 --> PgSelectSingle244
    PgClassExpression253{{"PgClassExpression[253∈33]^<br />ᐸ__first_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle244 --> PgClassExpression253
    PgClassExpression255{{"PgClassExpression[255∈33]^<br />ᐸ__first_pa...ies__.”id”ᐳ"}}:::plan
    PgClassExpression253 o--o PgClassExpression255
    PgClassExpression257{{"PgClassExpression[257∈33]^<br />ᐸ__first_pa...s__.”name”ᐳ"}}:::plan
    PgClassExpression255 o--o PgClassExpression257
    PgSelect246[["PgSelect[246∈34]<br />ᐸthird_party_vulnerabilitiesᐳ<br />(2) ...ᐳThirdPartyVulnerability<br />More deps:<br />- Object[12]"]]:::plan
    Access237 --> PgSelect246
    First250{{"First[250∈34]^"}}:::plan
    PgSelectRows251[["PgSelectRows[251∈34]^"]]:::plan
    PgSelectRows251 --> First250
    PgSelect246 --> PgSelectRows251
    PgSelectSingle252{{"PgSelectSingle[252∈34]^<br />ᐸthird_party_vulnerabilitiesᐳ"}}:::plan
    First250 --> PgSelectSingle252
    PgClassExpression254{{"PgClassExpression[254∈34]^<br />ᐸ__third_pa...vss_score”ᐳ"}}:::plan
    PgSelectSingle252 --> PgClassExpression254
    PgClassExpression256{{"PgClassExpression[256∈34]^<br />ᐸ__third_pa...ies__.”id”ᐳ"}}:::plan
    PgClassExpression254 o--o PgClassExpression256
    PgClassExpression258{{"PgClassExpression[258∈34]^<br />ᐸ__third_pa...s__.”name”ᐳ"}}:::plan
    PgClassExpression256 o--o PgClassExpression258

    %% define steps
    classDef bucket0 stroke:#696969
    class Bucket0,__Value2,PgSelect9,Access10,Access11,Object12,Connection13,ConnectionItems15 bucket0
    classDef bucket1 stroke:#00bfff
    class Bucket1 bucket1
    classDef bucket3 stroke:#ffa500
    class Bucket3,__Item18,PgSelectSingle19 bucket3
    classDef bucket4 stroke:#0000ff
    class Bucket4,PgClassExpression20,PgClassExpression21,PgUnionAll22,Connection26,PgUnionAll27,First28,PgClassExpression31,ConnectionItems32,Access265 bucket4
    classDef bucket7 stroke:#808000
    class Bucket7,__Item37,Edge38,Access40,Access41,List43,Lambda44,Access46,Access47,Access63,PgCursor64,Access107 bucket7
    classDef bucket8 stroke:#dda0dd
    class Bucket8,Access106 bucket8
    classDef bucket9 stroke:#ff0000
    class Bucket9 bucket9
    classDef bucket10 stroke:#ffff00
    class Bucket10,PgSelect48,First52,PgSelectRows53,PgSelectSingle54,PgClassExpression66,PgClassExpression68,PgClassExpression70,PgClassExpression72,PgClassExpression73,PgUnionAll74,First78,PgUnionAll90,PgUnionAll94,Connection96,Access125,Access126,List128,Lambda129,PgUnionAll159,First160,PgClassExpression163,ConnectionItems169,Access259,Access260,Access261 bucket10
    classDef bucket11 stroke:#00ffff
    class Bucket11,PgSelect56,First60,PgSelectRows61,PgSelectSingle62,PgClassExpression67,PgClassExpression69,PgClassExpression71,PgClassExpression81,PgClassExpression82,PgUnionAll83,First87,PgUnionAll92,PgUnionAll97,Connection99,Access130,Access131,List133,Lambda134,PgUnionAll164,First165,PgClassExpression168,ConnectionItems172,Access262,Access263,Access264 bucket11
    classDef bucket12 stroke:#4169e1
    class Bucket12 bucket12
    classDef bucket13 stroke:#3cb371
    class Bucket13,PgSelect108,First112,PgSelectRows113,PgSelectSingle114,PgClassExpression157 bucket13
    classDef bucket14 stroke:#a52a2a
    class Bucket14,PgSelect116,First120,PgSelectRows121,PgSelectSingle122,PgClassExpression158 bucket14
    classDef bucket15 stroke:#ff00ff
    class Bucket15,__Value135,Access136 bucket15
    classDef bucket16 stroke:#f5deb3
    class Bucket16 bucket16
    classDef bucket17 stroke:#696969
    class Bucket17,__Item153,Access175,Access176,List178,Lambda179 bucket17
    classDef bucket18 stroke:#00bfff
    class Bucket18,__Item155,Access180,Access181,List183,Lambda184 bucket18
    classDef bucket19 stroke:#7f007f
    class Bucket19,Access137,PgSelect138,First142,PgSelectRows143,PgSelectSingle144,PgClassExpression203,PgClassExpression205 bucket19
    classDef bucket20 stroke:#ffa500
    class Bucket20,Access145,PgSelect146,First150,PgSelectRows151,PgSelectSingle152,PgClassExpression204,PgClassExpression206 bucket20
    classDef bucket23 stroke:#ff1493
    class Bucket23,__Value185,Access186,Access187 bucket23
    classDef bucket24 stroke:#808000
    class Bucket24 bucket24
    classDef bucket25 stroke:#dda0dd
    class Bucket25,PgSelect188,First192,PgSelectRows193,PgSelectSingle194,PgClassExpression211,PgClassExpression213,PgClassExpression215,PgClassExpression217 bucket25
    classDef bucket26 stroke:#ff0000
    class Bucket26,PgSelect196,First200,PgSelectRows201,PgSelectSingle202,PgClassExpression212,PgClassExpression214,PgClassExpression216,PgClassExpression218 bucket26
    classDef bucket27 stroke:#ffff00
    class Bucket27,__Item207,Edge208,Access219,PgCursor220 bucket27
    classDef bucket28 stroke:#00ffff
    class Bucket28,__Item209,Edge210,Access221,PgCursor222 bucket28
    classDef bucket29 stroke:#4169e1
    class Bucket29,Access225,Access226,List228,Lambda229 bucket29
    classDef bucket30 stroke:#3cb371
    class Bucket30,Access230,Access231,List233,Lambda234 bucket30
    classDef bucket31 stroke:#a52a2a
    class Bucket31,__Value235,Access236,Access237 bucket31
    classDef bucket32 stroke:#ff00ff
    class Bucket32 bucket32
    classDef bucket33 stroke:#f5deb3
    class Bucket33,PgSelect238,First242,PgSelectRows243,PgSelectSingle244,PgClassExpression253,PgClassExpression255,PgClassExpression257 bucket33
    classDef bucket34 stroke:#696969
    class Bucket34,PgSelect246,First250,PgSelectRows251,PgSelectSingle252,PgClassExpression254,PgClassExpression256,PgClassExpression258 bucket34

    Lambda129 -.-x __Value135
    Lambda134 -.-x __Value135
    Lambda179 -.-x __Value185
    Lambda184 -.-x __Value185
    Lambda229 -.-x __Value235
    Lambda234 -.-x __Value235
