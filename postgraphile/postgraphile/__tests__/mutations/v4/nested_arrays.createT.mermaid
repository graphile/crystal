%%{init: {'themeVariables': { 'fontSize': '12px'}}}%%
graph TD
    classDef path fill:#eee,stroke:#000,color:#000
    classDef plan fill:#fff,stroke-width:1px,color:#000
    classDef itemplan fill:#fff,stroke-width:2px,color:#000
    classDef unbatchedplan fill:#dff,stroke-width:1px,color:#000
    classDef sideeffectplan fill:#fcc,stroke-width:2px,color:#000
    classDef bucket fill:#f6f6f6,color:#000,stroke-width:2px,text-align:left


    %% plan dependencies
    List153{{"List[153∈0] ➊<br />ᐸ57,122,185,185,185,185,185,185ᐳ"}}:::plan
    List57{{"List[57∈0] ➊<br />ᐸ32ᐳ"}}:::plan
    List122{{"List[122∈0] ➊<br />ᐸ67,97ᐳ"}}:::plan
    Constant185{{"Constant[185∈0] ➊<br />ᐸ[]ᐳ"}}:::plan
    List57 & List122 & Constant185 & Constant185 & Constant185 & Constant185 & Constant185 & Constant185 --> List153
    Object32{{"Object[32∈0] ➊<br />ᐸ{from_hours,from_minutes,to_hours,to_minutes}ᐳ"}}:::plan
    Access37{{"Access[37∈0] ➊<br />ᐸ0.input.t.v.0.0.fromHoursᐳ"}}:::plan
    Access43{{"Access[43∈0] ➊<br />ᐸ0.input.t.v.0.0.fromMinutesᐳ"}}:::plan
    Access49{{"Access[49∈0] ➊<br />ᐸ0.input.t.v.0.0.toHoursᐳ"}}:::plan
    Access55{{"Access[55∈0] ➊<br />ᐸ0.input.t.v.0.0.toMinutesᐳ"}}:::plan
    Access37 & Access43 & Access49 & Access55 --> Object32
    Object67{{"Object[67∈0] ➊<br />ᐸ{from_hours,from_minutes,to_hours,to_minutes}ᐳ"}}:::plan
    Access72{{"Access[72∈0] ➊<br />ᐸ0.input.t.v.1.0.fromHoursᐳ"}}:::plan
    Access78{{"Access[78∈0] ➊<br />ᐸ0.input.t.v.1.0.fromMinutesᐳ"}}:::plan
    Access84{{"Access[84∈0] ➊<br />ᐸ0.input.t.v.1.0.toHoursᐳ"}}:::plan
    Access90{{"Access[90∈0] ➊<br />ᐸ0.input.t.v.1.0.toMinutesᐳ"}}:::plan
    Access72 & Access78 & Access84 & Access90 --> Object67
    Object97{{"Object[97∈0] ➊<br />ᐸ{from_hours,from_minutes,to_hours,to_minutes}ᐳ"}}:::plan
    Access102{{"Access[102∈0] ➊<br />ᐸ0.input.t.v.1.1.fromHoursᐳ"}}:::plan
    Access108{{"Access[108∈0] ➊<br />ᐸ0.input.t.v.1.1.fromMinutesᐳ"}}:::plan
    Access114{{"Access[114∈0] ➊<br />ᐸ0.input.t.v.1.1.toHoursᐳ"}}:::plan
    Access120{{"Access[120∈0] ➊<br />ᐸ0.input.t.v.1.1.toMinutesᐳ"}}:::plan
    Access102 & Access108 & Access114 & Access120 --> Object97
    Object11{{"Object[11∈0] ➊<br />ᐸ{pgSettings,withPgClient}ᐳ"}}:::plan
    Access9{{"Access[9∈0] ➊<br />ᐸ2.pgSettingsᐳ"}}:::plan
    Access10{{"Access[10∈0] ➊<br />ᐸ2.withPgClientᐳ"}}:::plan
    Access9 & Access10 --> Object11
    Object67 & Object97 --> List122
    __Value2["__Value[2∈0] ➊<br />ᐸcontextᐳ"]:::plan
    __Value2 --> Access9
    __Value2 --> Access10
    __Value0["__Value[0∈0] ➊<br />ᐸvariableValuesᐳ"]:::plan
    __Value0 --> Access37
    __Value0 --> Access43
    __Value0 --> Access49
    __Value0 --> Access55
    Object32 --> List57
    __Value0 --> Access72
    __Value0 --> Access78
    __Value0 --> Access84
    __Value0 --> Access90
    __Value0 --> Access102
    __Value0 --> Access108
    __Value0 --> Access114
    __Value0 --> Access120
    Lambda171{{"Lambda[171∈0] ➊<br />ᐸcalculateShouldReverseOrderᐳ"}}:::plan
    Constant186{{"Constant[186∈0] ➊<br />ᐸ§{ first: null, last: null, cursorLower: null, cursorUpper: ᐳ"}}:::plan
    Constant186 --> Lambda171
    __Value4["__Value[4∈0] ➊<br />ᐸrootValueᐳ"]:::plan
    Constant175{{"Constant[175∈0] ➊<br />ᐸ[]ᐳ"}}:::plan
    Constant176{{"Constant[176∈0] ➊<br />ᐸ{ s: Symbol(frmcdc_workHour), n: 'frmcdc_work_hour', [Symbolᐳ"}}:::plan
    Constant177{{"Constant[177∈0] ➊<br />ᐸ{ name: 'workHour', sqlType: { t: '”nested_arrays”.”work_houᐳ"}}:::plan
    Constant187{{"Constant[187∈0] ➊<br />ᐸ§{ cursorLower: null, cursorUpper: null, first: null, last: ᐳ"}}:::plan
    Constant188{{"Constant[188∈0] ➊<br />ᐸ§{ reverse: false, orders: [], alias: { s: Symbol(frmcdc_worᐳ"}}:::plan
    PgInsertSingle8[["PgInsertSingle[8∈1] ➊<br />ᐸt(v)ᐳ"]]:::sideeffectplan
    Object11 & List153 --> PgInsertSingle8
    Object12{{"Object[12∈1] ➊<br />ᐸ{result}ᐳ"}}:::plan
    PgInsertSingle8 --> Object12
    Object178{{"Object[178∈2] ➊<br />ᐸ{reverse,orders,alias,codec}ᐳ"}}:::plan
    Lambda171 & Constant175 & Constant176 & Constant177 --> Object178
    Lambda174{{"Lambda[174∈2] ➊<br />ᐸcalculateLimitAndOffsetSQLᐳ"}}:::plan
    Constant187 --> Lambda174
    Lambda179{{"Lambda[179∈2] ➊<br />ᐸcalculateOrderBySQLᐳ"}}:::plan
    Object178 --> Lambda179
    Lambda184{{"Lambda[184∈2] ➊<br />ᐸcalculateOrderBySQLᐳ"}}:::plan
    Constant188 --> Lambda184
    PgClassExpression154{{"PgClassExpression[154∈3] ➊<br />ᐸ__t__.”k”ᐳ"}}:::plan
    PgInsertSingle8 --> PgClassExpression154
    PgClassExpression155{{"PgClassExpression[155∈3] ➊<br />ᐸ__t__.”v”ᐳ"}}:::plan
    PgInsertSingle8 --> PgClassExpression155
    PgSelect159[["PgSelect[159∈5]<br />ᐸfrmcdc_workHourᐳ"]]:::plan
    __Item158[/"__Item[158∈5]<br />ᐸ155ᐳ"\]:::itemplan
    Object11 & __Item158 & Lambda171 & Lambda174 & Lambda179 & Lambda184 --> PgSelect159
    PgClassExpression155 ==> __Item158
    __Item163[/"__Item[163∈6]<br />ᐸ159ᐳ"\]:::itemplan
    PgSelect159 ==> __Item163
    PgSelectSingle164{{"PgSelectSingle[164∈6]<br />ᐸfrmcdc_workHourᐳ"}}:::plan
    __Item163 --> PgSelectSingle164
    PgClassExpression165{{"PgClassExpression[165∈6]<br />ᐸ__frmcdc_w...rom_hours”ᐳ"}}:::plan
    PgSelectSingle164 --> PgClassExpression165
    PgClassExpression166{{"PgClassExpression[166∈6]<br />ᐸ__frmcdc_w...m_minutes”ᐳ"}}:::plan
    PgSelectSingle164 --> PgClassExpression166
    PgClassExpression167{{"PgClassExpression[167∈6]<br />ᐸ__frmcdc_w...”to_hours”ᐳ"}}:::plan
    PgSelectSingle164 --> PgClassExpression167
    PgClassExpression168{{"PgClassExpression[168∈6]<br />ᐸ__frmcdc_w...o_minutes”ᐳ"}}:::plan
    PgSelectSingle164 --> PgClassExpression168

    %% define steps

    subgraph "Buckets for mutations/v4/nested_arrays.createT"
    Bucket0("Bucket 0 (root)"):::bucket
    classDef bucket0 stroke:#696969
    class Bucket0,__Value0,__Value2,__Value4,Access9,Access10,Object11,Object32,Access37,Access43,Access49,Access55,List57,Object67,Access72,Access78,Access84,Access90,Object97,Access102,Access108,Access114,Access120,List122,List153,Lambda171,Constant175,Constant176,Constant177,Constant185,Constant186,Constant187,Constant188 bucket0
    Bucket1("Bucket 1 (mutationField)<br />Deps: 11, 153, 187, 171, 175, 176, 177, 188<br /><br />1: PgInsertSingle[8]<br />2: <br />ᐳ: Object[12]"):::bucket
    classDef bucket1 stroke:#00bfff
    class Bucket1,PgInsertSingle8,Object12 bucket1
    Bucket2("Bucket 2 (nullableBoundary)<br />Deps: 187, 171, 175, 176, 177, 188, 12, 8, 11<br /><br />ROOT Object{1}ᐸ{result}ᐳ[12]"):::bucket
    classDef bucket2 stroke:#7f007f
    class Bucket2,Lambda174,Object178,Lambda179,Lambda184 bucket2
    Bucket3("Bucket 3 (nullableBoundary)<br />Deps: 8, 11, 171, 174, 179, 184<br /><br />ROOT PgInsertSingle{1}ᐸt(v)ᐳ[8]"):::bucket
    classDef bucket3 stroke:#ffa500
    class Bucket3,PgClassExpression154,PgClassExpression155 bucket3
    Bucket5("Bucket 5 (listItem)<br />Deps: 11, 171, 174, 179, 184<br /><br />ROOT __Item{5}ᐸ155ᐳ[158]"):::bucket
    classDef bucket5 stroke:#7fff00
    class Bucket5,__Item158,PgSelect159 bucket5
    Bucket6("Bucket 6 (listItem)<br /><br />ROOT __Item{6}ᐸ159ᐳ[163]"):::bucket
    classDef bucket6 stroke:#ff1493
    class Bucket6,__Item163,PgSelectSingle164,PgClassExpression165,PgClassExpression166,PgClassExpression167,PgClassExpression168 bucket6
    Bucket0 --> Bucket1
    Bucket1 --> Bucket2
    Bucket2 --> Bucket3
    Bucket3 --> Bucket5
    Bucket5 --> Bucket6
    end
